<module>
<baseinfo>
name=畅言评论模块
team=畅言团队
time=2015-10-20
email=changyan@sohu-inc.com
url=http://changyan.kuaizhan.com
hash=a202ee8bb748e7ca1381da1c95c93734
indexname=0
indexurl=
ismember=0
autosetup=1
autodel=1
lang=gb2312
moduletype=soft
</baseinfo>
<systemfile>
<menustring>
PG06dG9wIG5hbWU9J7Op0dTGwMLbJyBkaXNwbGF5PSdibG9jayc+DQo8bTppdGVtIG5hbWU9J7Op0dTEo7/pJyBsaW5rPSdjaGFuZ3lhbl9tYWluLnBocCcgcmFuaz0nc3lzX0ZlZWRiYWNrJyB0YXJnZXQ9J21haW4nLz4NCjxtOml0ZW0gbmFtZT0nxsDC27ncwO0nIGxpbms9J2NoYW5neWFuX21haW4ucGhwP2RvcG9zdD1tYW5hZ2UnIHJhbms9J3N5c19GZWVkYmFjaycgdGFyZ2V0PSdtYWluJy8+DQo8bTppdGVtIG5hbWU9J8r9vt3Ns7zGJyBsaW5rPSdjaGFuZ3lhbl9tYWluLnBocD9kb3Bvc3Q9c3RhdCcgcmFuaz0nc3lzX0ZlZWRiYWNrJyB0YXJnZXQ9J21haW4nLz4NCjxtOml0ZW0gbmFtZT0ntbzI67W8s/YnIGxpbms9J2NoYW5neWFuX21haW4ucGhwP2RvcG9zdD1pbXBvcnQnIHJhbms9J3N5c19GZWVkYmFjaycgdGFyZ2V0PSdtYWluJy8+DQo8bTppdGVtIG5hbWU9J7Op0dTJ6NbDJyBsaW5rPSdjaGFuZ3lhbl9tYWluLnBocD9kb3Bvc3Q9c2V0dGluZycgcmFuaz0nc3lzX0ZlZWRiYWNrJyB0YXJnZXQ9J21haW4nLz4NCjwvbTp0b3A+
</menustring>
<readme>
PGRpdiBjbGFzcz0iY29udGVudCI+DQoJPGRpdiBjbGFzcz0idGl0bGUiPrjFyvY8L2Rpdj4NCgk8cCBjbGFzcz0ic3RlcF90aXRsZSI+MaGis6nR1MrHyrLDtKO/PC9wPg0KCTxwIGNsYXNzPSJzdGVwX2NvbnRlbnQiPrOp0dTKx9K1xNrB7M/ItcTJ57vhu6/GwMLbz7XNs6Os1qez1lBDus3SxravtsvBvdbWvdPI67e9yr2jrM6qzfjVvszhuanBy9K71tbIq9DCtcTGwMLbt73KvaGjs6nR1NO109C24NbWs6PTw9XLusW1x8K8oaLI/dbYyfO6y7v61sahosq1yrG1xMr9vt3Ns7zGoaK/7L3dyv2+3bW8s/ahosirw+bWp7PW0sa2r7bLtcjB7M/IuabE3KGjs+S31sL61+PBy7Wxx7C497TzzfjVvrbU09rTw7untcfCvKGixsDC26Git9bP7SChosnzusu1yLe9w+a1xNDox/OhozwvcD4NCgk8cCBjbGFzcz0ic3RlcF90aXRsZSI+MqGis6nR1Mjnus6xo9akyv2+3bCyyKujvzwvcD4NCgk8cCBjbGFzcz0ic3RlcF9jb250ZW50Ij7N+NW+vdPI67Op0dS686Osy+TIu8bAwtvK/b7dsvrJ+tTas6nR1Lf+zvHG96Ostau688yozOG5qb/svd3K/b7dtbyz9tPrv6q3xWFwab3Tv9q1yLe9yr2xo9XPzfjVvsq1yrG78cihsb7Vvsr9vt2ho82syrGjrLOp0dTU2s341b7Q6NKqyrGjrL/J0tTHqbapsaPD3NCt0umjrLGj1c/L+dPQyv2+3bXEsLLIq9DUoaM8L3A+DQoJPHAgY2xhc3M9InN0ZXBfdGl0bGUiPjOhorOp0dTI57rOsaPWpMnzusuwssiro788L3A+DQoJPHAgY2xhc3M9InN0ZXBfY29udGVudCI+s6nR1NTa0rXE2sLKz8jKtc/WyP3W2Mnzusu7+tbGoaO1scbAwtvK/b7dsvrJ+rrzo6zK18/Ivq25/cvRuvzArLv4uf3Cy8+1zbOjrLfAueDLrqGit8DArLv4oaK3wLnjuOaju8i7uvO+rbn9y9G6/Neo0rW1xMjLuaTJ87rLzcW206Os0c+48cflwO3V/tbOw/S40NDU0MXPoqOszazKsc6lvfu0yr/iu+G4+b7dufq80tX+st/NqNaqo6zKtcqxuPzQwqO71+6688rHzfjVvrXE19TW98nzusujrMv509CzqdHUus/X98341b62vNPQ16jK9LXEudzA7brzzKijrLncwO3L+dPQsb7N+MbAwtujrLy0yrm+rbn9y9G6/Mnzusu1xMbAwtujrM341b7SstPQyKjP3tTZtM7J87rLoaPN+NW+ttSxvtW+xsDC29O109DN6sirtcS53MDto6y/ydLUyejWw8/It6K688nz0+vPyMnzuvO3orXItuDW1snzusvQzsq9oaM8L3A+DQoJPHAgY2xhc3M9InN0ZXBfdGl0bGUiPjShosjnus6xo9aks6nR1Lf+zvG1xLPW0PjQ1KOsv8m/v9DUo788L3A+DQoJPHAgY2xhc3M9InN0ZXBfY29udGVudCI+s6nR1MbAwtujrNf3zqrL0br8zfjGwMLbz7XNs7XEyf28trDmo6yxvsntvs3U2s6qy9G6/Lf+zvGjrLL6xre1xLCyyKvT687ItqjQ1M7j07nWw9LJoaPNrMqxo6yzqdHUv8nS1NPrus/X98341b7HqbapsLLIq9Ct0umjrLGj1c+6z9f3zfjVvrCyyKvOyLao0NTQ6MfzoaM8L3A+DQoJPHAgY2xhc3M9InN0ZXBfdGl0bGUiPjWhorOp0dTKx8Pit9G1xMLwo788L3A+DQoJPHAgY2xhc3M9InN0ZXBfY29udGVudCI+s6nR1Nf3zqrQwtK7tPq1xMbAwtvPtc2zo6zD4rfRzqq547Tzus/X98341b7M4bmpsLLIq7/Jv7+1xLf+zvGho7Wrs6nR1LGjwfS/ycTctcTU9ta1t/7O8crVt9HIqMD7oaM8L3A+DQoJPHAgY2xhc3M9InN0ZXBfdGl0bGUiPjahos341b7I57rOu/HIocbAwtvK/b7do788L3A+DQoJPHAgY2xhc3M9InN0ZXBfY29udGVudCI+y/nT0LrP1/fN+NW+o6zU2rOp0dS53MDtuvPMqKOstrzT0NK7vPzK/b7dtbyz9rmmxNyjrM341b6/ydLUuPm+3dDo0qrRodTxtbyz9sr9vt2ho82syrGjrLOp0dTM4bmpv6q3xb3Tv9qjrML61+PN+NW+uPy24NSqu6/K/b7dtbyz9tDox/Oho8HtzeKjrLbU09rN+NW+1q7HsLXExsDC28r9vt3Ssr/J0tTNqLn9s6nR1LW8yOujrMbAwtvTwLK7tqrKp6GjPC9wPg0KCTxwIGNsYXNzPSJzdGVwX3RpdGxlIj43oaLN+NW+1cu6xcjnus7T67Op0dS94brPo788L3A+DQoJPHAgY2xhc3M9InN0ZXBfY29udGVudCI+xL/HsLOp0dTM4bmptaW147XHwry3vbC4xNy5u73ivva0y87KzOKjrL7fzOXH67LOvPs8YSBocmVmPSJhLXNzby5odG1sIj61pbXjtcfCvDwvYT6hozwvcD4NCgk8cCBjbGFzcz0ic3RlcF90aXRsZSI+OKGiyrLDtMrHs6nR1HZpcNXLusWjrHZpcNXLusXI57rOyerH66O/PC9wPg0KCTxwIGNsYXNzPSJzdGVwX2NvbnRlbnQiPlZJUNXLusWjrNO109C31sa1tcC53MDt0+vNs7zGt9bO9qGiudzA7dSxzOXPtcno1sOhotK7ttTSu7y8yvW/zbf+tci24NbWuabE3NPrt/7O8aOsz+rH6cfrwarPtbOp0dS/zbf+oaM8L3A+DQoJPHAgY2xhc3M9InN0ZXBfdGl0bGUiPjmhorOp0dTKx7fx1qez1rbgxrW1wKOstuDVy7rFudzA7aO/PC9wPg0KCTxwIGNsYXNzPSJzdGVwX2NvbnRlbnQiPs2ouf3J6sfrs6nR1HZpcNXLusWjrLvxyKG24Ma1tcCjrLbg1cu6xbncwO23/s7xo6zI59PQ0OjSqsfrwarPtb/Nt/6hozwvcD4NCgk8cCBjbGFzcz0ic3RlcF90aXRsZSI+MTChosjnus652LHVxsDC2zwvcD4NCgk8cCBjbGFzcz0ic3RlcF9jb250ZW50Ij6zqdHU1qez1rnYsdW1pcaqzsTVwsbAwtu1xLmmxNyhozwvcD4NCjwvZGl2Pg==
</readme>
<setupsql40>
RFJPUCBUQUJMRSBJRiBFWElTVFMgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgOw0KQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgICgNCiAgYHNrZXlgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCBERUZBVUxUICcnLA0KICBgc3ZhbHVlYCB0ZXh0IE5PVCBOVUxMLA0KICBgc3RpbWVgIGludCgxMCkgTk9UIE5VTEwsDQogIFBSSU1BUlkgS0VZIChgc2tleWApDQopIFRZUEU9TXlJU0FNOw0KSU5TRVJUIElOVE8gYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIChgc2tleWAsIGBzdmFsdWVgLCBgc3RpbWVgKSBWQUxVRVMNCignYXBwaWQnLCAnMCcsIDApLA0KKCdpZCcsICcwJywgMCksDQooJ2lzdl9pZCcsICcwJywgMCksDQooJ3VzZXInLCAnMCcsIDApLA0KKCdwd2QnLCAnMCcsIDApOw==
</setupsql40>
<delsql>
RFJPUCBUQUJMRSBJRiBFWElTVFMgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgOw0KRFJPUCBUQUJMRSBJRiBFWElTVFMgYCNAX19wbHVzX2NoYW5neWFuX2ltcG9ydGlkc2A7DQpEUk9QIFRBQkxFIElGIEVYSVNUUyBgI0BfX3BsdXNfY2hhbmd5YW5faW5zZXJ0aWRzYDs=
</delsql>
<setup>

</setup>
<uninstall>

</uninstall>
<oldfilelist>
changyan_main.php
../include/helpers/changyan.helper.php
../include/taglib/changyan.lib.php
</oldfilelist>
</systemfile>
<modulefiles>
<file type='file' name='changyan_main.php'>
PD9waHANCi8vQHNlc3Npb25fc3RhcnQoKTsNCnJlcXVpcmVfb25jZShkaXJuYW1lKF9fRklMRV9fKS4iL2NvbmZpZy5waHAiKTsNCnJlcXVpcmVfb25jZShERURFSU5DLiIvb3h3aW5kb3cuY2xhc3MucGhwIik7DQoNCmhlbHBlcignY2hhbmd5YW4nKTsNCg0KaWYoZW1wdHkoJGRvcG9zdCkpICRkb3Bvc3QgPSAnJzsNCmlmKGVtcHR5KCRhY3Rpb24pKSAkYWN0aW9uID0gJyc7DQppZihlbXB0eSgkbm9jaGVjaykpICRub2NoZWNrID0gJyc7DQppZihlbXB0eSgkZm9yd2FyZCkpICRmb3J3YXJkID0gJyc7DQoNCiRfU0VTU0lPTlsnY2hhbmd5YW4nXSA9ICFlbXB0eSgkX1NFU1NJT05bJ2NoYW5neWFuJ10pPyAkX1NFU1NJT05bJ2NoYW5neWFuJ10gOiAwOw0KJF9TRVNTSU9OWyd1c2VyJ10gPSAhZW1wdHkoJF9TRVNTSU9OWyd1c2VyJ10pPyAkX1NFU1NJT05bJ3VzZXInXSA6ICcnOw0KDQokYXBwaWQ9JGNsaWVudF9pZD1jaGFuZ3lhbl9nZXRfc2V0dGluZygnYXBwaWQnKTsNCg0KaWYgKCRjZmdfZmVlZGJhY2tfZm9yYmlkPT0nTicgQU5EICFlbXB0eSgkY2xpZW50X2lkKSkgew0KICAgICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCJVUERBVEUgYCNAX19zeXNjb25maWdgIFNFVCBgdmFsdWVgPSdZJyBXSEVSRSBgdmFybmFtZWA9J2NmZ19mZWVkYmFja19mb3JiaWQnOyIpOw0KICAgIGNoYW5neWFuX1JlV3JpdGVDb25maWcoKTsNCiAgICBTaG93TXNnKCLS0b6tvfvTw0RlZGVDTVPErMjPxsDC26Osv6rG9LOp0dTGwMLbo6EiLCI/Iik7DQogICAgZXhpdCgpOw0KfQ0KDQppZihlbXB0eSgkX1NFU1NJT05bJ3VzZXInXSkgQU5EIGVtcHR5KCRub2NoZWNrKSkNCnsNCiAgICAkZGJfdXNlciA9IGNoYW5neWFuX2dldF9zZXR0aW5nKCd1c2VyJyk7DQogICAgJGRiX3B3ZD1jaGFuZ3lhbl9tY2hTdHJDb2RlKGNoYW5neWFuX2dldF9zZXR0aW5nKCdwd2QnKSwgJ0RFQ09ERScpOw0KDQogICAgaWYoIWVtcHR5KCRkYl91c2VyKSBBTkQgIWVtcHR5KCRkYl9wd2QpKQ0KICAgIHsNCiAgICAgICAgaGVhZGVyKCdMb2NhdGlvbjo/ZG9wb3N0PXF1aWNrX2xvZ2luJm5vY2hlY2s9eWVzJmZvcndhcmQ9Jy4kZm9yd2FyZCk7DQogICAgICAgIGV4aXQoKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICAvL2hlYWRlcignTG9jYXRpb246P2RvcG9zdD1sb2dpbiZub2NoZWNrPXllcyZmb3J3YXJkPScuJGZvcndhcmQpOw0KICAgICAgICAvL2V4aXQoKTsNCiAgICB9DQp9DQovL2F1dG8gdXBkYXRlDQokdmVyc2lvbj1jaGFuZ3lhbl9nZXRfc2V0dGluZygndmVyc2lvbicpOw0KaWYgKGVtcHR5KCR2ZXJzaW9uKSkgJHZlcnNpb24gPSAnMC4wLjEnOw0KaWYgKHZlcnNpb25fY29tcGFyZSgkdmVyc2lvbiwgQ0hBTkdZQU5fVkVSLCAnPCcpKSB7DQogICAgJG15c3FsX3ZlcnNpb24gPSAkZHNxbC0+R2V0VmVyc2lvbihUUlVFKTsNCg0KICAgIGZvcmVhY2ggKCR1cGRhdGVfc3FscyBhcyAkdmVyID0+ICRzcWxzKSB7DQogICAgICAgIGlmICh2ZXJzaW9uX2NvbXBhcmUoJHZlciwgJHZlcnNpb24sJzwnKSkgew0KICAgICAgICAgICAgY29udGludWU7DQogICAgICAgIH0NCiAgICAgICAgZm9yZWFjaCAoJHNxbHMgYXMgJHNxbCkgew0KICAgICAgICAgICAgJHNxbCA9IHByZWdfcmVwbGFjZSgiI0VOR0lORT1NeUlTQU0jaSIsICdUWVBFPU15SVNBTScsICRzcWwpOw0KICAgICAgICAgICAgJHNxbDQxdG1wID0gJ0VOR0lORT1NeUlTQU0gREVGQVVMVCBDSEFSU0VUPScuJGNmZ19kYl9sYW5ndWFnZTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYoJG15c3FsX3ZlcnNpb24gPj0gNC4xKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICRzcWwgPSBwcmVnX3JlcGxhY2UoIiNUWVBFPU15SVNBTSNpIiwgJHNxbDQxdG1wLCAkc3FsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCRzcWwpOw0KICAgICAgICB9DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCd2ZXJzaW9uJywgJHZlcik7DQogICAgICAgICR2ZXJzaW9uPWNoYW5neWFuX2dldF9zZXR0aW5nKCd2ZXJzaW9uJyk7DQogICAgfQ0KICAgICRpc3ZfYXBwX2tleSA9IGNoYW5neWFuX2dldF9pc3ZfYXBwX2tleSgpOw0KfQ0KDQppZiAoJGRvcG9zdD09J3F1aWNrX2xvZ2luJykNCnsNCiAgICAkdXNlciA9IGNoYW5neWFuX2dldF9zZXR0aW5nKCd1c2VyJyk7DQogICAgJHB3ZD1jaGFuZ3lhbl9tY2hTdHJDb2RlKGNoYW5neWFuX2dldF9zZXR0aW5nKCdwd2QnKSwgJ0RFQ09ERScpIDsNCiAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ2NsaWVudF9pZCc9PkNIQU5HWUFOX0NMSUVOVF9JRCwNCiAgICAgICAgJ3VzZXInPT4kdXNlciwNCiAgICAgICAgJ3Bhc3N3b3JkJz0+JHB3ZCwNCiAgICAgICAgJ3NpZ24nPT4kc2lnbik7DQogICAgJHJzPWNoYW5neWFuX2h0dHBfc2VuZChDSEFOR1lBTl9BUElfTE9HSU4sMCwkcGFyYW1zQXJyKTsNCiAgICAkcmVzdWx0PWpzb25fZGVjb2RlKCRycyxUUlVFKTsNCiAgICBpZigkcmVzdWx0WydzdGF0dXMnXT09MCkNCiAgICB7DQogICAgICAgICRpc3ZfaWQgPSBjaGFuZ3lhbl9nZXRfc2V0dGluZygnaXN2X2lkJyk7DQogICAgICAgICRpc3ZzID0gY2hhbmd5YW5fZ2V0X2lzdnMoKTsNCiAgICAgICAgJGlzdl9pbiA9IEZBTFNFOw0KICAgICAgICBpZighZW1wdHkoJGlzdl9pZCkpIHsNCiAgICAgICAgICAgIGZvcmVhY2goJGlzdnMgYXMgJGlzdil7DQogICAgICAgICAgICAgICAgaWYoJGlzdlsnaWQnXT09JGlzdl9pZCkNCiAgICAgICAgICAgICAgICAgICAgJGlzdl9pbj1UUlVFOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgICRfU0VTU0lPTlsnY2hhbmd5YW4nXT0kcmVzdWx0Wyd0b2tlbiddOw0KICAgICAgICAkX1NFU1NJT05bJ3VzZXInXT0kdXNlcjsNCiAgICAgICAgaWYoISRpc3ZfaW4pDQogICAgICAgIHsNCiAgICAgICAgICAgIFNob3dNc2coIsnQzrTJ6NbD1b6140FQUNDFz6KjrMfrvfjQ0MXk1sOhraGtIiwnP2RvcG9zdD1jaGFuZ2VfYXBwaW5mbycpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaGVhZGVyKCdMb2NhdGlvbjo/Zm9yd2FyZD0nLiRmb3J3YXJkKTsNCiAgICAgICAgfQ0KICAgICAgICBleGl0KCk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ3B3ZCcsICcnKTsNCiAgICAgICAgU2hvd01zZygitcfCvMqnsNyjrCIuJHJlc3VsdFsnbXNnJ10sJz8nKTsNCiAgICAgICAgZXhpdCgpOw0KICAgIH0NCn0gZWxzZWlmICgkZG9wb3N0PT0nbG9naW4nKSB7DQogICAgJHVzZXIgPSBlbXB0eSgkdXNlcik/ICcnIDogJHVzZXI7DQogICAgJHB3ZCA9IGVtcHR5KCRwd2QpPyAnJyA6ICRwd2Q7DQogICAgJHNpZ249Y2hhbmd5YW5fZ2VuX3NpZ24oJHVzZXIpOw0KICAgICRwYXJhbXNBcnI9YXJyYXkoDQogICAgICAgICdjbGllbnRfaWQnPT5DSEFOR1lBTl9DTElFTlRfSUQsDQogICAgICAgICd1c2VyJz0+JHVzZXIsDQogICAgICAgICdwYXNzd29yZCc9PiRwd2QsDQogICAgICAgICdzaWduJz0+JHNpZ24pOw0KICAgICRycz1jaGFuZ3lhbl9odHRwX3NlbmQoQ0hBTkdZQU5fQVBJX0xPR0lOLDAsJHBhcmFtc0Fycik7DQogICAgJHJlc3VsdD1qc29uX2RlY29kZSgkcnMsVFJVRSk7DQogICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ3VzZXInLCAkdXNlcik7DQogICAgaWYgKCRyZXN1bHRbJ3N0YXR1cyddPT0wKQ0KICAgIHsNCiAgICAgICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ3VzZXInLCAkdXNlcik7DQogICAgICAgICRwd2QgPSBjaGFuZ3lhbl9tY2hTdHJDb2RlKCRwd2QsICdFTkNPREUnKTsNCiAgICAgICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ3B3ZCcsICRwd2QpOw0KICAgICAgICAkX1NFU1NJT05bJ2NoYW5neWFuJ109JHJlc3VsdFsndG9rZW4nXTsNCiAgICAgICAgJF9TRVNTSU9OWyd1c2VyJ109JHVzZXI7DQogICAgICAgICRsb2dpbl91cmw9Q0hBTkdZQU5fQVBJX1NFVENPT0tJRS4nP2NsaWVudF9pZD0nLkNIQU5HWUFOX0NMSUVOVF9JRC4nJnRva2VuPScuJHJlc3VsdFsndG9rZW4nXTsNCiAgICAgICAgZWNobyA8PDxFT1QNCjxpZnJhbWUgc3JjPSJ7JGxvZ2luX3VybH0iIHNjcm9sbGluZz0ibm8iIHdpZHRoPSIwIiBoZWlnaHQ9IjAiIHN0eWxlPSJib3JkZXI6bm9uZSI+PC9pZnJhbWU+DQpFT1Q7DQogICAgICAgIFNob3dNc2coIsnQzrTJ6NbD1b6140FQUNDFz6KjrMfrvfjQ0MXk1sOhraGtIiwnP2RvcG9zdD1jaGFuZ2VfYXBwaW5mbycpOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICAkX1NFU1NJT05bJ2NoYW5neWFuJ10gPSAwOw0KICAgICAgICAkX1NFU1NJT05bJ3VzZXInXSA9ICcnOw0KICAgICAgICB1bnNldCgkX1NFU1NJT05bJ2NoYW5neWFuJ10pOw0KICAgICAgICB1bnNldCgkX1NFU1NJT05bJ3VzZXInXSk7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdwd2QnLCAnJyk7DQogICAgICAgIFNob3dNc2coIrXHwrzKp7Dco6wiLiRyZXN1bHRbJ21zZyddLCc/Jyk7DQogICAgICAgIGV4aXQoKTsNCiAgICB9DQp9IGVsc2VpZiAoJGRvcG9zdD09J2NoYW5nZV9hcHBpbmZvJykgew0KICAgICRpc3ZzdHI9IjxwPiDRodTxxPrQ6NKqyejWw7XEQVBQSUSjujwvcD4iOw0KICAgICRqcXVlcnlfc3JjID0gIENIQU5HWUFOX0pRVUVSWV9TUkM7DQogICAgJGlzdnNfanNvbnAgPSBjaGFuZ3lhbl9nZXRfaXN2c19qc29ucCgpOw0KICAgIGVjaG8gPDw8RU9UDQo8aHRtbD4NCjxoZWFkPg0KPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9eyRjZmdfc29mdF9sYW5nfSI+DQo8dGl0bGU+s6nR1MbAwtu53MDtPC90aXRsZT4NCjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9InskY2ZnX3BsdXNfZGlyfS9pbWcvYmFzZS5jc3MiPg0KeyRqcXVlcnlfc3JjfQ0KeyRpc3ZzX2pzb25wfQ0KPC9oZWFkPg0KPGJvZHkgYmFja2dyb3VuZD0neyRjZmdfcGx1c19kaXJ9L2ltZy9hbGxiZy5naWYnIGxlZnRtYXJnaW49IjgiIHRvcG1hcmdpbj0nOCc+DQo8dGFibGUgd2lkdGg9Ijk4JSIgYm9yZGVyPSIwIiBhbGlnbj0iY2VudGVyIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIGJnY29sb3I9IiNERkY5QUEiPg0KICA8dHI+DQogICAgPHRkIGhlaWdodD0iMjgiIHN0eWxlPSJib3JkZXI6MXB4IHNvbGlkICNEQURBREEiIGJhY2tncm91bmQ9J3skY2ZnX3BsdXNfZGlyfS9pbWcvd2JnLmdpZic+Jm5ic3A7PGI+PGEgaHJlZj0iPyI+ofOzqdHUxsDC28Sjv+kgPC9hPiCht8Xk1sNBUFDQxc+iPC9iPjwvdGQ+DQogIDwvdHI+DQogIDx0cj4NCiAgPHRkIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjgwIiBzdHlsZT0icGFkZGluZy10b3A6NXB4IiBiZ2NvbG9yPScjZmZmZmZmJz4NCiAgPHNjcmlwdCBsYW5ndWFnZT0namF2YXNjcmlwdCc+DQpmdW5jdGlvbiBDaGVja1N1Ym1pdCgpew0KCXJldHVybiB0cnVlOw0KfQ0KPC9zY3JpcHQ+DQogIDxmb3JtIG5hbWU9J215Zm9ybScgbWV0aG9kPSdQT1NUJyBvblN1Ym1pdD0ncmV0dXJuIENoZWNrU3VibWl0KCk7JyBhY3Rpb249Jz8nPg0KICA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdkb3Bvc3QnIHZhbHVlPSdzYXZlX2FwcGluZm8nPg0KICA8dGFibGUgd2lkdGg9JzEwMCUnICBib3JkZXI9JzAnIGNlbGxwYWRkaW5nPSczJyBjZWxsc3BhY2luZz0nMScgYmdjb2xvcj0nI0RBREFEQSc+DQogICAgPHRyIGJnY29sb3I9JyNEQURBREEnPg0KICAgICAgPHRkIGNvbHNwYW49JzInIGJhY2tncm91bmQ9J3skY2ZnX3BsdXNfZGlyfS9pbWcvd2JnLmdpZicgaGVpZ2h0PScyNic+PGZvbnQgY29sb3I9JyM2NjY2MDAnPjxiPrOp0dTGwMLbudzA7TwvYj48L2ZvbnQ+PC90ZD4NCiAgICA8L3RyPg0KICAgIDx0ciBiZ2NvbG9yPScjRkZGRkZGJz4NCiAgICAgIDx0ZCBjb2xzcGFuPScyJyAgaGVpZ2h0PScxMDAnPg0KICAgICAgPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgY2VsbHNwYWNpbmc9IjEiIGNlbGxwYWRkaW5nPSIxIj4NCiAgICAgICAgPHRib2R5Pg0KICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPSIyIiBpZD0iaXN2c0NvbnRlbnQiPg0KICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICA8L3RyPg0KICAgICAgICA8L3Rib2R5Pg0KICAgICAgPC90YWJsZT4NCiAgICAgIDwvdGQ+DQogICAgPC90cj4NCiAgICA8dHI+DQogICAgICA8dGQgY29sc3Bhbj0nMicgYmdjb2xvcj0nI0Y5RkNFRic+PHRhYmxlIHdpZHRoPScyNzAnIGJvcmRlcj0nMCcgY2VsbHBhZGRpbmc9JzAnIGNlbGxzcGFjaW5nPScwJz4NCiAgICAgICAgICA8dHIgYWxpZ249J2NlbnRlcicgaGVpZ2h0PScyOCc+DQogICAgICAgICAgICA8dGQgd2lkdGg9JzkwJz48aW5wdXQgbmFtZT0naW1hZ2VGaWVsZDEnIHR5cGU9J2ltYWdlJyBjbGFzcz0nbnAnIHNyYz0neyRjZmdfcGx1c19kaXJ9L2ltZy9idXR0b25fb2suZ2lmJyB3aWR0aD0nNjAnIGhlaWdodD0nMjInIGJvcmRlcj0nMCcgLz48L3RkPg0KICAgICAgICAgICAgPHRkIHdpZHRoPSc5MCc+PGEgaHJlZj0nP2RvcG9zdD1hZGRzaXRlJyBzdHlsZT0iY29sb3I6Ymx1ZSI+tLS9qEFQUCBJRDwvYT48L3RkPg0KICAgICAgICAgICAgPHRkPjxhIGhyZWY9Jz8nIHN0eWxlPSJjb2xvcjpibHVlIj63tbvYyc/Su9KzPC9hPjwvdGQ+DQogICAgICAgICAgPC90cj4NCiAgICAgICAgPC90YWJsZT48L3RkPg0KICAgIDwvdHI+DQogIDwvdGFibGU+DQogIDwvdGQ+DQogIDwvdHI+DQo8L3RhYmxlPg0KPHAgYWxpZ249ImNlbnRlciI+IDxicj4NCiAgPGJyPg0KPC9wPg0KPC9ib2R5Pg0KPC9odG1sPg0KRU9UOw0KfSBlbHNlaWYgKCRkb3Bvc3Q9PSdzYXZlX2FwcGluZm8nKSB7DQogICAgaWYgKGVtcHR5KCRhcHBJbmZvKSkgew0KICAgICAgICBTaG93TXNnKCLH69Gh1PHV/ci3tcRBcHBJRNDFz6KjoSIsICc/ZG9wb3N0PWNoYW5nZV9hcHBpbmZvJyk7DQogICAgICAgIGV4aXQoKTsNCiAgICB9DQogICAgbGlzdCgkYXBwaWQsJGlzdl9hcHBfa2V5KT1leHBsb2RlKCd8JywkYXBwSW5mbyk7DQogICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ2FwcGlkJywkYXBwaWQpOw0KICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdpc3ZfYXBwX2tleScsJGlzdl9hcHBfa2V5KTsNCiAgICAkdXNlcj1jaGFuZ3lhbl9nZXRfc2V0dGluZygndXNlcicpOw0KICAgICRzaWduPWNoYW5neWFuX2dlbl9zaWduKCR1c2VyKTsNCiAgICAkcmVzdWx0ID0gY2hhbmd5YW5fZ2V0Y29kZShDSEFOR1lBTl9DTElFTlRfSUQsICR1c2VyLCBmYWxzZSwgJHNpZ24sJGFwcGlkKTsNCiAgICAkaXN2X2lkID0gJHJlc3VsdFsnaXN2X2lkJ107DQoNCiAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygnaXN2X2lkJywkaXN2X2lkKTsNCiAgICBjaGFuZ3lhbl9jbGVhcmNhY2hlKCk7DQogICAgJGlzdl9pZCA9IGludHZhbCgkaXN2X2lkKTsNCiAgICAkY2hhbmdnZV9pc3ZfdXJsID0gQ0hBTkdZQU5fQVBJX0NIQU5HRV9JU1YuJGlzdl9pZDsNCiAgICBlY2hvIDw8PEVPVA0KPGlmcmFtZSBzcmM9InskY2hhbmdnZV9pc3ZfdXJsfSIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImJvcmRlcjpub25lIj48L2lmcmFtZT4NCkVPVDsNCiAgICBTaG93TXNnKCKzybmmyejWw9DCtcRBcHBJRLywQVBQS0VZo6EiLCc/JywwLDMwMDApOw0KICAgIGV4aXQoKTsNCn0gZWxzZWlmICgkZG9wb3N0PT0nbG9nb3V0JykNCnsNCiAgICBlY2hvIDw8PEVPVA0KPGlmcmFtZSBzcmM9Imh0dHA6Ly9jaGFuZ3lhbi5rdWFpemhhbi5jb20vbG9nb3V0IiBzY3JvbGxpbmc9Im5vIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIj48L2lmcmFtZT4NCkVPVDsNCiAgICAkX1NFU1NJT05bJ2NoYW5neWFuJ10gPSAwOw0KICAgICRfU0VTU0lPTlsndXNlciddID0gJyc7DQogICAgdW5zZXQoJF9TRVNTSU9OWydjaGFuZ3lhbiddKTsNCiAgICB1bnNldCgkX1NFU1NJT05bJ3VzZXInXSk7DQogICAgaWYoJGZvcndhcmQpDQogICAgew0KICAgICAgICBoZWFkZXIoJ0xvY2F0aW9uOj9mb3J3YXJkPScuJGZvcndhcmQpOw0KICAgICAgICBleGl0Ow0KICAgIH0gZWxzZSB7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdwd2QnLCAnJyk7DQogICAgfQ0KICAgIFNob3dNc2coIrPJuabNy7P2s6nR1KOhIiwnPycpOw0KICAgIGV4aXQoKTsNCn0gZWxzZWlmICgkZG9wb3N0PT0nYWRkc2l0ZScpIHsNCiAgICAkdXJsID0gJF9TRVJWRVJbJ1NFUlZFUl9OQU1FJ107DQogICAgJHVzZXI9Y2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3VzZXInKTsNCiAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ3VzZXInPT4kdXNlciwNCiAgICAgICAgJ2NsaWVudF9pZCc9PkNIQU5HWUFOX0NMSUVOVF9JRCwNCiAgICAgICAgJ2lzdl9uYW1lJz0+J05ldyBkZWRlY21zIHNpdGUnLA0KICAgICAgICAndXJsJz0+JHVybCwNCiAgICAgICAgJ3NpZ24nPT4kc2lnbik7DQogICAgJHJzPWNoYW5neWFuX2h0dHBfc2VuZChDSEFOR1lBTl9BUElfQUREU0lURSwwLCRwYXJhbXNBcnIpOw0KICAgICRyZXN1bHQ9anNvbl9kZWNvZGUoJHJzLFRSVUUpOw0KICAgIGlmKCRyZXN1bHRbJ3N0YXR1cyddPT0xKQ0KICAgIHsNCiAgICAgICAgU2hvd01zZygizO2809DC1b6148qnsNwiLCAnP2RvcG9zdD1jaGFuZ2VfYXBwaW5mbycpOw0KICAgICAgICBleGl0KCk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ2FwcGlkJywgJHJlc3VsdFsnYXBwaWQnXSk7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdpZCcsICRyZXN1bHRbJ2lkJ10pOw0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygnaXN2X2lkJywgJHJlc3VsdFsnaXN2X2lkJ10pOw0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygnaXN2X2FwcF9rZXknLCAkcmVzdWx0Wydpc3ZfYXBwX2tleSddKTsNCiAgICAgICAgJF9TRVNTSU9OWydjaGFuZ3lhbiddPSRyZXN1bHRbJ3Rva2VuJ107DQogICAgICAgIGNoYW5neWFuX2NsZWFyY2FjaGUoKTsNCiAgICAgICAgJGlzdl9pZCA9IGludHZhbCgkcmVzdWx0Wydpc3ZfaWQnXSk7DQogICAgICAgICRsb2dpbl91cmw9Q0hBTkdZQU5fQVBJX1NFVENPT0tJRS4nP2NsaWVudF9pZD0nLkNIQU5HWUFOX0NMSUVOVF9JRC4nJnRva2VuPScuJHJlc3VsdFsndG9rZW4nXTsNCiAgICAgICAgZWNobyA8PDxFT1QNCjxpZnJhbWUgc3JjPSJ7JGxvZ2luX3VybH0iIHNjcm9sbGluZz0ibm8iIHdpZHRoPSIwIiBoZWlnaHQ9IjAiIHN0eWxlPSJib3JkZXI6bm9uZSI+PC9pZnJhbWU+DQpFT1Q7DQogICAgICAgIFNob3dNc2coIrPJuabM7bzT1b6149DFz6KjrL340NDVvrXjx9C7u6Gtoa0iLCc/ZG9wb3N0PWNoYW5nZWlzdiZpc3ZfaWQ9Jy4kaXN2X2lkLDAsMzAwMCk7DQogICAgICAgIGV4aXQ7DQogICAgfQ0KfSBlbHNlaWYgKCRkb3Bvc3Q9PSdjaGFuZ2Vpc3YnKSB7DQogICAgJGlzdl9pZCA9IGludHZhbCgkaXN2X2lkKTsNCiAgICAkY2hhbmdnZV9pc3ZfdXJsID0gQ0hBTkdZQU5fQVBJX0NIQU5HRV9JU1YuJGlzdl9pZDsNCiAgICAkaXN2X2FwcF9rZXkgPSBjaGFuZ3lhbl9nZXRfaXN2X2FwcF9rZXkoKTsNCiAgICBlY2hvIDw8PEVPVA0KPGlmcmFtZSBzcmM9InskY2hhbmdnZV9pc3ZfdXJsfSIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImJvcmRlcjpub25lIj48L2lmcmFtZT4NCkVPVDsNCiAgICBTaG93TXNnKCKzybmmx9C7u9W+teOjoSIsJz8nKTsNCiAgICBleGl0KCk7DQp9IGVsc2VpZiAoJGRvcG9zdD09J21hbmFnZScgT1IgJGRvcG9zdD09J3N0YXQnIE9SICRkb3Bvc3Q9PSdzZXR0aW5nJw0KT1IgJGRvcG9zdD09ImltcG9ydCIpDQp7DQogICAgaWYoIWNoYW5neWFuX2lzbG9naW4oKSkNCiAgICB7DQogICAgICAgIFNob3dNc2coIsT6ydDOtLXHwryzqdHUo6zH68/ItcfCvLrzvMzQ+Mq508OhraGto6EiLCc/Jyk7DQogICAgICAgIGV4aXQoKTsNCiAgICB9DQogICAgY2hhbmd5YW5fY2hlY2tfaXNsb2dpbigpOw0KICAgICRhZGRzdHlsZT0nc2Nyb2xsaW5nPSJubyIgJzsNCiAgICAkdHlwZT0nYXVkaXQnOw0KICAgICRhcHBpZD1jaGFuZ3lhbl9nZXRfc2V0dGluZygnYXBwaWQnKTsNCiAgICBpZigkZG9wb3N0PT0nbWFuYWdlJykgJHR5cGU9J2F1ZGl0JzsNCiAgICBlbHNlaWYoJGRvcG9zdD09J3N0YXQnKSAkdHlwZT0nc3RhdCc7DQogICAgJHB0aXRsZSA9ICezqdHUxsDC27ncwO0nOw0KDQogICAgJG1hbmFnZV91cmw9Imh0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9hdWRpdC9jb21tZW50cy9UT0FVRElULzEiOw0KICAgICRhZGRzdHI9Jyc7DQogICAgaWYoJGRvcG9zdD09J3NldHRpbmcnKSANCiAgICB7DQogICAgICAgICRwdGl0bGUgPSAis6nR1Mno1sMiOw0KICAgICAgICAkbWFuYWdlX3VybD0iaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL3NldHRpbmcvYmFzaWMiOw0KICAgICAgICANCiAgICB9IGVsc2VpZiAoJGRvcG9zdD09J3N0YXQnKQ0KICAgIHsNCiAgICAgICAgJHB0aXRsZSA9ICLK/b7dzbO8xiI7DQogICAgICAgICRtYW5hZ2VfdXJsPSJodHRwOi8vcy5jaGFuZ3lhbi5rdWFpemhhbi5jb20vc3RhdC1kYXRhL2NvbW1lbnQiOw0KICAgIH0gZWxzZWlmICgkZG9wb3N0PT0naW1wb3J0JykNCiAgICB7DQogICAgICAgICRwdGl0bGUgPSAis6nR1Lmkvt8iOw0KICAgICAgICAkZXhwb3J0X3N0cj0kaW1wb3J0X3N0cj0nJzsNCiAgICAgICAgJG1hbmFnZV91cmw9Ij9kb3Bvc3Q9YmxhbmsiOw0KICAgICAgICAkbGFzdF9pbXBvcnQ9Y2hhbmd5YW5fZ2V0X3NldHRpbmcoJ2xhc3RfaW1wb3J0Jyk7DQogICAgICAgICRsYXN0X2V4cG9ydD1jaGFuZ3lhbl9nZXRfc2V0dGluZygnbGFzdF9leHBvcnQnKTsNCiAgICAgICAgaWYgKGVtcHR5KCRsYXN0X2V4cG9ydCkpIHsNCiAgICAgICAgICAgICRleHBvcnRfc3RyID0gJzxmb250IGNvbG9yPSJyZWQiPsnQzrSxuLfdo6y9qNLpsbi33aOhPC9mb250Pic7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAkZXhwb3J0X3RpbWUgPSBkYXRlKCdZLW0tZCBIOmk6cycsICRsYXN0X2V4cG9ydCk7DQogICAgICAgICAgICAkZXhwb3J0X3N0ciA9ICc8Zm9udCBjb2xvcj0iIzY2NiI+1+6687G4t93I1cbao7onLiRleHBvcnRfdGltZS4nPC9mb250Pic7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGVtcHR5KCRsYXN0X2ltcG9ydCkpIHsNCiAgICAgICAgICAgICRpbXBvcnRfc3RyID0gJzxmb250IGNvbG9yPSJyZWQiPsnQzrS1vLP2RGVkZUNNU8bAwtu1vbOp0dSjoTwvZm9udD4nOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgJGltcG9ydF90aW1lID0gZGF0ZSgnWS1tLWQgSDppOnMnLCAkbGFzdF9pbXBvcnQpOw0KICAgICAgICAgICAgJGltcG9ydF9zdHIgPSAnPGZvbnQgY29sb3I9IiM2NjYiPtfuuvO1vLP2yNXG2qO6Jy4kaW1wb3J0X3RpbWUuJzwvZm9udD4nOw0KICAgICAgICB9DQogICAgICAgICRhZGRzdHI9PDw8RU9UDQogICAgICAgIDx0ciBiZ2NvbG9yPScjRkZGRkZGJz4NCiAgICAgICAgICA8dGQgY29sc3Bhbj0nMicgaGVpZ2h0PSczMHB4JyBzdHlsZT0ncGFkZGluZzoyMHB4Jz4NCiAgICAgICAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQogICAgICAgICAgZnVuY3Rpb24gaXNnbyh1cmwsbXNnKSB7DQogICAgICAgICAgICAgIGlmKGNvbmZpcm0obXNnKSkgd2luZG93LmxvY2F0aW9uLmhyZWY9dXJsOw0KICAgICAgICAgICAgICBlbHNlIHJldHVybiBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgICAgPC9zY3JpcHQ+DQogICAgICAgICAgPGlucHV0IHR5cGU9ImJ1dHRvbiIgc2l6ZT0iMTQiIG9uY2xpY2s9InJldHVybiBpc2dvKCc/ZG9wb3N0PWNoYW5neWFuX3RvX2RlZGVjbXMnLCfKx7fxtbyz9rOp0dS1vURlZGVDTVPGwMLbo78nKTsiIHZhbHVlPSK1vLP2s6nR1LW9RGVkZUNNU8bAwtsiPiANCiAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiM5OTkiPr2rs6nR1MSjv+nW0LXEyv2+3bW8s/axuLfdtb1EZWRlQ01Tyv2+3b/i1tA8L3NwYW4+ICB7JGV4cG9ydF9zdHJ9DQogICAgICAgICAgPGJyIC8+PGJyIC8+DQogICAgICAgICAgPGlucHV0IHR5cGU9ImJ1dHRvbiIgc2l6ZT0iMTQiIG9uY2xpY2s9InJldHVybiBpc2dvKCc/ZG9wb3N0PWRlZGVjbXNfdG9fY2hhbmd5YW4nLCfKx7fxtbzI60RlZGVDTVPGwMLbtb2zqdHUo78nKTsiIHZhbHVlPSK1vMjrRGVkZUNNU8bAwtu1vbOp0dQiPg0KICAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6Izk5OSI+vatEZWRlQ01TxsDC28r9vt21vMjrtb2zqdHUxKO/6dbQPC9zcGFuPiB7JGltcG9ydF9zdHJ9DQogICAgICAgICAgPC90ZD4NCiAgICAgICAgPC90cj4NCkVPVDsNCiAgICB9DQogICAgJGFkZHN0eWxlPSdzY3JvbGxpbmc9ImF1dG8iICc7DQogICAgJGFjY291bnRfc3RyID0gcHJlZ19tYXRjaCgiI0BkZWRlY21zJCMiLCRfU0VTU0lPTlsndXNlciddKT8gIjxhIGhyZWY9Jz9kb3Bvc3Q9YmluZCcgc3R5bGU9J2NvbG9yOmJsdWUnPluw87ao1cu6xV08L2E+IiA6DQogICAgIjxhIGhyZWY9Jz9kb3Bvc3Q9bG9nb3V0JyBzdHlsZT0nY29sb3I6Ymx1ZSc+W8fQu7vVy7rFXTwvYT4iOw0KICAgIGVjaG8gPDw8RU9UDQo8aHRtbD4NCjxoZWFkPg0KPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9eyRjZmdfc29mdF9sYW5nfSI+DQo8dGl0bGU+eyRwdGl0bGV9PC90aXRsZT4NCjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9ImNzcy9iYXNlLmNzcyI+DQo8L2hlYWQ+DQo8Ym9keSBiYWNrZ3JvdW5kPSdpbWFnZXMvYWxsYmcuZ2lmJyBsZWZ0bWFyZ2luPSI4IiB0b3BtYXJnaW49JzgnPg0KPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBiZ2NvbG9yPSIjREZGOUFBIiBoZWlnaHQ9IjEwMCUiPg0KICA8dHI+DQogICAgPHRkIGhlaWdodD0iMjgiIHN0eWxlPSJib3JkZXI6MXB4IHNvbGlkICNEQURBREEiIGJhY2tncm91bmQ9J2ltYWdlcy93YmcuZ2lmJz4NCiAgICANCiAgICA8ZGl2IHN0eWxlPSJmbG9hdDpsZWZ0Ij4mbmJzcDs8Yj6h8zxhIGhyZWY9Ij8iPrOp0dTGwMLbxKO/6TwvYT4gobd7JHB0aXRsZX08L2I+PC9kaXY+DQogICAgPGRpdiBzdHlsZT0iZmxvYXQ6cmlnaHQ7bWFyZ2luLXJpZ2h0OjIwcHg7Ij7E+rrDo7p7JF9TRVNTSU9OWyd1c2VyJ119IHskYWNjb3VudF9zdHJ9PC9kaXY+DQogICAgPC90ZD4NCiAgPC90cj4NCiAgPHRyPg0KICAgIDx0ZCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2YWxpZ249InRvcCIgYmdjb2xvcj0nI2ZmZmZmZicgc3R5bGU9InBhZGRpbmctdG9wOjVweCI+PHRhYmxlIHdpZHRoPScxMDAlJyAgYm9yZGVyPScwJyBjZWxscGFkZGluZz0nMycgY2VsbHNwYWNpbmc9JzEnIGJnY29sb3I9JyNEQURBREEnIGhlaWdodD0iMTAwJSI+DQogICAgICAgIDx0ciBiZ2NvbG9yPScjREFEQURBJz4NCiAgICAgICAgICA8dGQgY29sc3Bhbj0nMicgYmFja2dyb3VuZD0naW1hZ2VzL3diZy5naWYnIGhlaWdodD0nMjYnPjxmb250IGNvbG9yPScjNjY2NjAwJz48Yj57JHB0aXRsZX08L2I+PC9mb250PjwvdGQ+DQogICAgICAgIDwvdHI+DQogICAgICAgIHskYWRkc3RyfQ0KICAgICAgICA8dHIgYmdjb2xvcj0nI0ZGRkZGRic+DQogICAgICAgICAgPHRkIGNvbHNwYW49JzInIGhlaWdodD0nMTAwJScgc3R5bGU9J3BhZGRpbmc6MjBweCc+PGJyLz48aWZyYW1lIHNyYz0ieyRtYW5hZ2VfdXJsfSIgeyRhZGRzdHlsZX0gd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgc3R5bGU9ImJvcmRlcjpub25lIj48L2lmcmFtZT48L3RkPg0KICAgICAgICA8L3RyPg0KICAgICAgICA8dHI+DQogICAgICAgICAgPHRkIGJnY29sb3I9JyNGNUY1RjUnPiZuYnNwOzwvdGQ+DQogICAgICAgIDwvdHI+DQogICAgICA8L3RhYmxlPjwvdGQ+DQogIDwvdHI+DQo8L3RhYmxlPg0KPHAgYWxpZ249ImNlbnRlciI+IDxicj4NCiAgPGJyPg0KPC9wPg0KPC9ib2R5Pg0KPC9odG1sPg0KDQpFT1Q7DQp9IGVsc2VpZiAoJGRvcG9zdD09J2RlZGVjbXNfdG9fY2hhbmd5YW4nKSB7DQogICAgaWYoIWNoYW5neWFuX2lzbG9naW4oKSkNCiAgICB7DQogICAgICAgIFNob3dNc2coIsT6ydDOtLXHwryzqdHUo6zH68/ItcfCvLrzvMzQ+Mq508OhraGto6EiLCc/Jyk7DQogICAgICAgIGV4aXQoKTsNCiAgICB9DQogICAgJGlzdl9hcHBfa2V5ID0gY2hhbmd5YW5fZ2V0X2lzdl9hcHBfa2V5KCk7DQogICAgJHN0YXJ0ID0gaXNzZXQoJHN0YXJ0KT8gaW50dmFsKCRzdGFydCkgOiAwOw0KICAgICRwYWdlc2l6ZT0xOw0KICAgICRzcWwgPSAiU0VMRUNUIGNvdW50KCopIGFzIGRkIEZST00gYCNAX19mZWVkYmFja2AgZ3JvdXAgYnkgYWlkIG9yZGVyIGJ5IGFpZCBhc2MgbGltaXQgeyRzdGFydH0seyRwYWdlc2l6ZX0iOw0KICAgICRyciA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7DQogICAgaWYoJHJyWydkZCddPT0wKQ0KICAgIHsNCiAgICAgICAgY2hhbmd5YW5fc2V0X3NldHRpbmcoJ2xhc3RfaW1wb3J0JywgdGltZSgpKTsNCiAgICAgICAgU2hvd01zZygnyKuyv7W8s/bN6rPJo6EnLCdqYXZhc2NyaXB0OjsnKTsNCiAgICAgICAgZXhpdDsNCiAgICB9DQogICAgJHNxbCA9ICJTRUxFQ1QgYWlkIEZST00gYCNAX19mZWVkYmFja2AgZ3JvdXAgYnkgYWlkIG9yZGVyIGJ5IGFpZCBhc2MgbGltaXQgeyRzdGFydH0seyRwYWdlc2l6ZX0iOw0KICAgICRkc3FsLT5TZXRRdWVyeSgkc3FsKTsNCiAgICAkZHNxbC0+RXhlY3V0ZSgnZGQnKTsNCiAgICAkcmVzdWx0PWFycmF5KCk7DQogICAgd2hpbGUoJGFyciA9ICRkc3FsLT5HZXRBcnJheSgnZGQnKSkNCiAgICB7DQogICAgICAgICRmZWVkQXJyPWFycmF5KCk7DQogICAgICAgICRhcmN0Um93ID0gJGRzcWwtPkdldE9uZSgiU0VMRUNUICogRlJPTSBgI0BfX2FyY3RpbnlgIFdIRVJFIGlkPXskYXJyWydhaWQnXX0iKTsNCiAgICAgICAgaWYoJGFyY3RSb3dbJ2NoYW5uZWwnXT09MCkgJGFyY3RSb3dbJ2NoYW5uZWwnXT0xOw0KICAgICAgICAkY2lkID0gJGFyY3RSb3dbJ2NoYW5uZWwnXTsNCiAgICAgICAgJGNoUm93ID0gJGRzcWwtPkdldE9uZSgiU0VMRUNUICogRlJPTSBgI0BfX2NoYW5uZWx0eXBlYCBXSEVSRSBpZD0nJGNpZCcgIik7DQogICAgICAgICRyb3c9YXJyYXkoKTsNCiAgICAgICAgaWYgKCRjaFJvd1snaXNzeXN0ZW0nXSE9IC0xKSB7DQogICAgICAgICAgICAkc3FsID0gIlNFTEVDVCBhcmMuKix0cC5yZWlkLHRwLnR5cGVkaXIsdHAudHlwZW5hbWUsdHAuaXNkZWZhdWx0LHRwLmRlZmF1bHRuYW1lLHRwLm5hbWVydWxlLHRwLm5hbWVydWxlMix0cC5pc3BhcnQsDQogICAgICAgICAgICB0cC5tb3Jlc2l0ZSx0cC5zaXRldXJsLHRwLnNpdGVwYXRoLGNoLmFkZHRhYmxlDQogICAgICAgICAgICBGUk9NIGAjQF9fYXJjaGl2ZXNgIGFyYw0KICAgICAgICAgICAgICAgICAgICAgTEVGVCBKT0lOIGAjQF9fYXJjdHlwZWAgdHAgb24gdHAuaWQ9YXJjLnR5cGVpZA0KICAgICAgICAgICAgICAgICAgICAgIExFRlQgSk9JTiBgI0BfX2NoYW5uZWx0eXBlYCBhcyBjaCBvbiBhcmMuY2hhbm5lbCA9IGNoLmlkDQogICAgICAgICAgICAgICAgICAgICAgV0hFUkUgYXJjLmlkPSd7JGFyclsnYWlkJ119JyAiOw0KICAgICAgICAgICAgJHJvdyA9ICRkc3FsLT5HZXRPbmUoJHNxbCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZigkY2hSb3dbJ2FkZHRhYmxlJ10hPScnKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICRzcWwgPSAiU0VMRUNUIGFyYy4qLHRwLnR5cGVkaXIsdHAudHlwZW5hbWUsdHAuaXNkZWZhdWx0LHRwLmRlZmF1bHRuYW1lLHRwLm5hbWVydWxlLHRwLm5hbWVydWxlMix0cC5pc3BhcnQsDQogICAgICAgICAgICB0cC5tb3Jlc2l0ZSx0cC5zaXRldXJsLHRwLnNpdGVwYXRoIEZST00gYHskY2hSb3dbJ2FkZHRhYmxlJ119YCBhcmMgIA0KICAgICAgICAgICAgTEVGVCBKT0lOIGAjQF9fYXJjdHlwZWAgdHAgT04gYXJjLnR5cGVpZD10cC5pZA0KICAgICAgICAgICAgICAgIFdIRVJFIGBhaWRgID0gJ3skYXJyWydhaWQnXX0nIjsNCiAgICAgICAgICAgICAgICAkYWRkVGFibGVSb3cgPSAkZHNxbC0+R2V0T25lKCRzcWwpOw0KICAgICAgICAgICAgICAgIGlmKGlzX2FycmF5KCRhZGRUYWJsZVJvdykpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAkcm93WydpZCddPSRhZGRUYWJsZVJvd1snYWlkJ107DQogICAgICAgICAgICAgICAgICAgICRyb3dbJ3RpdGxlJ109JGFkZFRhYmxlUm93Wyd0aXRsZSddOw0KICAgICAgICAgICAgICAgICAgICAkcm93Wyd0eXBlaWQnXT0kYWRkVGFibGVSb3dbJ3R5cGVpZCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WydtaWQnXT0kYWRkVGFibGVSb3dbJ21pZCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WydzZW5kZGF0ZSddPSRhZGRUYWJsZVJvd1snc2VuZGRhdGUnXTsNCiAgICAgICAgICAgICAgICAgICAgJHJvd1snY2hhbm5lbCddPSRhZGRUYWJsZVJvd1snY2hhbm5lbCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WydhcmNyYW5rJ109JGFkZFRhYmxlUm93WydhcmNyYW5rJ107DQogICAgICAgICAgICAgICAgICAgICRyb3dbJ3NlbmRkYXRlJ109JGFkZFRhYmxlUm93WydzZW5kZGF0ZSddOw0KICAgICAgICAgICAgICAgICAgICAkcm93Wyd0eXBlZGlyJ109JGFkZFRhYmxlUm93Wyd0eXBlZGlyJ107DQogICAgICAgICAgICAgICAgICAgICRyb3dbJ2lzZGVmYXVsdCddPSRhZGRUYWJsZVJvd1snaXNkZWZhdWx0J107DQogICAgICAgICAgICAgICAgICAgICRyb3dbJ2RlZmF1bHRuYW1lJ109JGFkZFRhYmxlUm93WydkZWZhdWx0bmFtZSddOw0KICAgICAgICAgICAgICAgICAgICAkcm93Wydpc3BhcnQnXT0kYWRkVGFibGVSb3dbJ2lzcGFydCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WyduYW1lcnVsZTInXT0kYWRkVGFibGVSb3dbJ25hbWVydWxlMiddOw0KICAgICAgICAgICAgICAgICAgICAkcm93Wydtb3Jlc2l0ZSddPSRhZGRUYWJsZVJvd1snbW9yZXNpdGUnXTsNCiAgICAgICAgICAgICAgICAgICAgJHJvd1snc2l0ZXVybCddPSRhZGRUYWJsZVJvd1snc2l0ZXVybCddOw0KICAgICAgICAgICAgICAgICAgICAkcm93WydzaXRlcGF0aCddPSRhZGRUYWJsZVJvd1snc2l0ZXBhdGgnXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgJHJvd1snZmlsZW5hbWUnXSA9ICRyb3dbJ2FyY3VybCddID0gR2V0RmlsZVVybCgkcm93WydpZCddLCRyb3dbJ3R5cGVpZCddLCRyb3dbJ3NlbmRkYXRlJ10sJHJvd1sndGl0bGUnXSwxLA0KICAgICAgICAwLCRyb3dbJ25hbWVydWxlJ10sJHJvd1sndHlwZWRpciddLDAsJycsJHJvd1snbW9yZXNpdGUnXSwkcm93WydzaXRldXJsJ10sJHJvd1snc2l0ZXBhdGgnXSk7DQogICAgICAgICRyb3dbJ3RpdGxlJ109Y2hhbmd5YW5fYXV0b0NoYXJzZXQoJHJvd1sndGl0bGUnXSk7DQogICAgICAgIA0KICAgICAgICAkZmVlZEFyclsndGl0bGUnXT0kcm93Wyd0aXRsZSddOw0KICAgICAgICAkZmVlZEFyclsndXJsJ109JGNmZ19iYXNlaG9zdC4kcm93WydhcmN1cmwnXTsNCiAgICAgICAgJGZlZWRBcnJbJ3R0aW1lJ109IGRhdGUoJ1ktbS1kIGg6bTpzJywgICRyb3dbJ3NlbmRkYXRlJ10pOw0KICAgICAgICAkZmVlZEFyclsnc291cmNlaWQnXT0kYXJyWydhaWQnXTsNCiAgICAgICAgJGZlZWRBcnJbJ3BhcmVudGlkJ109MDsNCiAgICAgICAgJGZlZWRBcnJbJ2NhdGVnb3J5aWQnXT0kcm93Wyd0eXBlaWQnXTsNCiAgICAgICAgJGZlZWRBcnJbJ293bmVyaWQnXT0kcm93WydtaWQnXTsNCiAgICAgICAgJGZlZWRBcnJbJ21ldGFkYXRhJ109Jyc7DQoNCiAgICAgICAgJGRzcWwtPlNldFF1ZXJ5KCJTRUxFQ1QgZmVlZGJhY2tfaWQgRlJPTSBgI0BfX3BsdXNfY2hhbmd5YW5faW1wb3J0aWRzYCBXSEVSRSBhaWQ9eyRhcnJbJ2FpZCddfSIpOw0KICAgICAgICAkZHNxbC0+RXhlY3V0ZSgnZGQnKTsNCiAgICAgICAgJGZlZWRiYWNrX2lkcz1hcnJheSgpOw0KICAgICAgICB3aGlsZSgkZmFyciA9ICRkc3FsLT5HZXRBcnJheSgnZGQnKSkNCiAgICAgICAgew0KICAgICAgICAgICAgJGZlZWRiYWNrX2lkc1tdID0gJGZhcnJbJ2ZlZWRiYWNrX2lkJ107DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgICRzcXVlcnk9IlNFTEVDVCAqIEZST00gYCNAX19mZWVkYmFja2AgV0hFUkUgYWlkPXskYXJyWydhaWQnXX0gb3JkZXIgYnkgZHRpbWUgYXNjOyI7DQogICAgICAgICRkc3FsLT5TZXRRdWVyeSgkc3F1ZXJ5KTsNCiAgICAgICAgJGRzcWwtPkV4ZWN1dGUoJ3h4Jyk7DQogICAgICAgIHdoaWxlKCRmUm93ID0gJGRzcWwtPkdldEFycmF5KCd4eCcpKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZiAoaW5fYXJyYXkoJGZSb3dbJ2lkJ10sICRmZWVkYmFja19pZHMpKSBjb250aW51ZTsNCiAgICAgICAgICAgICRmZWVkQXJyWydjb21tZW50cyddW109YXJyYXkoDQogICAgICAgICAgICAgICAgJ2NtdGlkJz0+JGZSb3dbJ2lkJ10sDQogICAgICAgICAgICAgICAgJ2N0aW1lJz0+ZGF0ZSgnWS1tLWQgaDptOnMnLCAgJGZSb3dbJ2R0aW1lJ10pLA0KICAgICAgICAgICAgICAgICdjb250ZW50Jz0+Y2hhbmd5YW5fUXVvdGVfcmVwbGFjZShjaGFuZ3lhbl9hdXRvQ2hhcnNldCgkZlJvd1snbXNnJ10pKSwNCiAgICAgICAgICAgICAgICAncmVwbHlpZCc9PjAsDQogICAgICAgICAgICAgICAgJ3NwY291bnQnPT4kZlJvd1snZ29vZCddLA0KICAgICAgICAgICAgICAgICdvcGNvdW50Jz0+JGZSb3dbJ2JhZCddLA0KICAgICAgICAgICAgICAgICd1c2VyJz0+YXJyYXkoDQogICAgICAgICAgICAgICAgICAgICd1c2VyaWQnPT4kZlJvd1snbWlkJ10sDQogICAgICAgICAgICAgICAgICAgICduaWNrbmFtZSc9PmNoYW5neWFuX2F1dG9DaGFyc2V0KCRmUm93Wyd1c2VybmFtZSddKSwNCiAgICAgICAgICAgICAgICAgICAgJ3VzZXJpY29uJz0+JycsDQogICAgICAgICAgICAgICAgICAgICd1c2VydXJsJz0+JycsDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICRpbnF1ZXJ5ID0gIklOU0VSVCBJTlRPIGAjQF9fcGx1c19jaGFuZ3lhbl9pbXBvcnRpZHNgKGBhaWRgLGBmZWVkYmFja19pZGApIFZBTFVFUyAoJ3skYXJyWydhaWQnXX0nLCd7JGZSb3dbJ2lkJ119JykiOw0KICAgICAgICAgICAgJHJzID0gJGRzcWwtPkV4ZWN1dGVOb25lUXVlcnkoJGlucXVlcnkpOw0KICAgICAgICB9DQogICAgICAgIGlmIChjb3VudCgkZmVlZEFyclsnY29tbWVudHMnXSk8MSkgew0KICAgICAgICAgICAgY29udGludWU7DQogICAgICAgIH0NCg0KICAgICAgICAkY29udGVudD1qc29uX2VuY29kZSgkZmVlZEFycik7DQogICAgICAgICRtZDUgPSBjaGFuZ3lhbl9obWFjc2hhMSgkY29udGVudCwgJGlzdl9hcHBfa2V5KTsNCg0KICAgICAgICAkcGFyYW1zQXJyPWFycmF5KA0KICAgICAgICAgICAgJ2FwcGlkJz0+JGNsaWVudF9pZCwgDQogICAgICAgICAgICAnbWQ1Jz0+JG1kNSwgDQogICAgICAgICAgICAnanNvbmRhdGEnPT4kY29udGVudCk7DQogICAgICAgICRycz1jaGFuZ3lhbl9odHRwX3NlbmQoQ0hBTkdZQU5fQVBJX0lNUE9SVCwwLCRwYXJhbXNBcnIpOw0KICAgIH0NCiAgICANCiAgICAkc3RhcnQgPSRzdGFydCskcGFnZXNpemU7DQogICAgJGVuZCA9JHN0YXJ0KyRwYWdlc2l6ZTsNCiAgICBTaG93TXNnKCKzybmmtbyz9sbAwtvK/b7do6y908/CwLS1vMjrW3skc3RhcnR9LXskZW5kfV21xMbAwtvK/b7dIiwiP2RvcG9zdD1kZWRlY21zX3RvX2NoYW5neWFuJnN0YXJ0PXskc3RhcnR9Iik7DQogICAgLy9lY2hvIGpzb25fZW5jb2RlKCRyZXN1bHQpOw0KICAgIGV4aXQoKTsNCn0gZWxzZWlmICgkZG9wb3N0PT0nY2hhbmd5YW5fdG9fZGVkZWNtcycpIHsNCiAgICBpZighY2hhbmd5YW5faXNsb2dpbigpKQ0KICAgIHsNCiAgICAgICAgU2hvd01zZygixPrJ0M60tcfCvLOp0dSjrMfrz8i1x8K8uvO8zND4yrnTw6Gtoa2joSIsJz8nKTsNCiAgICAgICAgZXhpdCgpOw0KICAgIH0NCiAgICAkbGFzdF9leHBvcnQ9Y2hhbmd5YW5fZ2V0X3NldHRpbmcoJ2xhc3RfZXhwb3J0Jyk7DQogICAgaWYgKGVtcHR5KCRsYXN0X2V4cG9ydCkpIHsNCiAgICAgICAgJHN0YXJ0X2RhdGU9JzIwMTQtMDEtMDEgMDA6MDA6MDAnOw0KICAgIH0gZWxzZSB7DQogICAgICAgICRzdGFydF9kYXRlPSBkYXRlKCdZLW0tZCBIOmk6cycsJGxhc3RfZXhwb3J0KTsNCiAgICB9DQogICAgLy8kc3RhcnRfZGF0ZT0nMjAxNC0wMS0wMSAwMDowMDowMCc7DQogICAgJHJlY2VudCA9IGNoYW5neWFuX2dldF9yZWNlbnQoJGNsaWVudF9pZCwgJHN0YXJ0X2RhdGUpOw0KICAgIC8vdmFyX2R1bXAoJHJlY2VudCk7ZXhpdDsNCiAgICBpZiAoY291bnQoJHJlY2VudFsndG9waWNzJ10pPD0wKSB7DQogICAgICAgIFNob3dNc2coIsO709C3os/W0MK1xMbAwtvE2sjd0OjSqrW8s/ajoSIsLTEpOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KICAgICRleHBvcnRzPWFycmF5KCk7DQogICAgZm9yZWFjaCAoJHJlY2VudFsndG9waWNzJ10gYXMgJHRvcGljKSB7DQogICAgICAgICRleHBvcnRzW109YXJyYXkoDQogICAgICAgICAgICAndG9waWNfaWQnPT4kdG9waWNbJ3RvcGljX2lkJ10sDQogICAgICAgICAgICAnYWlkJz0+JHRvcGljWyd0b3BpY19zb3VyY2VfaWQnXSwNCiAgICAgICAgICAgICd0aXRsZSc9PiR0b3BpY1sndG9waWNfdGl0bGUnXSwNCiAgICAgICAgKTsNCiAgICB9DQogICAgZm9yZWFjaCAoJGV4cG9ydHMgYXMgJGV4cG9ydCkgew0KICAgICAgICBjaGFuZ3lhbl9pbnNlcnRfY29tbWVudHMoY2hhbmd5YW5fZ2V0X2NvbW1lbnRzKGNoYW5neWFuX2dldF9zZXR0aW5nKCdhcHBpZCcpLCRleHBvcnRbJ3RvcGljX2lkJ10pLCRleHBvcnRbJ2FpZCddLCRleHBvcnRbJ3RpdGxlJ10pOw0KICAgIH0NCiAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygnbGFzdF9leHBvcnQnLCB0aW1lKCkpOw0KICAgIFNob3dNc2coIrPJuaaxuLfds6nR1MbAwtu1vURlZGVDTVPPtc2zo6EiLCI/ZG9wb3N0PWltcG9ydCIpOw0KICAgIGV4aXQoKTsNCn0gZWxzZWlmICgkZG9wb3N0PT0nY2hlY2t1cGRhdGUnKQ0Kew0KICAgIFNob3dNc2coIjxwPrWxx7DOqtfu0MKw5rG+o6zO3tDrz8LU2Lj80MKjoTwvcD4gPHA+PGEgaHJlZj0nPycgPre1u9jJz9K70rM8L2E+PC9wPiIsImphdmFzY3JpcHQ6OyIpOw0KICAgIGV4aXQoKTsNCn0gZWxzZWlmICgkZG9wb3N0PT0nY2xlYXJjYWNoZScpDQp7DQogICAgY2hhbmd5YW5fY2xlYXJjYWNoZSgpOw0KICAgIFNob3dNc2coIrPJuabH5b/VserHqbu6tOajoSIsIj8iKTsNCiAgICBleGl0KCk7DQp9IGVsc2VpZigkZG9wb3N0PT0nZm9yZ2V0LXB3ZCcpDQp7DQogICAgU2hvd01zZygiPHA+IMjnufvE+s38vMfBy7Op0dTD3MLrIDwvcD4gPHA+PGEgaHJlZj0naHR0cDovL3d3dy5rdWFpemhhbi5jb20vcGFzc3BvcnQvZm9yZ2V0LXB3ZD9yZWZlcj1odHRwOi8vY2hhbmd5YW4ua3VhaXpoYW4uY29tL2F1ZGl0L2NvbW1lbnRzL1RPQVVESVQvMScgPrXju/fV4sDv1dK72DwvYT48L3A+IiwiamF2YXNjcmlwdDo7Iik7DQogICAgZXhpdCgpOw0KfSBlbHNlIHsNCiAgICAvKiC1x8K8uvPW973nw+YgKi8NCg0KICAgIGlmKGNoYW5neWFuX2lzbG9naW4oKSkNCiAgICB7DQogICAgICAgICRjaGFuZ3lhbl92ZXIgPSBDSEFOR1lBTl9WRVI7DQogICAgICAgICRsb2dpbl91cmw9Q0hBTkdZQU5fQVBJX1NFVENPT0tJRS4nP2NsaWVudF9pZD0nLkNIQU5HWUFOX0NMSUVOVF9JRC4nJnRva2VuPScuJF9TRVNTSU9OWydjaGFuZ3lhbiddOw0KICAgICAgICAkbG9naW5fc3RyID0gPDw8RU9UDQo8aWZyYW1lIHNyYz0ieyRsb2dpbl91cmx9IiBzY3JvbGxpbmc9Im5vIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iYm9yZGVyOm5vbmUiPjwvaWZyYW1lPg0KRU9UOw0KICAgICAgICANCiAgICAgICAgJGlzdl9hcHBfa2V5ID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ2lzdl9hcHBfa2V5Jyk7DQogICAgICAgICRpc3ZfaWQgPSBjaGFuZ3lhbl9nZXRfc2V0dGluZygnaXN2X2lkJyk7DQogICAgICAgICRpc3ZfaWQgPSBpbnR2YWwoJGlzdl9pZCk7DQogICAgICAgICRjaGFuZ2dlX2lzdl91cmwgPSBDSEFOR1lBTl9BUElfQ0hBTkdFX0lTVi4kaXN2X2lkOw0KICAgICAgICAvLyRpc3ZfYXBwX2tleSA9IGNoYW5neWFuX2dldF9pc3ZfYXBwX2tleSgpOw0KICAgICAgICAkY2hhbmdlX2lzdl9pZCA9IDw8PEVPVA0KPGRpdiBpZD0iY2hhbmdlX2lzdiI+PC9kaXY+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGNoYW5nZV9pc3ZfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYW5nZV9pc3YiKTtjaGFuZ2VfaXN2X2Rpdi5pbm5lckhUTUw9JzxpZnJhbWUgc3JjPSJ7JGNoYW5nZ2VfaXN2X3VybH0iIHNjcm9sbGluZz0ibm8iIHdpZHRoPSIwIiBoZWlnaHQ9IjAiIHN0eWxlPSJib3JkZXI6bm9uZSI+PC9pZnJhbWU+Jzt9LDEwMCk7DQo8L3NjcmlwdD4NCkVPVDsNCiAgICAgICAgaWYoIWVtcHR5KCRmb3J3YXJkKSkNCiAgICAgICAgew0KICAgICAgICAgICAgZWNobyA8PDxFT1QNCiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMTJweDtwYWRkaW5nOiAyMHB4O2JvcmRlcjogMXB4IHNvbGlkICNEREQ7Ij6zqdHUxKO/6dfUtq+1x8K81tCjrMfrxM3QxLXItP2hraGtPC9kaXY+DQp7JGxvZ2luX3N0cn0NCnskY2hhbmdlX2lzdl9pZH0NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCnNldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24uaHJlZj0nP2RvcG9zdD17JGZvcndhcmR9Jzt9LDUwMCk7DQo8L3NjcmlwdD4NCkVPVDsNCiAgICAgICAgICAgIGV4aXQoKTsNCiAgICAgICAgfQ0KICAgICAgICAkYWNjb3VudF9zdHIgPSBwcmVnX21hdGNoKCIjQGRlZGVjbXMkIyIsJF9TRVNTSU9OWyd1c2VyJ10pPyAiPGEgaHJlZj0nP2RvcG9zdD1iaW5kJyBzdHlsZT0nY29sb3I6Ymx1ZSc+W7DztqjVy7rFXTwvYT4gPGZvbnQgY29sb3I9J3JlZCc+zqrBy7Gj1qTE+rXExsDC27CyyKujrL2o0umw87ao1cu6xTwvZm9udD4iIDoNCiAgICAgICAgIjxhIGhyZWY9Jz9kb3Bvc3Q9bG9nb3V0JyBzdHlsZT0nY29sb3I6Ymx1ZSc+W8fQu7vVy7rFXTwvYT4iOw0KICAgICAgICAkbXNnID0gPDw8RU9UDQo8dGFibGUgd2lkdGg9Ijk4JSIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMSIgY2VsbHBhZGRpbmc9IjEiPg0KICA8dGJvZHk+DQogICAgPHRyPg0KICAgICAgPHRkIHdpZHRoPSIxNiUiIGhlaWdodD0iMzAiPrXHwrzTw7uno7o8L3RkPg0KICAgICAgPHRkIHdpZHRoPSI4NCUiIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Ij57JF9TRVNTSU9OWyd1c2VyJ119IHskYWNjb3VudF9zdHJ9IDwhLS08YSBocmVmPSc/ZG9wb3N0PWxvZ291dCcgc3R5bGU9J2NvbG9yOmJsdWUnPlvNy7P2XTwvYT4tLT48L3RkPg0KICAgIDwvdHI+DQogICAgPHRyPg0KICAgICAgPHRkIHdpZHRoPSIxNiUiIGhlaWdodD0iMzAiPrOp0dTEo7/psOaxvqO6PC90ZD4NCiAgICAgIDx0ZCB3aWR0aD0iODQlIiBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyI+dnskY2hhbmd5YW5fdmVyfSA8YSBocmVmPSc/ZG9wb3N0PWNoZWNrdXBkYXRlJyBzdHlsZT0nY29sb3I6Ymx1ZSc+W7zssum4/NDCXTwvYT4gPC90ZD4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCB3aWR0aD0iMTYlIiBoZWlnaHQ9IjMwIj5BcHAgSUSjujwvdGQ+DQogICAgICA8dGQgd2lkdGg9Ijg0JSIgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPjxpbnB1dCBjbGFzcz0iaW5wdXQteGxhcmdlIiB0eXBlPSJ0ZXh0IiB2YWx1ZT0ieyRhcHBpZH0iIGRpc2FibGVkPSJkaXNhYmxlZC8iIHN0eWxlPSJ3aWR0aDoyNjBweCI+IDxhIGhyZWY9Jz9kb3Bvc3Q9Y2hhbmdlX2FwcGluZm8nIHN0eWxlPSdjb2xvcjpibHVlJz5b0N64xF08L2E+IDxzcGFuIHN0eWxlPSJjb2xvcjojOTk5Ij4mbmJzcDtBUFAgSUTTw9Pax9C7u7K7zay1xNW+teM8L3NwYW4+PC90ZD4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCB3aWR0aD0iMTYlIiBoZWlnaHQ9IjMwIj5BUFAgS2V5o7o8L3RkPg0KICAgICAgPHRkIHdpZHRoPSI4NCUiIHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQ7Ij48aW5wdXQgY2xhc3M9ImlucHV0LXhsYXJnZSIgdHlwZT0idGV4dCIgdmFsdWU9InskaXN2X2FwcF9rZXl9IiBkaXNhYmxlZD0iZGlzYWJsZWQvIiBzdHlsZT0id2lkdGg6MjYwcHgiPiAgPC90ZD4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCBoZWlnaHQ9IjMwIiBjb2xzcGFuPSIyIj7E+tLRs8m5prXHwryzqdHUo6HE+r/J0tS9+NDQ0tTPwrLZ1/ejujwvdGQ+DQogICAgPC90cj4NCiAgICA8dHI+DQogICAgICA8dGQgaGVpZ2h0PSIzMCIgY29sc3Bhbj0iMiI+DQogICAgICA8YSBocmVmPSc/ZG9wb3N0PW1hbmFnZScgc3R5bGU9J2NvbG9yOmJsdWUnPlvGwMLbudzA7V08L2E+IA0KICAgICAgPGEgaHJlZj0nP2RvcG9zdD1zdGF0JyBzdHlsZT0nY29sb3I6Ymx1ZSc+W8r9vt3Ns7zGXTwvYT4gDQogICAgICA8YSBocmVmPSc/ZG9wb3N0PWltcG9ydCcgc3R5bGU9J2NvbG9yOmJsdWUnPlu1vMjrtbyz9l08L2E+IA0KICAgICAgPGEgaHJlZj0nP2RvcG9zdD1jbGVhcmNhY2hlJyBzdHlsZT0nY29sb3I6Ymx1ZSc+W8flv9W7urTmXTwvYT4gDQogICAgICA8YSBocmVmPSc/ZG9wb3N0PXNldHRpbmcnIHN0eWxlPSdjb2xvcjpibHVlJz5bs6nR1Mno1sNdPC9hPiANCiAgICAgIDwvdGQ+DQogICAgPC90cj4NCjx0cj4NCiAgICAgIDx0ZCBoZWlnaHQ9IjMwIiBjb2xzcGFuPSIyIj4NCiAgIDxocj4NCiAgIMq508PLtcP3o7o8YnI+DQogICDU2rbU06bEo7Dl1tDKudPDserHqaO6PGZvbnQgY29sb3I9InJlZCI+e2RlZGU6Y2hhbmd5YW4vfTwvZm9udD6jrNaxvdO9+NDQtffTw7y0v8mjrNH5yr3J6Laov8m147v3PGEgaHJlZj0nP2RvcG9zdD1zZXR0aW5nJyBzdHlsZT0nY29sb3I6Ymx1ZSc+W7Op0dTJ6NbDXTwvYT4gvfjQ0Mno1sOhow0KICA8aHI+DQogILmmxNzLtcP3o7o8YnI+DQogIDxiPlvGwMLbudzA7V08L2I+yfO6y6Giyb6z/cbAwtvQxc+io6zD9LjQtMq53MDto6zTw7unvfvR1LLZ1/ejuzxicj4NCiA8Yj5byv2+3c2zvMZdPC9iPtW+tePGwMLb0MXPosr9vt3Iq7e9zrvNs7zGo7s8YnI+DQogPGI+W7W8yOu1vLP2XTwvYj7GwMLb0MXPosr9vt21vMjrL7W8s/ajrL2o0unTw7untqjG2rW8s/axuLfdo7s8YnI+DQogPGI+W8flv9W7urTmXTwvYj7H5b/Vs6nR1MbAwtux6sepu7q05qOsyOe5+7j8uMS1x8K81cu6xb2o0unH5b/Vu7q05tTZyfqzyaO7PGJyPg0KIDxiPluzqdHUyejWw108L2I+s6nR1MbAwtvP4LnYyei2qKO7PGJyPjxicj4NCjxocj4NCiAgICA8L3RyPg0KICAgIDx0cj4NCiAgICAgIDx0ZCBoZWlnaHQ9IjMwIiBjb2xzcGFuPSIyIiBzdHlsZT0iY29sb3I6Izk5OSI+PHN0cm9uZz6zqdHUPC9zdHJvbmc+ysfSu7j2vPK1pdPRusO1xMnnu+G7r8bAwtu8sL7bus/Ptc2zoaOzqdHUxsDC28+1zbO/ydLUsaPWpMT6zfjVvrXExsDC27CyyKujrMjDxPq1xM341b7UtsDrwKy7+MbAwtuju9PDu6e/ydLUyrnTw9fUvLq1xMnnvbvVy7un1NrE+rXEzfjVvreise3GwMLbo6yyosfS0ru8/M2ssr3WwcnnvbvN+MLno6zOqsT6tcTN+NW+tPjAtLj8tuDB98G/oaM8L3RkPg0KICAgIDwvdHI+DQogIDwvdGJvZHk+DQo8L3RhYmxlPg0KeyRsb2dpbl9zdHJ9DQp7JGNoYW5nZV9pc3ZfaWR9DQpFT1Q7DQogICAgICAgICR3aW50aXRsZSA9ICezqdHUxsDC27ncwO0nOw0KICAgICAgICAkd2Vjb21lX2luZm8gPSAns6nR1MbAwtvEo7/pIKG3JzsNCiAgICAgICAgJHdpbiA9IG5ldyBPeFdpbmRvdygpOw0KICAgICAgICAkd2luLT5BZGRUaXRsZSgkd2ludGl0bGUpOw0KICAgICAgICAkd2luLT5BZGRNc2dJdGVtKCRtc2cpOw0KICAgICAgICAkd2luZm9ybSA9ICR3aW4tPkdldFdpbmRvdygnaGFuZCcsICcmbmJzcDsnLCBmYWxzZSk7DQogICAgICAgICR3aW4tPkRpc3BsYXkoKTsNCiAgICAgICAgZXhpdDsNCiAgICB9IGVsc2Ugew0KICAgICAgICB1bnNldCgkX1NFU1NJT05bJ2NoYW5neWFuJ10pOw0KICAgICAgICB1bnNldCgkX1NFU1NJT05bJ3VzZXInXSk7DQogICAgICAgICR1c2VyID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3VzZXInKTsNCiAgICAgICAgJHZlcnNpb24gPSBDSEFOR1lBTl9WRVI7DQogICAgICAgICRjaGFuZ3lhbl9yZWdfdXJsID0gQ0hBTkdZQU5fUkVHX1VSTDsNCiAgICAgICAgJGNoYW5neWFuX2ZvcmdldF9wd2RfdXJsID0gQ0hBTkdZQU5fRk9SR0VUX1BXRF9VUkw7DQogICAgICAgICRjaGFuZ3lhbl91cGRhdGVfdXJsID0gQ0hBTkdZQU5fVVBEQVRFX1VSTDsNCiAgICAgICAgaWYoZW1wdHkoJHVzZXIpKSAkdXNlcj0nJzsNCiAgICAgICAgJG1zZyA9IDw8PEVPVA0KPGh0bWw+DQo8aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXskY2ZnX3NvZnRfbGFuZ30iPg0KPHRpdGxlPrOp0dTGwMLbudzA7TwvdGl0bGU+DQo8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJ7JGNmZ19wbHVzX2Rpcn0vaW1nL2Jhc2UuY3NzIj4NCjwvaGVhZD4NCjxib2R5IGJhY2tncm91bmQ9J3skY2ZnX3BsdXNfZGlyfS9pbWcvYWxsYmcuZ2lmJyBsZWZ0bWFyZ2luPSI4IiB0b3BtYXJnaW49JzgnPg0KPHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgYWxpZ249ImNlbnRlciIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBiZ2NvbG9yPSIjREZGOUFBIj4NCiAgPHRyPg0KICAgIDx0ZCBoZWlnaHQ9IjI4IiBzdHlsZT0iYm9yZGVyOjFweCBzb2xpZCAjREFEQURBIiBiYWNrZ3JvdW5kPSd7JGNmZ19wbHVzX2Rpcn0vaW1nL3diZy5naWYnPiZuYnNwOzxiPqHzs6nR1MbAwtvEo7/pIKG3PC9iPjwvdGQ+DQogIDwvdHI+DQogIDx0cj4NCg0KICA8dGQgd2lkdGg9IjEwMCUiIGhlaWdodD0iODAiIHN0eWxlPSJwYWRkaW5nLXRvcDo1cHgiIGJnY29sb3I9JyNmZmZmZmYnPg0KDQogIDxzY3JpcHQgbGFuZ3VhZ2U9J2phdmFzY3JpcHQnPg0KZnVuY3Rpb24gQ2hlY2tTdWJtaXQoKXsNCiAgICByZXR1cm4gdHJ1ZTsNCn0NCjwvc2NyaXB0Pg0KICA8Zm9ybSBuYW1lPSdteWZvcm0nIG1ldGhvZD0nUE9TVCcgb25TdWJtaXQ9J3JldHVybiBDaGVja1N1Ym1pdCgpOycgYWN0aW9uPSc/Jz4NCg0KICA8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdkb3Bvc3QnIHZhbHVlPSdsb2dpbic+DQogIDx0YWJsZSB3aWR0aD0nMTAwJScgIGJvcmRlcj0nMCcgY2VsbHBhZGRpbmc9JzMnIGNlbGxzcGFjaW5nPScxJyBiZ2NvbG9yPScjREFEQURBJz4NCiAgICA8dHIgYmdjb2xvcj0nI0RBREFEQSc+DQogICAgICA8dGQgY29sc3Bhbj0nMicgYmFja2dyb3VuZD0neyRjZmdfcGx1c19kaXJ9L2ltZy93YmcuZ2lmJyBoZWlnaHQ9JzI2Jz48Zm9udCBjb2xvcj0nIzY2NjYwMCc+PGI+s6nR1MbAwtu53MDtPC9iPjwvZm9udD48L3RkPg0KICAgIDwvdHI+DQogICAgPHRyIGJnY29sb3I9JyNGRkZGRkYnPg0KICAgICAgPHRkIGNvbHNwYW49JzInICBoZWlnaHQ9JzEwMCc+PHRhYmxlIHdpZHRoPSI5OCUiIGJvcmRlcj0iMCIgY2VsbHNwYWNpbmc9IjEiIGNlbGxwYWRkaW5nPSIxIj4NCiAgICAgICAgICA8dGJvZHk+DQogICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgIDx0ZCB3aWR0aD0iMTYlIiBoZWlnaHQ9IjMwIj7Tys/ko7o8L3RkPg0KICAgICAgICAgICAgICA8dGQgd2lkdGg9Ijg0JSIgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPjxpbnB1dCBuYW1lPSJ1c2VyIiB0eXBlPSJ0ZXh0IiBpZD0idXNlciIgc2l6ZT0iMTYiIHN0eWxlPSJ3aWR0aDoyMDBweCIgdmFsdWU9InskdXNlcn0iIC8+DQogICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNoYW5neWFuX3JlZ191cmwiIHN0eWxlPSJjb2xvcjpibHVlIj7D4rfR16Ky4TwvYT4go6y78cih16jStbXExsDC27f+zvE8L3RkPg0KICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgPHRkIGhlaWdodD0iMzAiPsPcwuujujwvdGQ+DQogICAgICAgICAgICAgIDx0ZCBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyI+PGlucHV0IG5hbWU9InB3ZCIgdHlwZT0icGFzc3dvcmQiIGlkPSJwd2QiIHNpemU9IjE2IiBzdHlsZT0id2lkdGg6MjAwcHgiPg0KICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNoYW5neWFuX2ZvcmdldF9wd2RfdXJsIiBzdHlsZT0iY29sb3I6Ymx1ZSI+zfy8x8Pcwus8L2E+ICZuYnNwOyA8L3RkPg0KICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgPHRkIGhlaWdodD0iMzAiPrLlvP6w5rG+o7o8L3RkPg0KICAgICAgICAgICAgICA8dGQgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPjxpbnB1dCBuYW1lPSJ2ZXIiIHR5cGU9InRleHQiIGlkPSJ2ZXIiIHNpemU9IjE2IiBzdHlsZT0id2lkdGg6MjAwcHgiIHZhbHVlPSJ7JHZlcnNpb259IiByZWFkb25seSAvPg0KICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNoYW5neWFuX3VwZGF0ZV91cmwiIHN0eWxlPSJjb2xvcjpibHVlIj7PwtTY0MKw5rLlvP48L2E+ICZuYnNwOyA8L3RkPg0KICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICA8L3Rib2R5Pg0KICAgICAgICA8L3RhYmxlPjwvdGQ+DQogICAgPC90cj4NCiAgICA8dHI+DQogICAgICA8dGQgY29sc3Bhbj0nMicgYmdjb2xvcj0nI0Y5RkNFRic+PHRhYmxlIHdpZHRoPScxMDAlJyBib3JkZXI9JzAnIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCc+DQogICAgICAgICAgPHRyIGFsaWduPSdjZW50ZXInIGhlaWdodD0nMjgnPg0KICAgICAgICAgICAgPHRkIHdpZHRoPScxNiUnPjwvdGQ+DQogICAgICAgICAgICA8dGQgd2lkdGg9Jzg0JScgc3R5bGU9InRleHQtYWxpZ246IGxlZnQ7Ij48aW5wdXQgbmFtZT0naW1hZ2VGaWVsZDEnIHR5cGU9J2ltYWdlJyBjbGFzcz0nbnAnIHNyYz0neyRjZmdfcGx1c19kaXJ9L2ltZy9idXR0b25fb2suZ2lmJyB3aWR0aD0nNjAnIGhlaWdodD0nMjInIGJvcmRlcj0nMCcgLz48L3RkPg0KICAgICAgICAgICAgPHRkPjwvdGQ+DQogICAgICAgICAgPC90cj4NCiAgICAgICAgPC90YWJsZT48L3RkPg0KICAgIDwvdHI+DQogIDwvdGFibGU+DQogIDwvdGQ+DQogIDwvdHI+DQo8L3RhYmxlPg0KPC9ib2R5Pg0KPC9odG1sPg0KRU9UOw0KICAgICAgICBlY2hvICRtc2c7DQogICAgfQ0KfQ0KPz4NCg==
</file>
<file type='file' name='../include/helpers/changyan.helper.php'>
PD9waHAgaWYoIWRlZmluZWQoJ0RFREVJTkMnKSkgZXhpdCgnZGVkZWNtcycpOw0KDQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9BRVMnLCAnaHR0cDovL2NoYW5neWFuLmFwaS5kZWRlY21zLmNvbS8nKTsNCmRlZmluZSgnQ0hBTkdZQU5fSlFVRVJZJywgJ2h0dHA6Ly9qcy5zb2h1LmNvbS9saWJyYXJ5L2pxdWVyeS0xLjcuMS5taW4uanMnKTsNCmRlZmluZSgnQ0hBTkdZQU5fQVBJX1NJR04nLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9vcGVuL2dldC1zaWduJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9SRUcnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9vcGVuL3JlZycpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfQVVUT1JFRycsICdodHRwOi8vcy5jaGFuZ3lhbi5rdWFpemhhbi5jb20vYWRtaW4vYXBpL29wZW4vYXV0by1yZWcnKTsNCmRlZmluZSgnQ0hBTkdZQU5fQVBJX0xPR0lOJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9hZG1pbi9hcGkvb3Blbi92YWxpZGF0ZScpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfU0VUQ09PS0lFJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9hZG1pbi9hcGkvb3Blbi9zZXQtY29va2llJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9JU05FVycsICdodHRwOi8vcy5jaGFuZ3lhbi5rdWFpemhhbi5jb20vYWRtaW4vYXBpL3JlY2VudC1jb21tZW50LXRvcGljcycpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfTEFURVNUUycsICdodHRwOi8vcy5jaGFuZ3lhbi5rdWFpemhhbi5jb20vYXBpLzIvY29tbWVudC9sYXRlc3RzJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9SRUNFTlQnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9yZWNlbnQtY29tbWVudC10b3BpY3MnKTsNCmRlZmluZSgnQ0hBTkdZQU5fQVBJX0NPREUnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9vcGVuL2dldC1jb2RlJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9BRERTSVRFJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9hZG1pbi9hcGkvb3Blbi9hZGQtaXN2Jyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9DSEFOR0VfSVNWJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9jaGFuZ2UtaXN2LycpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfQ0hFQ0tfTE9HSU4nLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2NoZWNrLWxvZ2luJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9HRVRBUFBLRVknLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tLyBhZG1pbi9hcGkvb3Blbi9nZXQtYXBwa2V5Jyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9DT01NRU5UUycsICdodHRwOi8vcy5jaGFuZ3lhbi5zb2h1LmNvbS9hcGkvMi90b3BpYy9jb21tZW50cycpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfVE9QSUNDT01NRU5UUycsICdodHRwOi8vcy5jaGFuZ3lhbi5zb2h1LmNvbS9hcGkvMi90b3BpYy9sb2FkJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9JTVBPUlQnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9pbXBvcnQvY29tbWVudCcpOw0KZGVmaW5lKCdDSEFOR1lBTl9BUElfR0VUSVNWUycsICdodHRwOi8vcy5jaGFuZ3lhbi5rdWFpemhhbi5jb20vYWRtaW4vYXBpL29wZW4vZ2V0LWlzdnMnKTsNCmRlZmluZSgnQ0hBTkdZQU5fQVBJX0dFVElTVlNfSlNPTlAnLCAnaHR0cDovL3MuY2hhbmd5YW4ua3VhaXpoYW4uY29tL2FkbWluL2FwaS9vcGVuL2dldC1pc3ZzLWpzb25wJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9CSU5EQUNDJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9hZG1pbi9hcGkvb3Blbi9tb2Qtb3BpbmZvJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0FQSV9GT1JHRVRfUFdEJywgJ2h0dHA6Ly9zLmNoYW5neWFuLmt1YWl6aGFuLmNvbS9wbGF0Zm9ybS9mb3JnZXQtcHdkJyk7DQpkZWZpbmUoJ0NIQU5HWUFOX1JFR19VUkwnLCdodHRwOi8vd3d3Lmt1YWl6aGFuLmNvbS9wYXNzcG9ydC8/cmVmZXI9aHR0cDovL2NoYW5neWFuLmt1YWl6aGFuLmNvbS9hdWRpdC9jb21tZW50cy9UT0FVRElULzEnKTsNCmRlZmluZSgnQ0hBTkdZQU5fRk9SR0VUX1BXRF9VUkwnLCdodHRwOi8vd3d3Lmt1YWl6aGFuLmNvbS9wYXNzcG9ydC8/cmVmZXI9aHR0cDovL2NoYW5neWFuLmt1YWl6aGFuLmNvbS9hdWRpdC9jb21tZW50cy9UT0FVRElULzEnKTsNCmRlZmluZSgnQ0hBTkdZQU5fVVBEQVRFX1VSTCcsJ2h0dHA6Ly9jaGFuZ3lhbi5zb2h1LmNvbS9kb3dubG9hZC9kZWRlLycpOw0KDQpkZWZpbmUoJ0NIQU5HWUFOX0NMSUVOVF9JRCcsICdjYXFYWUllMzInKTsNCmRlZmluZSgnQ0hBTkdZQU5fQ0xJRU5UX0tFWScsICdiY2I1ODU2MjhiNTk1ODQ4OTFmZjU4OTdiZTg4OGM0NScpOw0KDQovL2RlZmluZSgnQ0hBTkdZQU5fSlFVRVJZX1NSQycsICc8c2NyaXB0PndpbmRvdy5qUXVlcnkgfHwgZG9jdW1lbnQud3JpdGUodW5lc2NhcGUoXCclM0NzY3JpcHQgc3JjPSJodHRwOi8vY2hhbmd5YW4uYXBpLmRlZGVjbXMuY29tL2Fzc2V0cy9qcy9qcXVlcnkubWluLmpzIiUzRSUzQy9zY3JpcHQlM0VcJykpPC9zY3JpcHQ+Jyk7DQpkZWZpbmUoJ0NIQU5HWUFOX0pRVUVSWV9TUkMnLCAnPHNjcmlwdD53aW5kb3cualF1ZXJ5IHx8IGRvY3VtZW50LndyaXRlKHVuZXNjYXBlKFwnJTNDc2NyaXB0IHNyYz0iaHR0cDovL2pzLnNvaHUuY29tL2xpYnJhcnkvanF1ZXJ5LTEuNy4xLm1pbi5qcyIlM0UlM0Mvc2NyaXB0JTNFXCcpKTwvc2NyaXB0PicpOw0KDQpkZWZpbmUoJ0NIQU5HWUFOX1ZFUicsICcwLjAuMTcnKTsNCg0KJEdMT0JBTFNbJ3VwZGF0ZV9zcWxzJ109YXJyYXkoDQogICAgJzAuMC4yJz0+YXJyYXkoDQogICAgICAgICJJTlNFUlQgSU5UTyBgI0BfX3BsdXNfY2hhbmd5YW5fc2V0dGluZ2AgKGBza2V5YCwgYHN2YWx1ZWAsIGBzdGltZWApIFZBTFVFUyAoJ2xhc3RfZXhwb3J0JywgJzAnLCAwKTsiLA0KICAgICAgICAiSU5TRVJUIElOVE8gYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIChgc2tleWAsIGBzdmFsdWVgLCBgc3RpbWVgKSBWQUxVRVMgKCdsYXN0X2ltcG9ydCcsICcwJywgMCk7IiwNCiAgICAgICAgIklOU0VSVCBJTlRPIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCAoYHNrZXlgLCBgc3ZhbHVlYCwgYHN0aW1lYCkgVkFMVUVTICgndmVyc2lvbicsICcwLjAuMicsIDApOyIsDQogICAgICAgICJJTlNFUlQgSU5UTyBgI0BfX3BsdXNfY2hhbmd5YW5fc2V0dGluZ2AgKGBza2V5YCwgYHN2YWx1ZWAsIGBzdGltZWApIFZBTFVFUyAoJ2lzdl9hcHBfa2V5JywgJzAnLCAwKTsiLA0KICAgICAgICAiQ1JFQVRFIFRBQkxFIGAjQF9fcGx1c19jaGFuZ3lhbl9pbnNlcnRpZHNgIChgaWRgIElOVCgxMCkgTk9UIE5VTEwgQVVUT19JTkNSRU1FTlQsDQogICAgICAgICAgICBgYWlkYCBJTlQoMTApIE5VTEwgREVGQVVMVCAnMCcsDQogICAgICAgICAgICBgY29tbWVudF9pZGAgSU5UKDEyKSBOVUxMIERFRkFVTFQgJzAnLA0KICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGBpZGApLA0KICAgICAgICAgICAgVU5JUVVFIElOREVYIGBjb21tZW50X2lkYCAoYGNvbW1lbnRfaWRgKQ0KICAgICAgICApDQogICAgICAgIFRZUEU9TXlJU0FNOyIsDQogICAgICAgICJDUkVBVEUgVEFCTEUgYCNAX19wbHVzX2NoYW5neWFuX2ltcG9ydGlkc2AgKGBpZGAgSU5UKDEwKSBOT1QgTlVMTCBBVVRPX0lOQ1JFTUVOVCwNCiAgICAgICAgICAgIGBhaWRgIElOVCgxMCkgTlVMTCBERUZBVUxUICcwJywNCiAgICAgICAgICAgIGBmZWVkYmFja19pZGAgSU5UKDEyKSBOVUxMIERFRkFVTFQgJzAnLA0KICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGBpZGApLA0KICAgICAgICAgICAgVU5JUVVFIElOREVYIGBmZWVkYmFja19pZGAgKGBmZWVkYmFja19pZGApDQogICAgICAgICkNCiAgICAgICAgVFlQRT1NeUlTQU07IiwNCiAgICApLA0KICAgICcwLjAuMyc9PmFycmF5KA0KICAgICAgICAiVVBEQVRFIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCBTRVQgYHN2YWx1ZWA9JzAuMC4zJyBXSEVSRSBgc2tleWA9J3ZlcnNpb24nOyIsDQogICAgKSwNCiAgICAnMC4wLjQnPT5hcnJheSgNCiAgICAgICAgIlVQREFURSBgI0BfX3BsdXNfY2hhbmd5YW5fc2V0dGluZ2AgU0VUIGBzdmFsdWVgPScwLjAuNCcgV0hFUkUgYHNrZXlgPSd2ZXJzaW9uJzsiLA0KICAgICksDQogICAgJzAuMC41Jz0+YXJyYXkoDQogICAgICAgICJVUERBVEUgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIFNFVCBgc3ZhbHVlYD0nMC4wLjUnIFdIRVJFIGBza2V5YD0ndmVyc2lvbic7IiwNCiAgICApLA0KICAgICcwLjAuNic9PmFycmF5KA0KICAgICAgICAiVVBEQVRFIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCBTRVQgYHN2YWx1ZWA9JzAuMC42JyBXSEVSRSBgc2tleWA9J3ZlcnNpb24nOyIsDQogICAgKSwNCiAgICAnMC4wLjcnPT5hcnJheSgNCiAgICAgICAgIlVQREFURSBgI0BfX3BsdXNfY2hhbmd5YW5fc2V0dGluZ2AgU0VUIGBzdmFsdWVgPScwLjAuNycgV0hFUkUgYHNrZXlgPSd2ZXJzaW9uJzsiLA0KICAgICksDQogICAgJzAuMC44Jz0+YXJyYXkoDQogICAgICAgICJVUERBVEUgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIFNFVCBgc3ZhbHVlYD0nMC4wLjgnIFdIRVJFIGBza2V5YD0ndmVyc2lvbic7IiwNCiAgICApLA0KICAgICcwLjAuOSc9PmFycmF5KA0KICAgICAgICAiVVBEQVRFIGAjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nYCBTRVQgYHN2YWx1ZWA9JzAuMC45JyBXSEVSRSBgc2tleWA9J3ZlcnNpb24nOyIsDQogICAgKSwNCiAgICAnMC4wLjEwJz0+YXJyYXkoDQogICAgICAgICJVUERBVEUgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIFNFVCBgc3ZhbHVlYD0nMC4wLjEwJyBXSEVSRSBgc2tleWA9J3ZlcnNpb24nOyIsDQogICAgKSwNCik7DQoNCmhlbHBlcignY2FjaGUnKTsNCg0KZnVuY3Rpb24gY2hhbmd5YW5fY2xlYXJjYWNoZSgpDQp7DQogICAgJHByZWZpeCA9ICdjaGFuZ3lhbic7DQogICAgJGtleSA9ICdjb2RlJzsNCiAgICBEZWxDYWNoZSgkcHJlZml4LCAka2V5KTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fbWNoU3RyQ29kZSgkc3RyaW5nLCAkb3BlcmF0aW9uID0gJ0VOQ09ERScpIA0Kew0KICAgICRrZXlfbGVuZ3RoID0gNDsNCiAgICAkZXhwaXJ5ID0gMDsNCiAgICAka2V5ID0gbWQ1KCRHTE9CQUxTWydjZmdfY29va2llX2VuY29kZSddKTsNCiAgICAkZml4ZWRrZXkgPSBtZDUoJGtleSk7DQogICAgJGVnaXNrZXlzID0gbWQ1KHN1YnN0cigkZml4ZWRrZXksIDE2LCAxNikpOw0KICAgICRydW50b2tleSA9ICRrZXlfbGVuZ3RoID8gKCRvcGVyYXRpb24gPT0gJ0VOQ09ERScgPyBzdWJzdHIobWQ1KG1pY3JvdGltZSh0cnVlKSksIC0ka2V5X2xlbmd0aCkgOiBzdWJzdHIoJHN0cmluZywgMCwgJGtleV9sZW5ndGgpKSA6ICcnOw0KICAgICRrZXlzID0gbWQ1KHN1YnN0cigkcnVudG9rZXksIDAsIDE2KSAuIHN1YnN0cigkZml4ZWRrZXksIDAsIDE2KSAuIHN1YnN0cigkcnVudG9rZXksIDE2KSAuIHN1YnN0cigkZml4ZWRrZXksIDE2KSk7DQogICAgJHN0cmluZyA9ICRvcGVyYXRpb24gPT0gJ0VOQ09ERScgPyBzcHJpbnRmKCclMDEwZCcsICRleHBpcnkgPyAkZXhwaXJ5ICsgdGltZSgpIDogMCkuc3Vic3RyKG1kNSgkc3RyaW5nLiRlZ2lza2V5cyksIDAsIDE2KSAuICRzdHJpbmcgOiBiYXNlNjRfZGVjb2RlKHN1YnN0cigkc3RyaW5nLCAka2V5X2xlbmd0aCkpOw0KDQogICAgJGkgPSAwOyAkcmVzdWx0ID0gJyc7DQogICAgJHN0cmluZ19sZW5ndGggPSBzdHJsZW4oJHN0cmluZyk7DQogICAgZm9yICgkaSA9IDA7ICRpIDwgJHN0cmluZ19sZW5ndGg7ICRpKyspew0KICAgICAgICAkcmVzdWx0IC49IGNocihvcmQoJHN0cmluZ3skaX0pIF4gb3JkKCRrZXlzeyRpICUgMzJ9KSk7DQogICAgfQ0KICAgIGlmKCRvcGVyYXRpb24gPT0gJ0VOQ09ERScpIHsNCiAgICAgICAgcmV0dXJuICRydW50b2tleSAuIHN0cl9yZXBsYWNlKCc9JywgJycsIGJhc2U2NF9lbmNvZGUoJHJlc3VsdCkpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGlmKChzdWJzdHIoJHJlc3VsdCwgMCwgMTApID09IDAgfHwgc3Vic3RyKCRyZXN1bHQsIDAsIDEwKSAtIHRpbWUoKSA+IDApICYmIHN1YnN0cigkcmVzdWx0LCAxMCwgMTYpID09IHN1YnN0cihtZDUoc3Vic3RyKCRyZXN1bHQsIDI2KS4kZWdpc2tleXMpLCAwLCAxNikpIHsNCiAgICAgICAgICAgIHJldHVybiBzdWJzdHIoJHJlc3VsdCwgMjYpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICB9DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9RdW90ZV9yZXBsYWNlKCRxdW90ZSkNCnsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgne3F1b3RlfScsJycsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgne3RpdGxlfScsJycsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgney90aXRsZX0nLCcnLCRxdW90ZSk7DQogICAgJHF1b3RlID0gc3RyX3JlcGxhY2UoJyZsdDtici8mZ3Q7JywiXG5cciIsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgnJmx0OycsICcnLCAkcXVvdGUpOw0KICAgICRxdW90ZSA9IHN0cl9yZXBsYWNlKCcmZ3Q7JywgJycsICRxdW90ZSk7DQogICAgJHF1b3RlID0gc3RyX3JlcGxhY2UoJ3tjb250ZW50fScsJycsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgney9jb250ZW50fScsJycsJHF1b3RlKTsNCiAgICAkcXVvdGUgPSBzdHJfcmVwbGFjZSgney9xdW90ZX0nLCcnLCRxdW90ZSk7DQogICAgcmV0dXJuICRxdW90ZTsNCn0NCg0KDQovL7j80MLF5NbDuq/K/Q0KZnVuY3Rpb24gY2hhbmd5YW5fUmVXcml0ZUNvbmZpZygpDQp7DQogICAgZ2xvYmFsICRkc3FsOw0KICAgICRjb25maWdmaWxlID0gREVERURBVEEuJy9jb25maWcuY2FjaGUuaW5jLnBocCc7DQogICAgaWYoIWlzX3dyaXRlYWJsZSgkY29uZmlnZmlsZSkpDQogICAgew0KICAgICAgICBlY2hvICLF5NbDzsS8/id7JGNvbmZpZ2ZpbGV9J7K71qez1tC0yOujrM7et6jQ3rjEz7XNs8Xk1sOyzsr9o6EiOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KICAgICRmcCA9IGZvcGVuKCRjb25maWdmaWxlLCd3Jyk7DQogICAgZmxvY2soJGZwLDMpOw0KICAgIGZ3cml0ZSgkZnAsIjwiLiI/cGhwXHJcbiIpOw0KICAgICRkc3FsLT5TZXRRdWVyeSgiU0VMRUNUIGB2YXJuYW1lYCxgdHlwZWAsYHZhbHVlYCxgZ3JvdXBpZGAgRlJPTSBgI0BfX3N5c2NvbmZpZ2AgT1JERVIgQlkgYWlkIEFTQyAiKTsNCiAgICAkZHNxbC0+RXhlY3V0ZSgpOw0KICAgIHdoaWxlKCRyb3cgPSAkZHNxbC0+R2V0QXJyYXkoKSkNCiAgICB7DQogICAgICAgIGlmKCRyb3dbJ3R5cGUnXT09J251bWJlcicpDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKCRyb3dbJ3ZhbHVlJ109PScnKSAkcm93Wyd2YWx1ZSddID0gMDsNCiAgICAgICAgICAgIGZ3cml0ZSgkZnAsIlwkeyRyb3dbJ3Zhcm5hbWUnXX0gPSAiLiRyb3dbJ3ZhbHVlJ10uIjtcclxuIik7DQogICAgICAgIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgICBmd3JpdGUoJGZwLCJcJHskcm93Wyd2YXJuYW1lJ119ID0gJyIuc3RyX3JlcGxhY2UoIiciLCcnLCRyb3dbJ3ZhbHVlJ10pLiInO1xyXG4iKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmd3JpdGUoJGZwLCI/Ii4iPiIpOw0KICAgIGZjbG9zZSgkZnApOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9odHRwX3NlbmQoJHVybCwgJGxpbWl0PTAsICRwb3N0PScnLCAkY29va2llPScnLCAkdGltZW91dD0xNSkNCnsNCiAgICAkcmV0dXJuID0gJyc7DQogICAgJG1hdGNoZXMgPSBwYXJzZV91cmwoJHVybCk7DQogICAgJHNjaGVtZSA9ICRtYXRjaGVzWydzY2hlbWUnXTsNCiAgICAkaG9zdCA9ICRtYXRjaGVzWydob3N0J107DQogICAgJHBhdGggPSAkbWF0Y2hlc1sncGF0aCddID8gJG1hdGNoZXNbJ3BhdGgnXS4oQCRtYXRjaGVzWydxdWVyeSddID8gJz8nLiRtYXRjaGVzWydxdWVyeSddIDogJycpIDogJy8nOw0KICAgICRwb3J0ID0gIWVtcHR5KCRtYXRjaGVzWydwb3J0J10pID8gJG1hdGNoZXNbJ3BvcnQnXSA6IDgwOw0KDQogICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygnY3VybF9pbml0JykgJiYgZnVuY3Rpb25fZXhpc3RzKCdjdXJsX2V4ZWMnKSkgew0KICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHNjaGVtZS4nOi8vJy4kaG9zdC4nOicuJHBvcnQuJHBhdGgpOw0KICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOw0KICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRk9MTE9XTE9DQVRJT04sIDEpOw0KICAgICAgICBpZiAoJHBvc3QpIHsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCAxKTsNCiAgICAgICAgICAgICRjb250ZW50ID0gaXNfYXJyYXkoJHBvc3QpID8gaHR0cF9idWlsZF9xdWVyeSgkcG9zdCkgOiAkcG9zdDsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCB1cmxkZWNvZGUoJGNvbnRlbnQpKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoJGNvb2tpZSkgew0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPT0tJRSwgJGNvb2tpZSk7DQogICAgICAgIH0NCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULCAkdGltZW91dCk7DQogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9USU1FT1VULCA5MDApOw0KICAgICAgICAkZGF0YSA9IGN1cmxfZXhlYygkY2gpOw0KICAgICAgICAkc3RhdHVzID0gY3VybF9nZXRpbmZvKCRjaCk7DQogICAgICAgICRlcnJubyA9IGN1cmxfZXJybm8oJGNoKTsNCiAgICAgICAgY3VybF9jbG9zZSgkY2gpOw0KICAgICAgICBpZiAoJGVycm5vIHx8ICRzdGF0dXNbJ2h0dHBfY29kZSddICE9IDIwMCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuICEkbGltaXQgPyAkZGF0YSA6IHN1YnN0cigkZGF0YSwgMCwgJGxpbWl0KTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGlmICgkcG9zdCkgew0KICAgICAgICAkY29udGVudCA9IGlzX2FycmF5KCRwb3N0KSA/IHVybGRlY29kZShodHRwX2J1aWxkX3F1ZXJ5KCRwb3N0KSkgOiAkcG9zdDsNCiAgICAgICAgJG91dCA9ICJQT1NUICRwYXRoIEhUVFAvMS4wXHJcbiI7DQogICAgICAgICRoZWFkZXIgPSAiQWNjZXB0OiAqLypcclxuIjsNCiAgICAgICAgJGhlYWRlciAuPSAiQWNjZXB0LUxhbmd1YWdlOiB6aC1jblxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICJVc2VyLUFnZW50OiAiLkAkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10uIlxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICJIb3N0OiAkaG9zdDokcG9ydFxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICdDb250ZW50LUxlbmd0aDogJy5zdHJsZW4oJGNvbnRlbnQpLiJcclxuIjsNCiAgICAgICAgJGhlYWRlciAuPSAiQ29ubmVjdGlvbjogQ2xvc2VcclxuIjsNCiAgICAgICAgJGhlYWRlciAuPSAiQ2FjaGUtQ29udHJvbDogbm8tY2FjaGVcclxuIjsNCiAgICAgICAgJGhlYWRlciAuPSAiQ29va2llOiAkY29va2llXHJcblxyXG4iOw0KICAgICAgICAkb3V0IC49ICRoZWFkZXIuJGNvbnRlbnQ7DQogICAgfSBlbHNlIHsNCiAgICAgICAgJG91dCA9ICJHRVQgJHBhdGggSFRUUC8xLjBcclxuIjsNCiAgICAgICAgJGhlYWRlciA9ICJBY2NlcHQ6ICovKlxyXG4iOw0KICAgICAgICAkaGVhZGVyIC49ICJBY2NlcHQtTGFuZ3VhZ2U6IHpoLWNuXHJcbiI7DQogICAgICAgICRoZWFkZXIgLj0gIlVzZXItQWdlbnQ6ICIuQCRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXS4iXHJcbiI7DQogICAgICAgICRoZWFkZXIgLj0gIkhvc3Q6ICRob3N0OiRwb3J0XHJcbiI7DQogICAgICAgICRoZWFkZXIgLj0gIkNvbm5lY3Rpb246IENsb3NlXHJcbiI7DQogICAgICAgICRoZWFkZXIgLj0gIkNvb2tpZTogJGNvb2tpZVxyXG5cclxuIjsNCiAgICAgICAgJG91dCAuPSAkaGVhZGVyOw0KICAgIH0NCg0KICAgICRmcGZsYWcgPSAwOw0KICAgICRmcCA9IGZhbHNlOw0KICAgIGlmIChmdW5jdGlvbl9leGlzdHMoJ2Zzb2NrZXRvcGVuJykpIHsNCiAgICAgICAgJGZwID0gZnNvY2tldG9wZW4oJGhvc3QsICRwb3J0LCAkZXJybm8sICRlcnJzdHIsICR0aW1lb3V0KTsNCiAgICB9DQogICAgaWYgKCEkZnApIHsNCiAgICAgICAgJGNvbnRleHQgPSBzdHJlYW1fY29udGV4dF9jcmVhdGUoYXJyYXkoDQogICAgICAgICAgICAnaHR0cCcgPT4gYXJyYXkoDQogICAgICAgICAgICAgICAgJ21ldGhvZCcgPT4gJHBvc3QgPyAnUE9TVCcgOiAnR0VUJywNCiAgICAgICAgICAgICAgICAnaGVhZGVyJyA9PiAkaGVhZGVyLA0KICAgICAgICAgICAgICAgICdjb250ZW50JyA9PiAkY29udGVudCwNCiAgICAgICAgICAgICAgICAndGltZW91dCcgPT4gJHRpbWVvdXQsDQogICAgICAgICAgICApLA0KICAgICAgICApKTsNCiAgICAgICAgJGZwID0gQGZvcGVuKCRzY2hlbWUuJzovLycuJGhvc3QuJzonLiRwb3J0LiRwYXRoLCAnYicsIGZhbHNlLCAkY29udGV4dCk7DQogICAgICAgICRmcGZsYWcgPSAxOw0KICAgIH0NCg0KICAgIGlmICghJGZwKSB7DQogICAgICAgIHJldHVybiAnJzsNCiAgICB9IGVsc2Ugew0KICAgICAgICBzdHJlYW1fc2V0X2Jsb2NraW5nKCRmcCwgdHJ1ZSk7DQogICAgICAgIHN0cmVhbV9zZXRfdGltZW91dCgkZnAsICR0aW1lb3V0KTsNCiAgICAgICAgQGZ3cml0ZSgkZnAsICRvdXQpOw0KICAgICAgICAkc3RhdHVzID0gc3RyZWFtX2dldF9tZXRhX2RhdGEoJGZwKTsNCiAgICAgICAgaWYgKCEkc3RhdHVzWyd0aW1lZF9vdXQnXSkgew0KICAgICAgICAgICAgd2hpbGUgKCFmZW9mKCRmcCkgJiYgISRmcGZsYWcpIHsNCiAgICAgICAgICAgICAgICBpZiAoKCRoZWFkZXIgPSBAZmdldHMoJGZwKSkgJiYgKCRoZWFkZXIgPT0gIlxyXG4iIHx8ICAkaGVhZGVyID09ICJcbiIpKSB7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICgkbGltaXQpIHsNCiAgICAgICAgICAgICAgICAkcmV0dXJuID0gc3RyZWFtX2dldF9jb250ZW50cygkZnAsICRsaW1pdCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICRyZXR1cm4gPSBzdHJlYW1fZ2V0X2NvbnRlbnRzKCRmcCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgQGZjbG9zZSgkZnApOw0KICAgICAgICByZXR1cm4gJHJldHVybjsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2F1dG9DaGFyc2V0KCRtc2csJHR5cGU9J291dCcpDQp7DQogICAgZ2xvYmFsICRjZmdfc29mdF9sYW5nOw0KICAgIGlmICgkY2ZnX3NvZnRfbGFuZz09J2diMjMxMicpIHsNCiAgICAgICAgaWYoJHR5cGU9PSdvdXQnKSByZXR1cm4gZ2IydXRmOCgkbXNnKTsNCiAgICAgICAgZWxzZSByZXR1cm4gdXRmODJnYigkbXNnKTsNCiAgICB9IA0KICAgIHJldHVybiAkbXNnOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9nZW5fc2lnbigkdXNlcikNCnsNCiAgICBnbG9iYWwgJGNmZ192ZXJzaW9uLCRkc3FsOw0KICAgICRwaHB2ID0gcGhwdmVyc2lvbigpOw0KICAgICRzcF9vcyA9IFBIUF9PUzsNCiAgICAkbXlzcWxfdmVyID0gJGRzcWwtPkdldFZlcnNpb24oKTsNCiAgICAkbnVybCA9ICRfU0VSVkVSWydIVFRQX0hPU1QnXTsNCiAgICBpZiggcHJlZ19tYXRjaCgiI1thLXpcLV17MSx9XC5bYS16XXsyLH0jaSIsJG51cmwpICkgew0KICAgICAgICAkbnVybCA9IHVybGVuY29kZSgkbnVybCk7DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICAkbnVybCA9ICJ0ZXN0IjsNCiAgICB9DQogICAgJGFlc191cmw9Q0hBTkdZQU5fQVBJX1NJR04uJz9wbGF0Zm9ybT1kZWRlY21zJy4nJmlucHV0PScuJHVzZXIuIiZ2ZXJzaW9uPXskY2ZnX3ZlcnNpb259JmZvcm11cmw9eyRudXJsfSZwaHB2ZXI9eyRwaHB2fSZvcz17JHNwX29zfSZteXNxbHZlcj17JG15c3FsX3Zlcn0mY3l2ZXI9Ii5DSEFOR1lBTl9WRVI7DQogICAgcmV0dXJuIGNoYW5neWFuX2h0dHBfc2VuZCgkYWVzX3VybCk7DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2JpbmRfYWNjb3VudCgkbmV3X3VzZXIsJG5ld19wd2QsICRlcnJvcmluZm89JycpDQp7DQogICAgJG9sZF91c2VyID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3VzZXInKTsNCiAgICAkb2xkX3Bhc3N3b3JkPWNoYW5neWFuX21jaFN0ckNvZGUoY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3B3ZCcpLCAnREVDT0RFJykgOw0KICAgICRzaWduPWNoYW5neWFuX2dlbl9zaWduKCRvbGRfdXNlcik7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ2NsaWVudF9pZCc9PkNIQU5HWUFOX0NMSUVOVF9JRCwgDQogICAgICAgICdvbGRfdXNlcic9PiRvbGRfdXNlciwgDQogICAgICAgICdvbGRfcGFzc3dvcmQnPT4kb2xkX3Bhc3N3b3JkLCANCiAgICAgICAgJ25ld191c2VyJz0+JG5ld191c2VyLCANCiAgICAgICAgJ25ld19wYXNzd29yZCc9PiRuZXdfcHdkLCANCiAgICAgICAgJ3NpZ24nPT4kc2lnbik7DQogICAgJHJzPWpzb25fZGVjb2RlKGNoYW5neWFuX2h0dHBfc2VuZChDSEFOR1lBTl9BUElfQklOREFDQy4nPycuaHR0cF9idWlsZF9xdWVyeSgkcGFyYW1zQXJyKSksVFJVRSk7DQogICAgaWYoIWlzc2V0KCRyc1snc3RhdHVzJ10pKSByZXR1cm4gRkFMU0U7DQogICAgaWYoJHJzWydzdGF0dXMnXT09MCkNCiAgICB7DQogICAgICAgICRuZXdfcHdkID0gY2hhbmd5YW5fbWNoU3RyQ29kZSgkbmV3X3B3ZCwgJ0VOQ09ERScpOw0KICAgICAgICBjaGFuZ3lhbl9zZXRfc2V0dGluZygndXNlcicsICRuZXdfdXNlcik7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdwd2QnLCAkbmV3X3B3ZCk7DQogICAgICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdpc3ZfYXBwX2tleScsICcnKTsNCiAgICAgICAgJGlzdl9hcHBfa2V5ID0gY2hhbmd5YW5fZ2V0X2lzdl9hcHBfa2V5KCk7DQogICAgICAgIGNoYW5neWFuX2NsZWFyY2FjaGUoKTsNCiAgICAgICAgcmV0dXJuIFRSVUU7DQogICAgfSBlbHNlIHsNCiAgICAgICAgJGVycm9yaW5mbyA9ICRyc1snbXNnJ107DQogICAgICAgIHJldHVybiBGQUxTRTsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2htYWNzaGExKCRkYXRhLCAka2V5KSB7DQogICAgcmV0dXJuIGhhc2hfaG1hYygnc2hhMScsICRkYXRhLCAka2V5KTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZ2V0X2lzdnMoKQ0Kew0KICAgICR1c2VyID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3VzZXInKTsNCiAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ2NsaWVudF9pZCc9PkNIQU5HWUFOX0NMSUVOVF9JRCwgDQogICAgICAgICd1c2VyJz0+JHVzZXIsIA0KICAgICAgICAnc2lnbic9PiRzaWduKTsNCiAgICAkcnM9anNvbl9kZWNvZGUoY2hhbmd5YW5faHR0cF9zZW5kKENIQU5HWUFOX0FQSV9HRVRJU1ZTLic/Jy5odHRwX2J1aWxkX3F1ZXJ5KCRwYXJhbXNBcnIpKSxUUlVFKTsNCiAgICBpZihpc3NldCgkcnNbJ2lzdnMnXSkpIHJldHVybiBqc29uX2RlY29kZSgkcnNbJ2lzdnMnXSxUUlVFKTsNCiAgICBlbHNlIHJldHVybiBGQUxTRTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZ2V0X2lzdnNfanNvbnAoKQ0Kew0KICAgICRhcHBpZCA9IGNoYW5neWFuX2dldF9zZXR0aW5nKCdhcHBpZCcpOw0KICAgICR1c2VyID0gY2hhbmd5YW5fZ2V0X3NldHRpbmcoJ3VzZXInKTsNCiAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgJGNsaWVudF9pZD1DSEFOR1lBTl9DTElFTlRfSUQ7DQogICAgJGpzb25wX3VybD1DSEFOR1lBTl9BUElfR0VUSVNWU19KU09OUDsNCiAgICByZXR1cm4gPDw8RU9UDQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQokLmFqYXgoeyAgDQogICAgICAgIHR5cGU6ICJnZXQiLCAgDQogICAgICAgIHVybDogInskanNvbnBfdXJsfSIsICANCiAgICAgICAgZGF0YVR5cGU6ICJqc29ucCIsDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgIGNsaWVudF9pZDogJ3skY2xpZW50X2lkfScsDQogICAgICAgICAgICB1c2VyOiAneyR1c2VyfScsDQogICAgICAgICAgICBzaWduOiAneyRzaWdufScNCiAgICAgICAgfSwNCiAgICAgICAganNvbnA6ICJjYWxsYmFjayIsDQogICAgICAgIGpzb25wQ2FsbGJhY2s6ICJzdWNjZXNzX2pzb25wQ2FsbGJhY2siLA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXsgIA0KICAgICAgICAgICAgaXN2cyA9IGV2YWwoZXZhbChkYXRhKVsiaXN2cyJdKTsNCiAgICAgICAgICAgIHZhciBkYl9hcHBpZD0neyRhcHBpZH0nOw0KICAgICAgICAgICAgdmFyIGlzdnNDb250ZW50PScnOw0KICAgICAgICAgICAgJC5lYWNoKGlzdnMsIGZ1bmN0aW9uKGksaXRlbSl7DQogICAgICAgICAgICAgICAgdmFyIGFwcElkPWl0ZW0uYXBwSWQ7DQogICAgICAgICAgICAgICAgdmFyIGFwcEtleT1pdGVtLmFwcEtleTsNCiAgICAgICAgICAgICAgICB2YXIgbmFtZT1pdGVtLm5hbWU7DQogICAgICAgICAgICAgICAgdmFyIGlkPWl0ZW0uaWQ7DQogICAgICAgICAgICAgICAgdmFyIHVybD1pdGVtLnVybDsNCiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZHN0cj0nJzsNCiAgICAgICAgICAgICAgICBpZihkYl9hcHBpZD09YXBwSWQpIGNoZWNrZWRzdHI9JyBjaGVja2VkJzsNCiAgICAgICAgICAgICAgICBvcHRpb25faHRtbCA9ICc8cD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImFwcEluZm8iIGlkPSJhcHBJbmZvJytpZCsnIiB2YWx1ZT0iJythcHBJZCsnfCcrYXBwS2V5KyciJytjaGVja2Vkc3RyKyc+IDxsYWJlbCBmb3I9ImFwcEluZm8nK2lkKyciPicrbmFtZSsnIFsnK2FwcElkKycgfCAnK3VybCsnXTwvbGFiZWw+PC9wPic7DQogICAgICAgICAgICAgICAgaXN2c0NvbnRlbnQgPSBpc3ZzQ29udGVudCArIG9wdGlvbl9odG1sOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAkKCIjaXN2c0NvbnRlbnQiKS5odG1sKGlzdnNDb250ZW50KTsNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpew0KICAgICAgICAgICAgaXN2c0NvbnRlbnQgPSAiw7vT0LvxyKG1vbWxx7C1x8K81cu6xcv5ttTTprXEQVBQSUTQxc+io6zH67zssunKx7fx1f3It7Cy17CzqdHUxKO/6aGjIjsNCiAgICAgICAgICAgICQoIiNpc3ZzQ29udGVudCIpLmh0bWwoaXN2c0NvbnRlbnQpOw0KICAgICAgICB9LCAgICAgICAgDQogICAgICAgICAgDQogICAgfSk7DQo8L3NjcmlwdD4NCkVPVDsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZ2V0X2lzdl9hcHBfa2V5KCkNCnsNCiAgICBnbG9iYWwgJGNsaWVudF9pZDsNCiAgICAkaXN2X2FwcF9rZXk9Y2hhbmd5YW5fZ2V0X3NldHRpbmcoJ2lzdl9hcHBfa2V5Jyk7DQogICAgaWYgKCFlbXB0eSgkaXN2X2FwcF9rZXkpKSB7DQogICAgICAgIHJldHVybiAkaXN2X2FwcF9rZXk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIEZBTFNFOw0KICAgIH0gLy+907/az8LP36Os1rG9082ouf3J6LaoYXBwaW5mb73Tv9oNCiAgICAkdXNlciA9IGNoYW5neWFuX2dldF9zZXR0aW5nKCd1c2VyJyk7DQogICAgDQogICAgaWYgKCFlbXB0eSgkaXN2X2FwcF9rZXkpKSB7DQogICAgICAgIHJldHVybiAkaXN2X2FwcF9rZXk7DQogICAgfQ0KICAgICRpc3ZfYXBwX2tleT0nJzsNCiAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ2NsaWVudF9pZCc9PkNIQU5HWUFOX0NMSUVOVF9JRCwgDQogICAgICAgICd1c2VyJz0+JHVzZXIsIA0KICAgICAgICAndXNlcl9hcHBpZCc9PiRjbGllbnRfaWQsDQogICAgICAgICdzaWduJz0+JHNpZ24pOw0KICAgICRycz1jaGFuZ3lhbl9odHRwX3NlbmQoQ0hBTkdZQU5fQVBJX0dFVEFQUEtFWS4nPycuaHR0cF9idWlsZF9xdWVyeSgkcGFyYW1zQXJyKSk7DQogICAgJHJzID0ganNvbl9kZWNvZGUoJHJzLFRSVUUpOw0KICAgIGlmIChpc3NldCgkcnNbJ2lzdl9hcHBfa2V5J10pKSB7DQogICAgICAgICRpc3ZfYXBwX2tleT0kcnNbJ2lzdl9hcHBfa2V5J107DQogICAgfQ0KICAgIGNoYW5neWFuX3NldF9zZXR0aW5nKCdpc3ZfYXBwX2tleScsICRpc3ZfYXBwX2tleSk7DQogICAgcmV0dXJuICRpc3ZfYXBwX2tleTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZ2V0X2NvbW1lbnRzKCRjbGllbnRfaWQsICR0b3BpY19pZCkNCnsNCiAgICAkcmVzdWx0PWFycmF5KCk7DQogICAgJHBhcmFtc0Fycj1hcnJheSgNCiAgICAgICAgJ2NsaWVudF9pZCc9PiRjbGllbnRfaWQsIA0KICAgICAgICAnc3R5bGUnPT4nZmxvb3InLCANCiAgICAgICAgJ29yZGVyX2J5Jz0+J3RpbWVfYXNjJywgDQogICAgICAgICdwYWdlX25vJz0+MSwgDQogICAgICAgICdwYWdlX3NpemUnPT4xMDAsIA0KICAgICAgICAndG9waWNfaWQnPT4kdG9waWNfaWQpOw0KICAgICRycz1jaGFuZ3lhbl9odHRwX3NlbmQoQ0hBTkdZQU5fQVBJX0NPTU1FTlRTLic/Jy5odHRwX2J1aWxkX3F1ZXJ5KCRwYXJhbXNBcnIpKTsNCiAgICAkcnMgPSBqc29uX2RlY29kZSgkcnMsVFJVRSk7DQogICAgcmV0dXJuICRyczsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fbGlzdF9zb3J0X2J5KCRsaXN0LCAkZmllbGQsICRzb3J0Ynk9J2FzYycpIA0Kew0KICAgaWYoaXNfYXJyYXkoJGxpc3QpKXsNCiAgICAgICAkcmVmZXIgPSAkcmVzdWx0U2V0ID0gYXJyYXkoKTsNCiAgICAgICBmb3JlYWNoICgkbGlzdCBhcyAkaSA9PiAkZGF0YSkNCiAgICAgICAgICAgJHJlZmVyWyRpXSA9ICYkZGF0YVskZmllbGRdOw0KICAgICAgIHN3aXRjaCAoJHNvcnRieSkgew0KICAgICAgICAgICBjYXNlICdhc2MnOiAvLyDV/c/yxcXQ8g0KICAgICAgICAgICAgICAgIGFzb3J0KCRyZWZlcik7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgIGNhc2UgJ2Rlc2MnOi8vIMTmz/LFxdDyDQogICAgICAgICAgICAgICAgYXJzb3J0KCRyZWZlcik7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgIGNhc2UgJ25hdCc6IC8vINfUyLvFxdDyDQogICAgICAgICAgICAgICAgbmF0Y2FzZXNvcnQoJHJlZmVyKTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICB9DQogICAgICAgZm9yZWFjaCAoICRyZWZlciBhcyAka2V5PT4gJHZhbCkNCiAgICAgICAgICAgJHJlc3VsdFNldFtdID0gJiRsaXN0WyRrZXldOw0KICAgICAgIHJldHVybiAkcmVzdWx0U2V0Ow0KICAgfQ0KICAgcmV0dXJuIGZhbHNlOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9pbnNlcnRfY29tbWVudHMoJGNvbW1lbnQsJGFpZCwkdGl0bGUpDQp7DQogICAgZ2xvYmFsICRkc3FsOw0KICAgIGlmICghaXNzZXQoJGNvbW1lbnRbJ2NvbW1lbnRzJ10pKSByZXR1cm4gRkFMU0U7DQogICAgJGRzcWwtPlNldFF1ZXJ5KCJTRUxFQ1QgY29tbWVudF9pZCBGUk9NIGAjQF9fcGx1c19jaGFuZ3lhbl9pbnNlcnRpZHNgIFdIRVJFIGFpZD17JGFpZH0iKTsNCiAgICAkZHNxbC0+RXhlY3V0ZSgnZGQnKTsNCiAgICAkY29tbWVudF9pZHM9YXJyYXkoKTsNCiAgICB3aGlsZSgkYXJyID0gJGRzcWwtPkdldEFycmF5KCdkZCcpKQ0KICAgIHsNCiAgICAgICAgJGNvbW1lbnRfaWRzW10gPSAkYXJyWydjb21tZW50X2lkJ107DQogICAgfQ0KICAgICRpPTA7DQogICAgZm9yZWFjaCAoJGNvbW1lbnRbJ2NvbW1lbnRzJ10gYXMgJGNvbW1lbnQpIA0KICAgIHsNCiAgICAgICAgJGNvbnRlbnQgPSAnJzsNCiAgICAgICAgaWYgKGluX2FycmF5KCRjb21tZW50Wydjb21tZW50X2lkJ10sICRjb21tZW50X2lkcykpIGNvbnRpbnVlOw0KICAgICAgICBpZiAoY291bnQoJGNvbW1lbnRbJ2NvbW1lbnRzJ10pPjApIHsNCiAgICAgICAgICAgICRjb21tZW50Wydjb21tZW50cyddID0gY2hhbmd5YW5fbGlzdF9zb3J0X2J5KCRjb21tZW50Wydjb21tZW50cyddLCAnY3JlYXRlX3RpbWUnLCdkZXNjJyk7DQogICAgICAgICAgICBmb3JlYWNoICgkY29tbWVudFsnY29tbWVudHMnXSBhcyAkYykgew0KICAgICAgICAgICAgICAgICRjWydjb250ZW50J10gPSBjaGFuZ3lhbl9hdXRvQ2hhcnNldCgkY1snY29udGVudCddLCAnaW4nKTsNCiAgICAgICAgICAgICAgICAkY29udGVudCA9ICd7cXVvdGV9e2NvbnRlbnR9Jy4kY29udGVudC4kY1snY29udGVudCddLid7L2NvbnRlbnR9e3RpdGxlfScuDQogICAgICAgICAgICAgICAgICAgICRjWydwYXNzcG9ydCddWyduaWNrbmFtZSddLicgtcTUrcz7o7p7L3RpdGxlfXsvcXVvdGV9JzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAkYWlkPWludHZhbCgkYWlkKTsNCiAgICAgICAgJHR5cGVpZD0wOw0KICAgICAgICAkdXNlcm5hbWU9Y2hhbmd5YW5fYXV0b0NoYXJzZXQoJGNvbW1lbnRbJ3Bhc3Nwb3J0J11bJ25pY2tuYW1lJ10sICdpbicpOw0KICAgICAgICAkYXJjdGl0bGU9Y2hhbmd5YW5fYXV0b0NoYXJzZXQoJHRpdGxlLCAnaW4nKTsNCiAgICAgICAgJGlwPSRjb21tZW50WydpcCddOw0KICAgICAgICAkY29tbWVudF9pZD0kY29tbWVudFsnY29tbWVudF9pZCddOw0KICAgICAgICAkaXNjaGVjaz0xOw0KICAgICAgICAkZHRpbWU9IGludHZhbCgkY29tbWVudFsnY3JlYXRlX3RpbWUnXSAvIDEwMDAgKSA7DQogICAgICAgICRtc2cgPSAkY29udGVudC5jaGFuZ3lhbl9hdXRvQ2hhcnNldCgkY29tbWVudFsnY29udGVudCddLCAnaW4nKSA7DQogICAgICAgICRpbnF1ZXJ5ID0gIklOU0VSVCBJTlRPIGAjQF9fZmVlZGJhY2tgKGBhaWRgLGB0eXBlaWRgLGB1c2VybmFtZWAsYGFyY3RpdGxlYCxgaXBgLGBpc2NoZWNrYCxgZHRpbWVgLCBgbWlkYCxgYmFkYCxgZ29vZGAsYGZ0eXBlYCxgZmFjZWAsYG1zZ2ApDQogICAgICAgICAgICAgICAgICAgICAgICAgICBWQUxVRVMgKCckYWlkJywnJHR5cGVpZCcsJyR1c2VybmFtZScsJyRhcmN0aXRsZScsJyRpcCcsJyRpc2NoZWNrJywnJGR0aW1lJywgJzAnLCcwJywnMCcsJ2ZlZWRiYWNrJywnJywnJG1zZycpOyAiOw0KICAgICAgICAkcnMgPSAkZHNxbC0+RXhlY3V0ZU5vbmVRdWVyeSgkaW5xdWVyeSk7DQogICAgICAgICRmZWVkYmFja19pZCA9ICRkc3FsLT5HZXRMYXN0SUQoKTsNCiAgICAgICAgJGlucXVlcnkgPSAiSU5TRVJUIElOVE8gYCNAX19wbHVzX2NoYW5neWFuX2ltcG9ydGlkc2AoYGFpZGAsYGZlZWRiYWNrX2lkYCkgVkFMVUVTICgneyRhaWR9JywneyRmZWVkYmFja19pZH0nKSI7DQogICAgICAgICRycyA9ICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCRpbnF1ZXJ5KTsNCiAgICAgICAgJGlucXVlcnkgPSAiSU5TRVJUIElOVE8gYCNAX19wbHVzX2NoYW5neWFuX2luc2VydGlkc2AoYGFpZGAsYGNvbW1lbnRfaWRgKSBWQUxVRVMgKCckYWlkJywnJGNvbW1lbnRfaWQnKSI7DQogICAgICAgICRycyA9ICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCRpbnF1ZXJ5KTsNCiAgICAgICAgJGkrKzsNCiAgICB9DQoNCiAgICByZXR1cm4gJGk7DQogICAvLyByZXR1cm4gJGNvbW1lbnQ7DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2NoZWNrX2lzbG9naW4oKQ0Kew0KICAgIGdsb2JhbCAkZG9wb3N0Ow0KICAgICRqcXVlcnlfdXJsID0gQ0hBTkdZQU5fSlFVRVJZOyAvL0NIQU5HWUFOX0FQSV9BRVMuImFzc2V0cy9qcy9qcXVlcnkubWluLmpzIjsNCiAgICAkY2hhbmd5YW5fbG9naW49Q0hBTkdZQU5fQVBJX0NIRUNLX0xPR0lOOw0KICAgIGVjaG8gPDw8RU9UDQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJ7JGpxdWVyeV91cmx9Ij48L3NjcmlwdD4NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCihmdW5jdGlvbigkKXsNCiAgICAkLmFqYXgoew0KICAgICAgICB0eXBlOiAiR0VUIiwNCiAgICAgICAgdXJsOiAieyRjaGFuZ3lhbl9sb2dpbn0iLA0KICAgICAgICBkYXRhVHlwZSA6ICdqc29ucCcsDQogICAgICAgIGpzb25wQ2FsbGJhY2s6ImNhbGxmdW5jIiwNCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24obXNnKXsNCiAgICAgICAgICAgIGlmKCFtc2cuc3VjY2Vzcyl7DQogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9Jz9kb3Bvc3Q9bG9nb3V0Jm5vbXNnPXllcyZmb3J3YXJkPXskZG9wb3N0fSc7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCn0pKGpRdWVyeSkNCjwvc2NyaXB0PiAgICANCkVPVDsNCiAgICAvL2V4aXQ7DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2dldF9yZWNlbnQoJGFwcGlkLCRkYXRlKQ0Kew0KICAgICRkYXRlID0gdXJsZW5jb2RlKCRkYXRlKTsNCiAgICAkcmVjZW50X3VybD1DSEFOR1lBTl9BUElfUkVDRU5ULiIvP2FwcElkPXskYXBwaWR9JmRhdGU9eyRkYXRlfSI7DQogICAgcmV0dXJuIGpzb25fZGVjb2RlKGNoYW5neWFuX2h0dHBfc2VuZCgkcmVjZW50X3VybCksVFJVRSk7DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2xhdGVzdHMoJGNsaWVudF9pZCwkcGFnZXNpemU9MjAsJG9yZGVyPSdob3QnKQ0Kew0KICAgICRsYXRlc3RzX3VybD1DSEFOR1lBTl9BUElfTEFURVNUUy4iLz9jbGllbnRfaWQ9eyRjbGllbnRfaWR9JnNpemU9eyRwYWdlc2l6ZX0mb3JkZXJfYnk9eyRvcmRlcn0iOw0KICAgIHJldHVybiBqc29uX2RlY29kZShjaGFuZ3lhbl9odHRwX3NlbmQoJGxhdGVzdHNfdXJsKSxUUlVFKTsNCn0NCg0KZnVuY3Rpb24gY2hhbmd5YW5fZ2V0Y29kZSgkY2xpZW50X2lkLCAkdXNlciwgJGlzX21vYmlsZSwgJHNpZ24sICRhcHBpZD0iIikNCnsNCiAgICAkZ2V0Y29kZV91cmw9Q0hBTkdZQU5fQVBJX0NPREUuIi8/Y2xpZW50X2lkPXskY2xpZW50X2lkfSZ1c2VyPXskdXNlcn0maXNfbW9iaWxlPXskaXNfbW9iaWxlfSZzaWduPXskc2lnbn0mdXNlcl9hcHBpZD17JGFwcGlkfSI7DQogICAgcmV0dXJuIGpzb25fZGVjb2RlKGNoYW5neWFuX2h0dHBfc2VuZCgkZ2V0Y29kZV91cmwpLFRSVUUpOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9nZXRfdG9waWNfY29tbWVudHMoJGNsaWVudF9pZCwgJHNpZCwgJHVybCkNCnsNCiAgICAkZ2V0X3RvcGljX2NvbW1lbnRzX3VybD1DSEFOR1lBTl9BUElfVE9QSUNDT01NRU5UUy4iLz9jbGllbnRfaWQ9eyRjbGllbnRfaWR9JnRvcGljX3NvdXJjZV9pZD17JHNpZH0mdG9waWNfdXJsPXskdXJsfSI7DQogICAgcmV0dXJuIGpzb25fZGVjb2RlKGNoYW5neWFuX2h0dHBfc2VuZCgkZ2V0X3RvcGljX2NvbW1lbnRzX3VybCksVFJVRSk7DQp9DQpmdW5jdGlvbiBjaGFuZ3lhbl9pc2xvZ2luKCkNCnsNCiAgICBpZihlbXB0eSgkX1NFU1NJT05bJ2NoYW5neWFuJ10pKSB7DQogICAgICAgIHJldHVybiBGQUxTRTsNCiAgICB9DQogICAgJHVzZXIgPSBjaGFuZ3lhbl9nZXRfc2V0dGluZygndXNlcicpOw0KICAgICRwd2QgPSBjaGFuZ3lhbl9nZXRfc2V0dGluZygncHdkJyk7DQogICAgaWYoZW1wdHkoJHVzZXIpIHx8IGVtcHR5KCRwd2QpKSB7DQogICAgICAgIHJldHVybiBGQUxTRTsNCiAgICB9DQogICAgcmV0dXJuIFRSVUU7DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX2dldF9zZXR0aW5nKCRza2V5LCAkdGltZT1mYWxzZSwgJHJlYWw9ZmFsc2UpDQp7DQogICAgZ2xvYmFsICRkc3FsOw0KICAgIHN0YXRpYyAkc2V0dGluZyA9IGFycmF5KCk7DQogICAgJHNrZXk9YWRkc2xhc2hlcygkc2tleSk7DQogICAgaWYgKGVtcHR5KCRzZXR0aW5nWyRza2V5XSkgfHwgJHJlYWwpIHsNCiAgICAgICAgJHJvdyA9ICRkc3FsLT5HZXRPbmUoIlNFTEVDVCAqIEZST00gYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIFdIRVJFIHNrZXk9J3skc2tleX0nIik7DQogICAgICAgICRzZXR0aW5nWyRza2V5XVsnc3ZhbHVlJ109JHJvd1snc3ZhbHVlJ107DQogICAgICAgICRzZXR0aW5nWyRza2V5XVsnc3RpbWUnXT0kcm93WydzdGltZSddOw0KICAgIH0NCiAgICBpZiAoIWlzc2V0KCRzZXR0aW5nWyRza2V5XSkpIHJldHVybiAkdGltZSA/IGFycmF5KCkgOiBudWxsOw0KICAgIHJldHVybiAkdGltZSA/ICRzZXR0aW5nWyRza2V5XSA6ICRzZXR0aW5nWyRza2V5XVsnc3ZhbHVlJ107DQp9DQoNCmZ1bmN0aW9uIGNoYW5neWFuX3NldF9zZXR0aW5nKCRza2V5LCAkc3ZhbHVlKQ0Kew0KICAgIGdsb2JhbCAkZHNxbDsNCiAgICAkc3RpbWU9dGltZSgpOw0KICAgICRza2V5PWFkZHNsYXNoZXMoJHNrZXkpOw0KICAgICRzdmFsdWU9YWRkc2xhc2hlcygkc3ZhbHVlKTsNCiAgICAkc3FsPSJVUERBVEUgYCNAX19wbHVzX2NoYW5neWFuX3NldHRpbmdgIFNFVCBzdmFsdWU9J3skc3ZhbHVlfScsc3RpbWU9J3skc3RpbWV9JyBXSEVSRSBza2V5PSd7JHNrZXl9JyAiOw0KICAgICRkc3FsLT5FeGVjdXRlTm9uZVF1ZXJ5KCRzcWwpOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9hZGRzaXRlKCR1c2VyLCAkaXN2X25hbWUsICR1cmwpDQp7DQogICAgJHNpZ249Y2hhbmd5YW5fZ2VuX3NpZ24oJHVzZXIpOw0KICAgICRwYXJhbXNBcnI9YXJyYXkoDQogICAgICAgICdjbGllbnRfaWQnPT5DSEFOR1lBTl9DTElFTlRfSUQsIA0KICAgICAgICAndXNlcic9PiR1c2VyLCANCiAgICAgICAgJ2lzdl9uYW1lJz0+JGlzdl9uYW1lLA0KICAgICAgICAndXJsJz0+JHVybCwNCiAgICAgICAgJ3NpZ24nPT4kc2lnbik7DQogICAgJHJzPWNoYW5neWFuX2h0dHBfc2VuZChDSEFOR1lBTl9BUElfQUREU0lURSwwLCRwYXJhbXNBcnIpOw0KICAgIHJldHVybiBqc29uX2RlY29kZSgkcnMsIFRSVUUpOw0KfQ0KDQpmdW5jdGlvbiBjaGFuZ3lhbl9mb3JnZXRfcHdkKCRtYWlsLCYkZXJyb3JfbXNnPScnKQ0Kew0KICAgICRwYXJhbXNBcnI9YXJyYXkoDQogICAgICAgICdjbGllbnRfaWQnPT5DSEFOR1lBTl9DTElFTlRfSUQsIA0KICAgICAgICAnbWFpbCc9PiRtYWlsKTsNCiAgICAkcnM9anNvbl9kZWNvZGUoY2hhbmd5YW5faHR0cF9zZW5kKENIQU5HWUFOX0FQSV9GT1JHRVRfUFdELDAsJHBhcmFtc0FyciksIFRSVUUpOw0KICAgIGlmKCEkcnNbJ3N1Y2Nlc3MnXSkNCiAgICB7DQogICAgICAgICRlcnJvcl9tc2c9JHJzWydtc2cnXTsNCiAgICAgICAgcmV0dXJuIEZBTFNFOw0KICAgIH0NCiAgICByZXR1cm4gVFJVRTsNCn0NCg0KPz4NCg==
</file>
<file type='file' name='../include/taglib/changyan.lib.php'>
PD9waHAgICBpZighZGVmaW5lZCgnREVERUlOQycpKSBleGl0KCdSZXF1ZXN0IEVycm9yIScpOw0KDQpoZWxwZXIoJ2NoYW5neWFuJyk7DQpoZWxwZXIoJ2NhY2hlJyk7DQokR0xPQkFMU1snY2hhbmd5YW5fY291bnRfanMnXSA9IGlzc2V0KCRHTE9CQUxTWydjaGFuZ3lhbl9jb3VudF9qcyddKT8gJEdMT0JBTFNbJ2NoYW5neWFuX2NvdW50X2pzJ10gOiBGQUxTRTsNCmZ1bmN0aW9uIGxpYl9jaGFuZ3lhbigmJGN0YWcsJiRyZWZPYmopDQp7DQogICAgZ2xvYmFsICRkc3FsLCAkZW52czsNCiAgICAvL8r00NS0psDtDQogICAgJHR5cGUgPSBlbXB0eSgkdHlwZSk/ICdjb2RlJyA6ICR0eXBlOw0KICAgICRjbGFzcyA9IGVtcHR5KCRjbGFzcyk/ICdfREVERUNZJyA6ICRjbGFzczsNCiAgICAkdmVyc2lvbiA9IENIQU5HWUFOX1ZFUjsNCiAgICAkYXR0bGlzdD0idHlwZXxjb2RlLGNvbmZpZ3wsY2xhc3N8X0RFREVDWSxzdHlsZXwiOw0KICAgIEZpbGxBdHRzRGVmYXVsdCgkY3RhZy0+Q0F0dHJpYnV0ZS0+SXRlbXMsJGF0dGxpc3QpOw0KICAgIGV4dHJhY3QoJGN0YWctPkNBdHRyaWJ1dGUtPkl0ZW1zLCBFWFRSX1NLSVApOw0KICAgIA0KICAgICRyZXZhbD0iIjsNCiAgICANCiAgICBpZiggISRkc3FsLT5Jc1RhYmxlKCIjQF9fcGx1c19jaGFuZ3lhbl9zZXR0aW5nIikgKSByZXR1cm4gJ8O7sLLXsLOp0dTEo7/pJzsNCiAgICANCiAgICAkY2xpZW50X2lkPWNoYW5neWFuX2dldF9zZXR0aW5nKCdhcHBpZCcpOw0KICAgIGlmKGVtcHR5KCRjbGllbnRfaWQpKSByZXR1cm4gJ8nQzrTXorLhs6nR1NXKusWjrMfrtb2688yo16Ky4Sc7DQoNCiAgICBpZigkdHlwZT09J2NvZGUnIE9SICR0eXBlPT0nY29kZTInKQ0KICAgIHsNCiAgICAgICAgJHJldmFsIC49ICI8ZGl2IGNsYXNzPSd7JGNsYXNzfScgc3R5bGU9J3skc3R5bGV9JyBkYXRhLXZlcmlvbj0neyR2ZXJzaW9ufSc+IjsNCiAgICAgICAgJHByZWZpeCA9ICdjaGFuZ3lhbic7DQogICAgICAgICRrZXkgPSAnY29kZSc7DQogICAgICAgICRyb3cgPSBHZXRDYWNoZSgkcHJlZml4LCAka2V5KTsNCg0KICAgICAgICBpZighaXNfYXJyYXkoJHJvdykpDQogICAgICAgIHsNCiAgICAgICAgICAgICRhcHBpZD1jaGFuZ3lhbl9nZXRfc2V0dGluZygnYXBwaWQnKTsNCiAgICAgICAgICAgICR1c2VyPWNoYW5neWFuX2dldF9zZXR0aW5nKCd1c2VyJyk7DQogICAgICAgICAgICAkc2lnbj1jaGFuZ3lhbl9nZW5fc2lnbigkdXNlcik7DQogICAgICAgICAgICAkcmVzdWx0ID0gY2hhbmd5YW5fZ2V0Y29kZShDSEFOR1lBTl9DTElFTlRfSUQsICR1c2VyLCBmYWxzZSwgJHNpZ24sICRhcHBpZCk7DQogICAgICAgICAgICAkcm93WydyZXZhbCddID0gaHRtbHNwZWNpYWxjaGFycygkcmVzdWx0Wydjb2RlJ10pOw0KICAgICAgICAgICAgU2V0Q2FjaGUoJHByZWZpeCwgJGtleSwgJHJvdywgNjAqNjAqMSk7DQogICAgICAgIH0NCiAgICAgICAgaWYoIWVtcHR5KCRjb25maWcpKQ0KICAgICAgICB7DQogICAgICAgICAgICAkY29uZmlnX2FyciA9IGFycmF5KCk7DQogICAgICAgICAgICAkY29uZmlncyA9IGV4cGxvZGUoJywnLCAkY29uZmlnKTsNCiAgICAgICAgICAgIGlmKGNvdW50KCRjb25maWdzKT4wKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGZvcmVhY2goJGNvbmZpZ3MgYXMgJGMpIHsNCiAgICAgICAgICAgICAgICAgICAgJGl0ZW0gPSBleHBsb2RlKCc6JywgJGMpOw0KICAgICAgICAgICAgICAgICAgICAkY29uZmlnX2FyclskaXRlbVswXV0gPSAkaXRlbVsxXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkY29uZmlnX3N0ciA9IGpzb25fZW5jb2RlKCRjb25maWdfYXJyKTsNCiAgICAgICAgICAgICRyZXZhbCAuPSA8PDxFT1QNCjxzY3JpcHQ+DQogICAgdmFyX2NvbmZpZz17JGNvbmZpZ19zdHJ9Ow0KPC9zY3JpcHQ+DQpFT1Q7DQogICAgICAgIH0NCiAgICAgICAgJHJldmFsIC49IGh0bWxzcGVjaWFsY2hhcnNfZGVjb2RlKCRyb3dbJ3JldmFsJ10pOw0KICAgICAgICAkcmV2YWw9c3RyX3JlcGxhY2UoImlkPSdTT0hVQ1MnIiwgImlkPSdTT0hVQ1MnIHNpZD0neyRyZWZPYmotPkFyY0lEfSciLCAkcmV2YWwpOw0KICAgICAgICBpZigkdHlwZT09J2NvZGUyJykgJHJldmFsPXByZWdfcmVwbGFjZSgiI3dpbmRvdy5TQ1NfTk9fSUZSQU1FWyBdPz1bIF0/dHJ1ZTsjaSIsICIiLCAkcmV2YWwpOw0KICAgICAgICAkcmV2YWw9c3RyX3JlcGxhY2UoIjxzY3JpcHQ+IiwgIjwvZGl2PjxzY3JpcHQ+IiwgJHJldmFsKTsNCiAgICB9IGVsc2VpZigkdHlwZT09J2NvdW50Jykgew0KICAgICAgICBpZighJEdMT0JBTFNbJ2NoYW5neWFuX2NvdW50X2pzJ10pICRyZXZhbC49IjxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cImh0dHA6Ly9hc3NldHMuY2hhbmd5YW4ua3VhaXpoYW4uY29tL3VwbG9hZC9wbHVnaW5zL3BsdWdpbnMuY291bnQuanNcIj48L3NjcmlwdD4iOw0KICAgICAgICAkcmV2YWwuPSI8YSBocmVmPVwiI1NPSFVDU1wiIGlkPVwiY2hhbmd5YW5fY291bnRfdW5pdFwiPjwvYT4iOw0KICAgICAgICAkR0xPQkFMU1snY2hhbmd5YW5fY291bnRfanMnXSA9IFRSVUU7DQogICAgfQ0KICAgICRzZW9faHRtbCA9IGNoYW5neWFuX3Nlb19jb21tZW50KCRjbGllbnRfaWQsICRyZWZPYmotPkFyY0lEKTsNCiAgICByZXR1cm4gJHJldmFsLiRzZW9faHRtbDsNCn0NCmZ1bmN0aW9uIGNoYW5neWFuX3Nlb19jb21tZW50KCRjbGllbnRfaWQsICRzaWQsICR1cmw9bnVsbCkNCnsNCiAgICAkaHRtbCA9ICcnOw0KICAgICRjb250ZW50cyA9ICcnOw0KICAgICRoZWFkID0gPDw8RU9UDQoNCjxkaXYgaWQ9ImNoYW5neWFuLWNvbW1lbnRzIiBzdHlsZT0iZGlzcGxheTpub25lIj4NCiAgICA8b2wgaWQ9ImNvbW1lbnRzLWxpc3QiPg0KRU9UOw0KICAgICRmb290ZXIgPSA8PDxFT1QNCiAgICA8L29sPg0KPC9kaXY+DQpFT1Q7DQogICAgJHRvcGljX2luZm8gPSBjaGFuZ3lhbl9nZXRfdG9waWNfY29tbWVudHMoJGNsaWVudF9pZCwgJHNpZCwgJHVybCk7DQogICAgaWYoZW1wdHkoJHRvcGljX2luZm9bJ2Vycm9yX2NvZGUnXSkgJiYgIWVtcHR5KCR0b3BpY19pbmZvWyd0b3BpY19pZCddKSkgew0KICAgICAgICAkY29tbWVudHNfaW5mbyA9IGNoYW5neWFuX2dldF9jb21tZW50cygkY2xpZW50X2lkLCAkdG9waWNfaW5mb1sndG9waWNfaWQnXSk7DQogICAgICAgIGlmKGVtcHR5KCRjb21tZW50c19pbmZvWydlcnJvcl9jb2RlJ10pICYmICFlbXB0eSgkY29tbWVudHNfaW5mb1snY29tbWVudHMnXSkpIHsNCiAgICAgICAgICAgICRjb21tZW50cyA9ICRjb21tZW50c19pbmZvWydjb21tZW50cyddOw0KICAgICAgICAgICAgZm9yZWFjaCggJGNvbW1lbnRzIGFzICRjb21tZW50ICkgew0KICAgICAgICAgICAgICAgICRjb250ZW50cyAuPSAnDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbW1lbnQiPicuaWNvbnYoIlVURi04IiwiR0IyMzEyIiwkY29tbWVudFsncGFzc3BvcnQnXVsnbmlja25hbWUnXSkuJyDLtTogJzsNCiAgICAgICAgICAgICAgICAkY29udGVudHMuPSBpY29udigiVVRGLTgiLCJHQjIzMTIiLCRjb21tZW50Wydjb250ZW50J10pLicNCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+JzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgICRjb250ZW50cyA9ICK78cihxsDC28qnsNwiOw0KICAgIH0NCiAgICAkaHRtbCA9ICRoZWFkLiRjb250ZW50cy4kZm9vdGVyOw0KICAgIHJldHVybiAkaHRtbDsNCn0NCg==
</file>
</modulefiles>
</module>
