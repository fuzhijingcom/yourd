!function(){var oojsGlobal=window._dup_exp_global||window._dup_exp_c_global||window._dup_global||window._ssp_global||{};!function(t){}(oojsGlobal),function(oojs){oojs.setPath('//dup.baidustatic.com/'),oojs.define({name:'unicodew',namespace:'dup.union.comm',deps:{},toDecode:function(t){var e=[];if(t instanceof Array){for(var i=0;i<t.length;i++){var n=t[i];e.push(this.decode(n))}return e}if('string'==typeof t)return this.decode(t)},toEncode:function(t){var e=[];if(t instanceof Array){for(var i=0;i<t.length;i++){var n=t[i];e.push(this.encode(n))}return e}if('string'==typeof t)return this.encode(t)},decode:function(t){return unescape(t.replace(/\\(u[0-9a-fA-F]{4})/gm,'%$1'))},encode:function(t){return escape(t).replace(/%(u[0-9A-F]{4})|(%[0-9A-F]{2})/gm,function(t,e,i){return e&&'\\'+e.toLowerCase()||unescape(i)})}}),oojs.define({name:'bdom',namespace:'dup.union.comm',deps:{},bind:function(t,e,i){return'string'==typeof t&&(t=this.one(t)),e=e.replace(/^on/i,'').toLowerCase(),t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent('on'+e,i),t},unbind:function(t,e,i){return(t=this.one(t))?(e=e.replace(/^on/i,'').toLowerCase(),t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent('on'+e,i),t):null},subOne:function(t,e){var i=this;if(t.constructor===Object&&(t=this.one(t)),'string'==typeof e){for(var n=document.getElementById(e),o=n;o;){if(o===t)return n;o=o.parentNode}return null}if(e.constructor===Object){var a=null;return i.traverse(t,function(t){if(i.is(t,e))return a=t,!1}),a}},one:function(t){if(t){if(t.nodeName)return t;if(arguments.length>1&&(t=Array.prototype.slice.call(arguments,0)),'string'==typeof t)return document.getElementById(t);if(t.constructor===Object)return this.subOne(document.documentElement,t);if(t.constructor===Array){for(var e=t.concat([]),i=document.documentElement;e.length&&i;)i=this.subOne(i,e.shift());return i}}},traverse:function(t,e){if(t&&e(t)!==!1){var i=t.childNodes;if(i)for(var n=0,o=i.length;n<o;n++){var a=i[n],r=this.traverse(a,e);if(r===!1)return!1}}},langGetType:function(t){for(var e={},i='Array Boolean Date Error Function Number RegExp String'.split(' '),n=0,o=i.length;n<o;n++)e['[object '+i[n]+']']=i[n].toLowerCase();return null==t?'null':e[Object.prototype.toString.call(t)]||'object'},isWindow:function(t){try{if(t&&'object'==typeof t&&t.document&&'setInterval'in t)return!0}catch(t){return!1}return!1},isInIframe:function(t,e){return e=2===arguments.length?e:t.parent,t!=e||!this.isWindow(t)},isInCrossDomainIframe:function(t,e){function i(t){try{return!!t.parent.location.toString()}catch(t){return!1}}e=2===arguments.length?e:t.parent;for(var n=0;n++<10&&this.isInIframe(t,e);){if(!i(t))return!0;t=t.parent}return n>=10},getNotCrossDomainTopWindow:function(t,e){1===arguments.length&&'number'===this.langGetType(arguments[0])&&(e=arguments[0],t=void 0),e=e||10;for(var i=window,n=0;n++<e&&this.isInIframe(i)&&!this.isInCrossDomainIframe(i)&&(!t||!t(i));)i=i.parent;return i},langGetAttribute:function(t,e){for(var i=t,n=e.split('.');n.length;){if(void 0===i||null===i)return;i=i[n.shift()]}return i},getInfo:function(t,e){var i,n={},o=this.getNotCrossDomainTopWindow(),a=o[STORE_NAME]||(o[STORE_NAME]={}),r=e?a:n;return'string'===this.langGetType(t)&&(i=this.langGetAttribute(r,t)),i},getDocumentTitle:function(){var t=this.getNotCrossDomainTopWindow(),e=t.document.title;return e.length>60&&(e=e.substr(0,60)),e},getDocument:function(t){return t?('string'==typeof t&&(t=document.getElementById(t)),9===t.nodeType?t:t.ownerDocument||t.document):document},getScrollWidth:function(t){try{return t=t||window,'BackCompat'===t.document.compatMode?t.document.body.scrollWidth:t.document.documentElement.scrollWidth}catch(t){return 0}},getScrollHeight:function(t){try{return t=t||window,'BackCompat'===t.document.compatMode?t.document.body.scrollHeight:t.document.documentElement.scrollHeight}catch(t){return 0}},getClientWidth:function(t){try{return t=t||window,'BackCompat'===t.document.compatMode?t.document.body.clientWidth:t.document.documentElement.clientWidth}catch(t){return 0}},getClientHeight:function(t){try{return t=t||window,'BackCompat'===t.document.compatMode?t.document.body.clientHeight:t.document.documentElement.clientHeight}catch(t){return 0}},getScrollTop:function(t){t=t||window;var e=t.document;return window.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},getScrollLeft:function(t){t=t||window;var e=t.document;return window.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft},getPosition:function(t,e){if(e=e||window,'string'==typeof t&&(t=this.one(t)),t){for(var i,n=this.getPositionCore(t),o=0;e!=e.parent&&o<10;)o++,i={top:0,left:0},i=this.getPositionCore(e.frameElement),n.left+=i.left,n.top+=i.top,e=e.parent;return n}},browser:function(){var t={};/msie (\d+\.\d)/i.test(navigator.userAgent)&&(t.ie=document.documentMode||+RegExp.$1),/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(t.opera=+RegExp.$1),/firefox\/(\d+\.\d)/i.test(navigator.userAgent)&&(t.firefox=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)&&(t.safari=+(RegExp.$1||RegExp.$2)),/chrome\/(\d+\.\d)/i.test(navigator.userAgent)&&(t.chrome=+RegExp.$1);try{/(\d+\.\d)/.test(window.external.max_version)&&(t.maxthon=+RegExp.$1)}catch(t){}return t.isWebkit=/webkit/i.test(navigator.userAgent),t.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),t.isStrict='CSS1Compat'==document.compatMode,t},getStyle:function(t,e){var i;'string'==typeof t&&(t=this.one(t));var n=this.getDocument(t),o='';o=e.indexOf('-')>-1?e.replace(/[-_][^-_]{1}/g,function(t){return t.charAt(1).toUpperCase()}):e.replace(/[A-Z]{1}/g,function(t){return'-'+t.charAt(0).toLowerCase()});var a;return n&&n.defaultView&&n.defaultView.getComputedStyle?(a=n.defaultView.getComputedStyle(t,null),a&&(i=a.getPropertyValue(e)),'boolean'==typeof i||i||(i=a.getPropertyValue(o))):t.currentStyle&&(a=t.currentStyle,a&&(i=a[e]),'boolean'==typeof i||i||(i=a[o])),i},getPositionCore:function(t){'string'==typeof t&&(t=this.one(t));var e,i,n=this.getDocument(t),o=this.browser,a=(o.isGecko>0&&n.getBoxObjectFor&&'absolute'==this.getStyle(t,'position')&&(''===t.style.top||t.style.left),{left:0,top:0}),r=o.ie&&!o.isStrict?n.body:n.documentElement;if(t==r||!t)return a;if(t.getBoundingClientRect){i=t.getBoundingClientRect(),a.left=Math.floor(i.left)+Math.max(n.documentElement.scrollLeft,n.body.scrollLeft),a.top=Math.floor(i.top)+Math.max(n.documentElement.scrollTop,n.body.scrollTop),a.left-=n.documentElement.clientLeft,a.top-=n.documentElement.clientTop;var s=n.body,d=parseInt(this.getStyle(s,'borderLeftWidth'),10),l=parseInt(this.getStyle(s,'borderTopWidth'),10);o.ie&&!o.isStrict&&(a.left-=isNaN(d)?2:d,a.top-=isNaN(l)?2:l)}else{e=t;do{if(a.left+=e.offsetLeft,a.top+=e.offsetTop,o.isWebkit>0&&'fixed'==this.getStyle(e,'position')){a.left+=n.body.scrollLeft,a.top+=n.body.scrollTop;break}e=e.offsetParent}while(e&&e!=t);for((o.opera>0||o.isWebkit>0&&'absolute'==this.getStyle(t,'position'))&&(a.top-=n.body.offsetTop),e=t.offsetParent;e&&e!=n.body;)a.left-=e.scrollLeft,o.opera&&'TR'==e.tagName||(a.top-=e.scrollTop),e=e.offsetParent}return a},getElementWH:function(t){if('string'==typeof t&&(t=this.one(t)),t){var e={w:0,h:0};if(t.getBoundingClientRect){var i=t.getBoundingClientRect();e.w=i.width,e.h=i.height}else e.w=t.offsetWidth,e.h=t.offsetHeight;return e}},isArray:function(t){return'[object Array]'===Object.prototype.toString.call(t)},get:function(t){return document.getElementById(t)},isAds:function(t){var e=/BAIDU_UNION_wrapper|autoInsertWapper|topBannerChapin|BAIDU_DUP_fp_wrapper|BAIDU_SSP__wrapper|imageplus|fh_top_item/i;return!(!e.test(t.id)&&!e.test(t.className))},trim:function(t){try{return t.replace(/\s/g,"")}catch(t){return 0}},isEmpty:function(t){return Array.isArray(t)&&0===t.length||Object.prototype.isPrototypeOf(t)&&0===Object.keys(t).length},nextElementNode:function(t){var e=t.nextSibling;if(!e)return null;for(;1!=e.nodeType;)if(e=e.nextSibling,!e)return null;return e},previousElementNode:function(t){var e=t.previousSibling;if(!e)return null;for(;1!=e.nodeType;)if(e=e.previousSibling,!e)return null;return e},isNeighbor:function(t,e){var i=this.nextElementNode(t),n=this.previousElementNode(e);if(!i||!n)return!1;if(i.nodeName.toLowerCase()===n.nodeName.toLowerCase()){if((t.innerText||t.textContent)===(n.innerText||n.textContent))return!0}return!1},isChild:function(t,e){return!(!e||!t)&&(t.contains?t!=e&&t.contains(e):!!(16&t.compareDocumentPosition(e)))},getWordNum:function(t){var e=t.innerText||t.textContent,i=this.trim(e);return i?i.length:0},isContainer:function(t){return!!t&&((!t.nodeName||"STYLE"!=t.nodeName&&"SCRIPT"!=t.nodeName&&"LINK"!=t.nodeName&&"BR"!=t.nodeName)&&!(t&&t.clientHeight<3&&""==t.innerHTML.trim()))},strAdvLength:function(t){for(var e=0,i=0,n=0;n<t.length;++n)escape(t.charAt(n)).indexOf("%u")<0?i+=1:e+=1;return Math.ceil(e+i/2)},proxy:function(t,e){return function(){return e.apply(t,arguments)}}}),oojs.define({name:'logic',namespace:'dup.union.comm',deps:{},escapeToEncode:function(t){var e=t||'';return e&&(e=e.replace(/%u[\d|\w]{4}/g,function(t){return encodeURIComponent(unescape(t))})),e},template:function(t,e){return t.replace(/{(.*?)}/g,function(t,i,n,o){return e[i]||''})},jsonToObj:function(t){var e='';try{window.JSON&&window.JSON.parse&&(e=window.JSON.parse(t))}catch(t){}return e},getUrlQueryValue:function(t,e){if(t&&e){var i=new RegExp('(^|&|\\?|#)'+e+'=([^&]*)(&|$)',''),n=t.match(i);if(n)return n[2]}return null},parseUrlQuery:function(t,e){t=t||'',e=e||'?';var i=arguments.callee;i.hasOwnProperty[e]||(i[e]={});var n=i[e];if(n.hasOwnProperty(t))return n[t];var o={},a=t.indexOf(e),r=t.substring(a+1),s=r.split('&');if(a!==-1)for(var d=0,l=s.length;d<l;d++){var h=s[d].split('='),p=decodeURIComponent(h[0]),c=decodeURIComponent(h[1]);o.hasOwnProperty(p)?(o[p].constructor!==Array&&(o[p]=[o[p]]),o[p].push(c)):o[p]=c}return n[t]=o,o}}),oojs.define({name:'cookie',namespace:'dup.union.comm',deps:{},getRaw:function(t,e){var i,e=e||window,n=e.document,o=new RegExp("(^| )"+t+'=([^;]*)(;|$)'),a=o.exec(n.cookie);return a&&(i=a[2]),i},setRaw:function(t,e,i){i=i||{};var n=i.expires;'number'==typeof i.expires&&(n=new Date,n.setTime(n.getTime()+i.expires)),document.cookie=''+t+'='+e+(i.path?'; path='+i.path:'')+(n?'; expires='+n.toGMTString():'')+(i.domain?'; domain='+i.domain:'')+(i.secure?'; secure':'')},remove:function(t){var e=new Date;e.setTime(e.getTime()-86400),this.setRaw(t,'',{path:'/',expires:e})}}),oojs.define({name:'businessLogic',namespace:'dup.union.businesslog',deps:{},adsCountLimit:{inlay:8,float:2,patch:2,linkunit:20,popup:1},adsCountRecorder:{inlay:{},float:{},patch:{},linkunit:{},popup:{}},adsCountOption:{deviceType:'pc',displayType:'inlay-fixed',displayMainType:'inlay',displaySubType:'fixed',styleType:'template_inlay_all_normal',stuffType:'text'},displayTypeMap:{1001:'inlay-fixed',1002:'inlay-float',2001:'float-left-middle',2002:'float-right-middle',2003:'float-left-bottom',2004:'float-right-bottom',2005:'float-top',2006:'float-bottom',2007:'float-linkunit-left',3001:'patch-webpage',3002:'patch-flash',4001:'captcha-webpage'},processAdsCountOption:function(t){var e={};e.deviceType=(t.deviceType||this.adsCountOption.deviceType).toLowerCase(),e.displayType=(t.displayType||this.adsCountOption.displayType).toLowerCase(),e.styleType=(t.styleType||this.adsCountOption.styleType).toLowerCase(),e.stuffType=(t.stuffType||this.adsCountOption.stuffType).toLowerCase(),e.domId=t.domId,(e.styleType.indexOf('tlink')>-1||e.styleType.indexOf('linkunit')>-1||e.styleType.indexOf('baiducustnativead')>-1)&&(e.displayType='linkunit-fixed'),e.styleType.indexOf('float_xuanfuwin')>=0&&(e.displayType='popup-float');var i=e.displayType.split('-');return e.displayMainType=i[0]||this.adsCountOption.displayMainType,e.displaySubType=i[1]||this.adsCountOption.displaySubType,e},checkAdsCount:function(t){t=this.processAdsCountOption(t);var e=t.displayMainType;return this.getAdsCount(t)<this.adsCountLimit[e]},g:function(t,e){return e=e||window,'string'==typeof t||t instanceof String?e.document.getElementById(t):(t&&t.nodeName&&(1==t.nodeType||t.nodeType),t)},getAdsCount:function(t){t=this.processAdsCountOption(t);var e=0,i=this.adsCountRecorder[t.displayMainType];for(var n in i)n&&i[n]&&i.hasOwnProperty(n)&&(this.g(n)?e++:i[n]=void 0);return e},setAdsCount:function(t){return t=this.processAdsCountOption(t),this.adsCountRecorder[t.displayMainType][t.domId]=1,!0},getWrapper:function(t,e){var i='cpro_'+t,n=document.getElementById(i);return n||(n=document.getElementById(e)),n},getDisplayTypeByValue:function(t){return this.displayTypeMap[t]},genStyle:function(t){var e="";for(var i in t)e+=i+":"+t[i]+('number'==typeof t[i]?"px;":";");return e},setupViewWatch:function(t,e){var i=t.slotId;require(['viewWatch'],function(e){e.register({id:i,wrapperId:t.iframeId,logType:'block',extra:"ch="+t.channel+'&jk='+t.pvId+'&n='+t.unionAccount})},!0)},sendMonitorLog:function(t,e){var i=new Image,n=t+"."+Math.floor(2147483648*Math.random()).toString(36);window[n]=i,i.onload=i.onerror=i.onabort=function(){i.onload=i.onerror=i.onabort=null,window[n]=null,i=null};var o=[];for(var a in e)a&&e.hasOwnProperty(a)&&o.push(''+a+'='+e[a]);i.src="//202.108.23.15:8030/wap_insert_js/m.js?log."+n+"&"+o.join('&')},sendErrorLog:function(t,e){var i=new Image,n=t+"."+Math.floor(2147483648*Math.random()).toString(36);window[n]=i,i.onload=i.onerror=i.onabort=function(){i.onload=i.onerror=i.onabort=null,window[n]=null,i=null};var o=[];for(var a in e)a&&e.hasOwnProperty(a)&&o.push(''+a+'='+e[a]);i.src="//nativead.baidu.com:8080/log/zc/wapInsert?log."+n+"&"+o.join('&')},getAutoInsertWrapper:function(t){var e=t.dri,i='_'+e;return e<=0&&(i=''),this.getWrapper(t.slotId,t.wrapperId+i)}}),oojs.define({name:'dataManager',namespace:'dup.ui.manager',deps:{param:'dup.business.param',unicodew:'dup.union.comm.unicodew',logic:'dup.union.comm.logic',bdom:'dup.union.comm.bdom',cookie:'dup.union.comm.cookie'},slotData:{},slotInfo:{},nodeTree:[],multiTuCoaList:[],coaData:{},setNodeTree:function(t){this.nodeTree=t},getNodeTree:function(){return this.nodeTree},setArticleEnd:function(t){this.articleEnd=t},getArticleEnd:function(){return this.articleEnd},getTemplateData:function(){return this.slotData},getSlotInfo:function(){return this.slotInfo},setSlotData:function(t){for(var e in t)this.slotData[e]=t[e]},getCoaData:function(){return this.coaData},getMultiTuCoaList:function(){return this.multiTuCoaList},initSlotData:function(t){try{t.paramObj.dc=2,t.paramObj.exps="",this.slotInfo=t,this.slotData=this._processSlotData(t),this._modifySlotData(),this._makeDefaultReqUrl(t),this.slotData.ist>=100&&this._makeMergeCoaReqUrl()}catch(t){return void window.console.log('The SlotData initlizing was failed!!')}},_getScale:function(){var t=this.getTemplateData().ist,e=this.getTemplateData().scale;if(t>=100){if(!e){var i=parseInt(this.coaData.rsi1,10)||0;if(i)return this.slotData.scale=Math.floor(this.slotData.viewportWidth)+'.'+Math.floor(i),this.slotData.viewportWidth/i;e='20.6'}}else e||(e='6.5'),10===t&&(e='23.10');return this.slotData.scale=e,this._covScale(e)},_covScale:function(t){if(!t)return 0;var e=t.split('.');return parseInt(e[0],10)/parseInt(e[1],10)},_modifySlotData:function(){var t=this.slotData.ist,e=this._getScale();/yd\.baidu\.com/.test(this.slotData.ltu)&&(this.slotData.viewportWidth=304,this.slotData.viewportHeight=254);var i,n,o=1;if(11===t||12===t)o=parseFloat(this.slotData.bdum)||.8;else if(10===t)o=parseFloat(this.slotData.bdum)||1;else if(7===t)o=parseFloat(this.slotData.bdum)||.4;else if(t<10){var a=this.isUseExperimentExp()?.9:.8;o=parseFloat(this.slotData.bdum)||a}this.slotData.bdum=o,1*this.slotData.viewportWidth/this.slotData.viewportHeight>e?(i=this.slotData.viewportHeight*o*e-0,n=this.slotData.viewportHeight*o-0):(i=this.slotData.viewportWidth*o-0,n=this.slotData.viewportWidth*o/e-0),this.slotData.iframeWidth=Math.ceil(i),this.slotData.iframeHeight=Math.ceil(n),this.slotData.shadowSize=n/20,this.slotData.sz=this.slotData.iframeWidth+'x'+this.slotData.iframeHeight,this.slotData.ist>=10&&(this.slotData.waitSeconds=this.slotData.waitSeconds<30?45:this.slotData.waitSeconds)},_makeDefaultReqUrl:function(t){var e=this.slotData.slotHtmlInfo;if(e.sz=this.slotData.sz,e.coa){var i=this._parseCoa(e.coa);i.rsi0=this.slotData.iframeWidth,i.rsi1=this.slotData.iframeHeight,e.coa=this._encodeCoa(i)}else{var n=encodeURIComponent('rsi0='+this.slotData.iframeWidth+'&rsi1='+this.slotData.iframeHeight);e.coa=n}t.isOnceSeach&&(e.ari=2,e.dc=2,e.dtm='HTML_POST'),t.paramObj=e,this.slotData.searchUrl=this.param.getPmpRequestUrl(t),this.slotData.serviceUrl=this.slotData.searchUrl},_makeMergeCoaReqUrl:function(){var t=this.slotInfo,e=t.paramObj||{};e.scale=this.slotData.scale,e.sz=this.slotData.sz;var i=this.coaData;if(!this.bdom.isEmpty(i)&&110==i.ist){i.ist=10;this.slotData.iframeHeight=Math.ceil(this.slotData.iframeWidth/2.3);var n=[];for(var o in i)n.push(o+"="+i[o]);e.coa=encodeURIComponent(n.join('&')),e.sz=this.slotData.iframeWidth+'x'+this.slotData.iframeHeight,e.scale='23.10'}if(e.coa){var a=this._parseCoa(e.coa);a.rsi0=this.slotData.iframeWidth,a.rsi1=this.slotData.iframeHeight,e.coa=this._encodeCoa(a)}else{var r=encodeURIComponent('rsi0='+this.slotData.iframeWidth+'&rsi1='+this.slotData.iframeHeight);e.coa=r}t.isOnceSeach&&(e.ari=2,e.dc=2,e.dtm='HTML_POST'),t.paramObj=e,this.slotData.searchUrl=this.param.getPmpRequestUrl(t),this.slotData.serviceUrl=this.slotData.searchUrl},modifyReqUrlIFRSize:function(){var t=this.slotInfo,e=t.paramObj||{};if(e.scale=this.slotData.scale,e.sz=this.slotData.iframeWidth+'x'+this.slotData.iframeHeight,e.coa){var i=this._parseCoa(e.coa);i.rsi0=this.slotData.iframeWidth,i.rsi1=this.slotData.iframeHeight,e.coa=this._encodeCoa(i)}else{var n=encodeURIComponent('rsi0='+this.slotData.iframeWidth+'&rsi1='+this.slotData.iframeHeight);e.coa=n}t.isOnceSeach&&(e.ari=2,e.dc=2,e.dtm='HTML_POST'),t.paramObj=e,this.slotData.searchUrl=this.param.getPmpRequestUrl(t),this.slotData.serviceUrl=this.slotData.searchUrl},_parseCoa:function(t){var e={},i=decodeURIComponent(t);if(/&/.test(i)){var n=i.split('&');for(var o in n){var a=(n[o]+'').split('=');if(!(a.length<2)){var r=a[0],s=a[1];e[r]=decodeURIComponent(s)}}}else{var a=i.split('=');if(a.length>1){var r=a[0],s=a[1];e[r]=decodeURIComponent(s)}}return e},_encodeCoa:function(t){var e='';for(var i in t){e+=i+'='+t[i]+'&'}return encodeURIComponent(e.substr(0,e.length-1))},_processSlotData:function(t){var e=t.paramObj||{},i=t.response,n=i.placement.userdefine||{},o={};if(n){var a=n.split('|');for(var r in a)if(/=/.test(a[r])){var s=a[r]+'',d=s.split('=')[0],l=s.split('=')[1];o[d]=l}else if(/,/.test(a[r])){var h=r.toString().split(',');for(var p in h)if(/=/.test(h[p])){var c=h[p]+'',d=c.split('=')[0],l=c.split('=')[1];o[d]=l}}}var m=[];if(o.multiads){var u=this.logic.jsonToObj(decodeURIComponent(o.multiads));if(this.bdom.isArray(u))m=u;else{for(var f=0;f<Object.keys(u).length;f++)m[f]=0;for(var g in u)m[g]=parseInt(u[g],10)||0}}var b=e.coa||'',y={};if(b){if(b=decodeURIComponent(e.coa),/&/.test(b)){var v=b.split('&');for(var r in v){var s=v[r]+'',d=s.split('=')[0],w=s.split('=')[1];y[d]=decodeURIComponent(w)}}else{var d=b.split('=')[0],w=b.split('=')[1];y[d]=decodeURIComponent(w)}for(var d in y)/multiads/g.test(d)||(o[d]=y[d])}if(this.coaData=y,y.multiads){var I=this.logic.jsonToObj(decodeURIComponent(y.multiads)),x={};if(this.bdom.isArray(I))x=I;else{for(var f=0;f<Object.keys(I).length;f++)x[f]=0;for(var g in I)x[g]=parseInt(I[g],10)||0}for(var g in x)if(g<m.length)for(var d in x[g])m[g][d]=x[g][d]}this.multiTuCoaList=m;var T=parseInt(o.ist,10)||4,C=i.tuid.split('_')[0],_=(i.tuid,'cproIframe'+t.id),S=(t.displayType,o.cpro_template||''),E=i.placement.fillstyle.cloudTheme.skin||'',A=(o.scale||'')+'',M=parseInt(e.dri,10)||0,N=window.innerWidth||0,D=window.innerHeight||0;if(!N||!D){var B=e.psr;if(B){var k=B.split('x');if(this.bdom.isInIframe(window)){var R=parseFloat(o.ifmsc)||1;N=window.innerWidth||parseInt(k[0],10)*R,D=window.innerHeight||parseInt(k[1],10)*R}else N=parseInt(k[0],10),D=parseInt(k[1],10)}}var W=parseInt(o.bd_close_time,10)||15,H=o.bdum,F=parseInt(o.bdpos,10)||1,P=parseInt(o.autop,10)||2,O=o.aele||'p',j=parseFloat(o.apart)||'',L=parseInt(o.swtp,10)||1,U=parseInt(o.ckct,10)||1,z=parseInt(o.bstp,10)||1,q=parseInt(o.tbskin,10)||2,G=parseInt(o.tbpos,10)||1,X=parseInt(o.aushr,10)||1;return{slotHtmlInfo:e,slotId:C,wrapperId:t.containerId,dri:M,ltu:decodeURIComponent(e.ltu)||o.ltu,paramString:'',viewportWidth:N,viewportHeight:D,scale:A,tn:S,skin:E,iframeId:_,ist:T,waitSeconds:W,bdum:H,bdpos:F,autop:P,aele:O,apart:j,swtp:L,ckct:U,bstp:z,tbpos:G,aushr:X,userdefine:o,tbskin:q}},deepCopy:function(t){var e={};t instanceof Array&&(e=[]);for(var i in t){var n=t[i];e[i]='object'==typeof n?arguments.callee(n):n}return e},saveDataField:function(){this.backupData={},this.backupData.slotData=this.deepCopy(this.slotData),this.backupData.slotInfo=this.deepCopy(this.slotInfo),this.backupData.multiTuCoaList=this.deepCopy(this.multiTuCoaList),this.backupData.coaData=this.deepCopy(this.coaData)},restorDataField:function(){this.backupData?(this.slotData=this.backupData.slotData,this.slotInfo=this.backupData.slotInfo,this.multiTuCoaList=this.backupData.multiTuCoaList,this.coaData=this.backupData.coaData):window.console.log('none to restor')},isUseExperimentExp:function(){var t=this.cookie.getRaw('H_WISE_SIDS',window),e=!1;return'10222xxxx'===t&&(e=!0,window.isUseExp=!0),e}}),oojs.define({name:'contentAnalysis',namespace:'dup.ui.analysis',deps:{bdom:'dup.union.comm.bdom',datam:'dup.ui.manager.dataManager'},_articles:[],_pIterms:[],isArticleTypePage:function(){var t=this.bdom.getWordNum(document.getElementsByTagName('body')[0]);if(t<300)return!1;for(var e=document.getElementsByTagName('a'),i=0,n=0;n<e.length;n++)i+=this.bdom.getWordNum(e[n]);return!(i>t*(t<1500?.6:.7))},getArticleObjByTraver:function(){if(!this._getAticlePiece()){var t=['article','div'];for(var e in t){var i=document.getElementsByTagName(t[e]);this.bdom.isEmpty(i)||this._getAllArticles(i)}this._getParagrphsOfArticle()}},_isMaybeArticle:function(t){if(t&&t.nodeType){if(this.bdom.isAds(t))return!1;if(this._isMayNavi(t))return!1;if(this._isMayOthers(t))return!1;return this.bdom.getWordNum(t)>60}return!1},_isMayOthers:function(t){try{var e=/comment|foot/gi;return!(!e.test(t.id)&&!e.test(t.className))}catch(t){return!1}},_isMayNavi:function(t){for(var e=t.getElementsByTagName('li'),i=!1,n=0,o=0,a=20,r=0;r<e.length;r++){var s=this.bdom.getWordNum(e[r]);n+=s,o=s>o?s:o,a=s<a?s:a}return(e.length>4&&this._fitParaWordNumCond(t,e)||e.length>1&&n/e.length<20&&o-a<=5)&&(i=!0),i},_isFitPWordNum:function(t){return!(!t||1!==t.nodeType)&&this.bdom.getWordNum(t)>=20},_fitReductionScale:function(t,e){return this.bdom.getWordNum(t)-this.bdom.getWordNum(e)<100},_getArticleObjByXname:function(){return null},_getAllArticles:function(t){function e(){if(n++,n>o)return void(i&&this._articles.push(i))}for(var i='',n=0,o=t.length;n<o;)if(this._isMaybeArticle(t[n])){for(i=t[n],e.call(this);this.bdom.isChild(i,t[n]);)this._isMaybeArticle(t[n])&&this._fitReductionScale(i,t[n])&&(i=t[n]),e.call(this);i&&this._articles.push(i),i=''}else e.call(this)},_getParagrphsOfArticle:function(){for(var t=[],e=0;e<this._articles.length;e++){var i=this._getParagrphPieces(this._articles[e]);if(this.bdom.isArray(i))for(var n=0;n<i.length;n++)t.push(i[n]);else t.push(i)}this.datam.setNodeTree(t),this.findArticleEnd()},findArticleEnd:function(){var t=this._articles.length-1;try{var e=this.bdom.getPosition(this._articles[0]);if(this.bdom.getPosition(this._articles[t]).top-e.top<0){var i=this.datam.getNodeTree();this.datam.setArticleEnd(i[i.length-2])}else this.datam.setArticleEnd(this._articles[this._articles.length-1])}catch(t){window.console.log('Getting article end fail.'),this.datam.setArticleEnd(this._articles[this._articles.length-1])}},_isStaticMethodParagrh:function(t){var e=t.getElementsByTagName('br');if(e&&e.length>2){var i=Math.floor((e.length-1)/2),n=e[i].previousSibling;if(i=0,n&&n!=={}&&3===n.nodeType)return!0;for(;n&&3!==n.nodeType;){if(i++<4&&n&&n!=={}&&3===n.nodeType)return!0;n=n.previousSibling}return!1}return!1},_isParagEle:function(t){var e=/script|img/i;return t&&!e.test(t.nodeName)},_getParagrphPieces:function(t){var e=[];if(!t.nodeType)return e;var i=t.getElementsByTagName('p'),n=t.getElementsByTagName('br'),o=t.children;if(i.length>2&&this._fitParaWordNumCond(t,i))for(var a=0;a<i.length;a++)i[a].parentElement&&!this._isMayOthers(i[a].parentElement)&&this.bdom.getWordNum(i[a])>10&&e.push(i[a]);else if(n.length>3){for(var a=0;a<n.length;a++){var r=n[a].previousSibling;for(r&&r!=={}&&3===r.nodeType&&e.push(r);n[a].nextSibling&&1===n[a].nextSibling.nodeType&&'br'===n[a].nodeName.toLowerCase();)a++}var s=n[n.length-1].nextSibling;s!=={}&&3===r.nodeType&&e.push(s)}else if(o&&this._fitParaWordNumCond(t,o))for(var d=0;d<o.length;d++)o[d]&&1===o[d].nodeType&&this._isParagEle(o[d])&&this._isFitPWordNum(o[d])&&!this._isMayNavi(o[d])&&!this._isMayOthers(o[d])&&e.push(o[d]);else e=t;return e},_fitParaWordNumCond:function(t,e){var i=0;for(var n in e)i+=this.bdom.getWordNum(e[n]);return.8*this.bdom.getWordNum(t)<i},_getArticleObj:function(t){if(!this.bdom.isArray(t))return t;for(var e=t[0],i=0;i<t.length;i++)t[i].wordN>e.wordN&&(e=t[i]);return e},_getPTextList:function(t){var e=[],i=t||'p';if(this._pIterms=document.getElementsByTagName(i),this.bdom.isEmpty(this._pIterms)||this._pIterms.length<2)return[];for(var n=this._pIterms[0],o=this._pIterms[0],a=0,r=1,s=this.bdom.getWordNum(n),d=this._pIterms[1],l=1;l<this._pIterms.length;)d=this._pIterms[l],this.bdom.isNeighbor(o,d)?(o=d,r++,s+=this.bdom.getWordNum(d),l++,d=l<this._pIterms.length&&this._pIterms[l]):(r>1&&e.push({st:a,len:r,wordN:s}),n=o=d,a=l,r=1,s=this.bdom.getWordNum(n),l++,d=l<this._pIterms.length&&this._pIterms[l]);return e.push({st:a,len:r,wordN:s}),e},_mayGetRightArticle:function(t){return.5*this.bdom.getWordNum(document.getElementsByTagName('body')[0])<t},_getAticlePiece:function(){var t=this._getPTextList();if(this.bdom.isEmpty(t))return!1;var e=this._getArticleObj(t);if(e.wordN<=100||!this._mayGetRightArticle(e.wordN))return!1;for(var i=[],n=e.st;n<e.len+e.st;n++)i.push(this._pIterms[n]);return this.datam.setNodeTree(i),!0},getArticleParam:function(t){var e=window.getComputedStyle(),i={};i.bgcolor=e.backgroundColor,i.fontFamily=e.fontFamily,i.fontSize=e.fontSize,i.color=e.color}}),oojs.define({name:'feedAnalysis',namespace:'dup.ui.analysis',deps:{bdom:'dup.union.comm.bdom',datam:'dup.ui.manager.dataManager'},allowImageTxtFeed:!0,allowTitleFeed:!0,Constant:{MaxWidthHeightDiff:10,MaxImageOffset:30,MinFeedNumForOneAnchor:5,MinTxtAreaRatio:.3,MinWidthHeighScale:1.5,MinFeedWidthDiff:10,MinFeedImageWidthRatio:5,MinFeedImageHeigtRatio:1.5,MaxTitleRowNum:1.5,MinImageWidthHeightRatio:1.3,MaxImageWidthHeightRatio:5,MinTitleFeedDistance:.33,MinImageFeedDistance:.5},config:{isAfter:!0},FeedImagePosition:{Left:1,Right:2,None:0},FeedType:{ImageTxt:1,Image:2,Title:3},createNewFeed:function(){return{type:0,anchorNode:null,feedHeight:0,imgList:[],txtList:[],titleNode:null,imageWidth:0,imageHeight:0,imagePosition:0,fontSize:0,fontFamily:"",lineHeight:0,txtAreaSize:0,curFeedNum:0,maxTextAreaSize:0}},feedAnchorList:[],createFeedArea:function(){return{objs:[],scrollTop:0,height:0,addObj:function(t){objs.push(t)}}},initConfig:function(t){t&&(this.config.feedType=parseInt(t.ft,10)||3,this.config.minFeedNumForOneAnchor=parseInt(t.fn,10),1&this.config.feedType||(this.allowTitleFeed=!1),2&this.config.feedType||(this.allowImageTxtFeed=!1),this.Constant.MinFeedNumForOneAnchor=this.config.minFeedNumForOneAnchor||this.Constant.MinFeedNumForOneAnchor)},findFeedAreas:function(t){if(this.feedAnchorList.length>0)return this.feedAnchorList;this.initConfig(t);var e=document.body;return this.traverse(e),this.feedAnchorList},isWidthMatch:function(t){if(!t)return!1;if(t.nodeName&&"BODY"==t.nodeName)return!0;if(t.offsetHeight<=0&&""!=t.innerHTML.trim())return!0;var e=t.parentNode.clientWidth-this.getPadding(t.parentNode),i=t.parentNode.clientHeight;if(0==e||0==i)return!0;var n=this.getRealWidth(t);return!!(t.parentNode&&e>0)&&Math.abs(n-e)<this.Constant.MinFeedWidthDiff},isFeed:function(t,e){if(!t||!e||0==t.clientHeight)return!1;if(!this.isScaleMatch(t))return!1;var i;return this.allowTitleFeed&&(i=this.getTitleFeedInfo(t,e)),!i&&this.allowImageTxtFeed&&(i=this.getImageTxtFeedInfo(t,e)),!!i},isScaleMatch:function(t){return!(!t||t.nodeType==document.body.TEXT_NODE||0==t.clientHeight)&&!(t.clientWidth/t.clientHeight<this.Constant.MinWidthHeighScale)},getImageTxtFeedInfo:function(t,e){if(!t||!t.getElementsByTagName)return 0;var i=this;e=e||this.createNewFeed();var n=this.getNumber(this.bdom.getStyle(t,"padding-top")),n=this.getNumber(this.bdom.getStyle(t,"padding-bottom")),o=t.clientHeight-n-n,a=o/this.Constant.MinFeedImageHeigtRatio,r=a*this.Constant.MinImageWidthHeightRatio,s=t.clientWidth/2,d=Math.min(s/this.Constant.MinFeedImageHeigtRatio,o),l=t.getElementsByTagName("img");l.length>=3&&(r=t.clientWidth/this.Constant.MinFeedImageWidthRatio,s=t.clientWidth/2,a=r/2,d=Math.min(s/this.Constant.MinFeedImageHeigtRatio,o));for(var h=0,p=0,c=null,m=0,u=0;u<l.length;u++){var f=l[u];if(!(f.clientWidth<r||f.clientHeight<a||f.clientWidth>s||f.clientHeight>d)){if(0==h)h=f.clientWidth,p=f.clientHeight;else{if(Math.abs(f.clientWidth-h)+Math.abs(f.clientHeight-p)>this.Constant.MaxWidthHeightDiff)continue}if(c=f,e.imgList.push(f),m++,m>3){m=0;break}}}if(1==m){var g=this.FeedImagePosition.Left,b=this.offsetToParent(t,c);b||(m=0),b.offsetLeft>b.offsetRight+this.Constant.MaxImageOffset?(g=this.FeedImagePosition.Right,e.offsetLeft=this.getNumber(this.bdom.getStyle(t,"margin-left"))+this.getNumber(this.bdom.getStyle(t,"border-left-width"))+this.getNumber(this.bdom.getStyle(t,"padding-left")),e.offsetRight=b.offsetRight+this.getNumber(this.bdom.getStyle(t,"margin-right"))):(g=this.FeedImagePosition.Left,e.offsetLeft=b.offsetLeft+this.getNumber(this.bdom.getStyle(t,"margin-left")),e.offsetRight=this.getNumber(this.bdom.getStyle(t,"margin-right"))+this.getNumber(this.bdom.getStyle(t,"border-right-width"))+this.getNumber(this.bdom.getStyle(t,"padding-right"))),e.type=i.FeedType.ImageTxt,e.offsetTop=b.offsetTop,e.offsetBottom=b.offsetBottom,e.imageWidth=h,e.imageHeight=p,e.imagePosition=g}else 3==m?(e.type=i.FeedType.Image,e.imageWidth=h,e.imageHeight=p):e=null;return e},offsetToParent:function(t,e){if(!this.bdom.isChild(t,e))return null;for(var i=e,n=0,o=0,a=0,r=0;e!==t&&!this.bdom.isChild(e,t);)n+=e.offsetLeft,o+=e.offsetTop,e=e.offsetParent;if(this.bdom.isChild(e,t)){var s=this.bdom.getPositionCore(t),d=this.bdom.getPositionCore(i);n=Math.max(d.left-s.left,0)+this.getNumber(this.bdom.getStyle(t,"margin-left")),o=Math.max(d.top-s.top+this.getNumber(this.bdom.getStyle(i,"padding-top")),0)}return r=Math.max(t.offsetHeight-o-i.offsetHeight,0),a=Math.max(t.offsetWidth-n-i.offsetWidth,0),{offsetLeft:n,offsetTop:o,offsetBottom:r,offsetRight:a}},getTitleFeedInfo:function(t,e,i){if(t){e=e||this.createNewFeed();var n=this.getRealClientArea(t);i=i||this.Constant.MaxTitleRowNum,this.getTxtAreaInfo(t,e);var o=this.getInnerHeight(t);return!(e.lineHeight>0&&o/e.lineHeight>i)&&(!(n>0&&e.txtAreaSize/n<this.Constant.MinTxtAreaRatio)&&(e.type=this.FeedType.Title,e.anchorNode=t,e))}},getTxtAreaInfo:function(t,e){if(t&&t.nodeType&&t.nodeType==document.ELEMENT_NODE)for(var i=t.childNodes,n=this.getNumber(this.bdom.getStyle(t,"font-size")),o=this.getNumber(this.bdom.getStyle(t,"line-height")),a=0;a<i.length;a++){var r=i[a],s=0;if(r.nodeType==document.ELEMENT_NODE)this.getTxtAreaInfo(r,e);else if(r.nodeType==document.TEXT_NODE&&0!=r.textContent.trim().length){var d=this.bdom.strAdvLength(r.textContent);o=Math.max(o,n),
e.lineHeight=Math.max(e.lineHeight,o),e.fontSize=Math.max(e.fontSize,n),s=o*n*d,s>e.maxTextAreaSize&&(e.maxTextAreaSize=s,e.fontFamily=this.getTopFont(this.bdom.getStyle(r.parentNode,"font-family")),e.fontColor=this.bdom.getStyle(r.parentNode,"color")),e.txtAreaSize+=s,e.txtList.push(r)}}},getTopFont:function(t){var e=t.split(",");return e.length>4&&(e=e.slice(0,3),e.push(decodeURI("%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91"))),e&&e.length>0?e.join(","):""},getRealWidth:function(t){if(!t)return 0;var e=0;if(t&&t.offsetWidth&&(e+=t.offsetWidth),e+=this.getMargin(t),0==e)for(var i=t.children,n=0;n<i.length;n++)e=Math.max(e,this.getRealWidth(i[n]));return e},getInnerHeight:function(t){if(!t)return 0;var e=this.getNumber(this.bdom.getStyle(t,"padding-top")),i=this.getNumber(this.bdom.getStyle(t,"padding-bottom"));return t.clientHeight-e-i},getInnerWidth:function(t){if(!t)return 0;var e=this.getNumber(this.bdom.getStyle(t,"padding-left")),i=this.getNumber(this.bdom.getStyle(t,"padding-right"));return t.clientWidth-e-i},getRealClientArea:function(t){var e=this.getInnerWidth(t)*this.getInnerHeight(t);if(0==e)for(var i=t.children,n=0;n<i.length;n++)e+=this.getRealClientArea(i[n]);return e},getMargin:function(t){return t?this.getNumber(this.bdom.getStyle(t,"margin-left"))+this.getNumber(this.bdom.getStyle(t,"margin-right")):0},getPadding:function(t){return t?this.getNumber(this.bdom.getStyle(t,"padding-left"))+this.getNumber(this.bdom.getStyle(t,"padding-right")):0},getLeftSpace:function(t){return this.getNumber(this.bdom.getStyle(t,"margin-left"))+this.getNumber(this.bdom.getStyle(t,"padding-left"))+this.getNumber(this.bdom.getStyle(t,"border-left-width"))},getNumber:function(t){var e=/\d+/.exec(t);return e&&e.length>0?parseInt(e[0]):0},isInFirstScreen:function(t,e){var i=this.bdom.getClientHeight(),n=this.bdom.getPositionCore(t);if(e){if(n.top+this.bdom.getElementWH(t).h>i)return!1}else if(n.top>=i)return!1;return!0},traverse:function(t,e){if(t&&t.nodeType!=document.body.TEXT_NODE){var i,n,o=this.createNewFeed();if(!this.bdom.isAds(t)&&this.bdom.isContainer(t)&&this.isWidthMatch(t))if(this.isFeed(t,o)){if(e&&e.type==o.type?o.curFeedNum=e.curFeedNum+1:o.curFeedNum=1,e=o,i=this.bdom.nextElementNode(t),o.curFeedNum>=this.Constant.MinFeedNumForOneAnchor&&!this.isInFirstScreen(t,this.config.isAfter)){if(e.anchorNode=t,e.feedHeight=t.offsetHeight,e.type==this.FeedType.ImageTxt)this.getTxtAreaInfo(t,e);else if(e.type==this.FeedType.Image){var a=e.imgList[0],r=e.imgList[2],s=this.getImageFeedTitle(t),d=this.getNumber(this.bdom.getStyle(t,"margin-left")),l=this.getNumber(this.bdom.getStyle(t,"margin-right")),h=this.offsetToParent(t,a),p=this.offsetToParent(t,r),c=this.offsetToParent(t,s.anchorNode),m=this.getNumber(this.bdom.getStyle(t,"padding-bottom"));e.offsetLeft=h.offsetLeft+d,e.offsetRight=p.offsetRight+l,e.offsetTop=Math.min(h.offsetTop,c.offsetTop),e.offsetBottom=Math.min(h.offsetBottom,c.offsetBottom),e.titleNode=s.anchorNode,e.lineHeight=s.lineHeight,e.fontSize=s.fontSize,e.titleNode.offsetHeight>e.lineHeight&&(e.feedHeight-=e.titleNode.offsetHeight-e.lineHeight),e.offsetBottom>m&&(e.feedHeight-=e.offsetBottom-m,e.offsetBottom=m)}else if(e.type==this.FeedType.Title){for(var u=-1,f=0;f<e.txtList.length;f++){var g=e.txtList[f],b=this.offsetToParent(t,g.parentNode),y=b.offsetLeft+this.getNumber(this.bdom.getStyle(g.parentNode,"padding-left"))+this.getNumber(this.bdom.getStyle(g.parentNode,"margin-left"));u=u==-1?y:Math.min(u,y)}e.offsetLeft=u}this.feedAnchorList.push(e),e=null}}else n=t.firstElementChild||t.firstChild,i=this.bdom.nextElementNode(t),e=null;else i=this.bdom.nextElementNode(t),this.bdom.isContainer(t)&&(e=null);this.traverse(n,e),this.traverse(i,e)}},getImageFeedTitle:function(t){if(!t||t.nodeType==document.body.TEXT_NODE)return!1;var e,i=this.createNewFeed();if(!this.bdom.isAds(t)&&this.bdom.isContainer(t)&&this.isWidthMatch(t)){if(this.isScaleMatch(t)&&this.getTitleFeedInfo(t,i,2.8))return i;e=t.firstElementChild||t.firstChild,nextNode=this.bdom.nextElementNode(t),lastFeed=null}else nextNode=this.bdom.nextElementNode(t),lastFeed=null;return this.getImageFeedTitle(e)||this.getImageFeedTitle(nextNode)}}),oojs.define({name:'footerAnalysis',namespace:'dup.ui.analysis',deps:{bdom:'dup.union.comm.bdom',datam:'dup.ui.manager.dataManager'},footer:null,candidates:[],MaxAccumulatedHeight:100,getFooter:function(){if(this.footer)return this.footer;this.addAll(document.querySelectorAll("footer")),this.addAll(document.querySelectorAll("[id*=foot]")),this.addAll(document.querySelectorAll("[id*=Foot]")),this.addAll(document.querySelectorAll("[class*=foot]")),this.addAll(document.querySelectorAll("[class*=Foot]"));for(var t=0;t<this.candidates.length;t++)if(this.isSuitable(this.candidates[t])){this.footer=this.candidates[t];break}return this.footer},isSuitable:function(t){if(!t||0==t.clientHeight||0==t.clientWidth)return!1;if(t.querySelectorAll('iframe[src^="http://pos.baidu.com"]').length>0)return!1;if(t.querySelectorAll('iframe[src^="https://pos.baidu.com"]').length>0)return!1;for(var e=this.getNextNeightbor(t),i=0;e;)"fixed"!=e.style.position.toLocaleLowerCase()?(i+=e.offsetHeight,e=this.getNextNeightbor(e)):e=this.getNextNeightbor(e);return!(i>this.MaxAccumulatedHeight)},getNextNeightbor:function(t){if(!t||t===document.body)return null;var e=this.bdom.nextElementNode(t);return e?e:(t=t.parentNode,this.getNextNeightbor(t))},addAll:function(t){for(var e=0;e<t.length;e++)this.candidates.push(t[e])},add:function(t){this.candidates.push(t)}}),oojs.define({name:'animateManager',namespace:'dup.ui.manager',deps:{},inlayAnimate:function(t,e,i){function n(e){return t.iframeHeight}function o(t){var e=n(t),i=1,o=window.setInterval(function(){i+=i,t.style.height=i+'px',t.style.display='',i>e/2&&(t.style.height=e+'px',window.clearInterval(o))},35)}function a(t){var e=n(t),i=window.setInterval(function(){e>2?e/=2:(e=0,window.clearInterval(i)),t.style.height=e+'px'},50)}e.style.overflow='hidden',i?o(e):a(e)}}),oojs.define({name:'showActionManager',namespace:'dup.ui.manager',deps:{bdom:'dup.union.comm.bdom',conta:'dup.ui.analysis.contentAnalysis',datam:'dup.ui.manager.dataManager'},initArticleInfo:function(){try{if(window.bdMobAutoArtInitFlag)return;if(window.bdMobAutoArtInitFlag=1,this.conta.isArticleTypePage())return this.conta.getArticleObjByTraver(),this.datam.getNodeTree()}catch(t){return window.console.log('Warning!There is something wrong with article analysis.'),!1}},getArticleLength:function(){var t=this.datam.getNodeTree();if(this.bdom.isEmpty(t))return window.console.log('Warning!Fail to find out article.'),0;var e=t[0];1!=e.nodeType&&(e=this.bdom.nextElementNode(e));var i=t.length-1,n=t[i];n=n||t[--i],1!=n.nodeType&&(n=this.bdom.previousElementNode(n));var o=this.bdom.getPosition(e),a=this.bdom.getPosition(n);try{for(;a.top-o.top<0;)n=t[--i],1!=n.nodeType&&(n=this.bdom.previousElementNode(n)),a=this.bdom.getPosition(n);return a.top-o.top}catch(t){return 300}},findInsertPos:function(t){var e=this.datam.getNodeTree(),i=t||(e.length<4?.5:2/3);return e[Math.ceil((e.length||0)*i)]||e[e.length-1]||''},showAtBottom:function(t){var e=this;this.bdom.bind(window,'onscroll',function(){e.bdom.getScrollTop(window)+e.bdom.getClientHeight()+3>=e.bdom.getScrollHeight()&&t()})},showAtRollback:function(t){var e=this,i=0;this.bdom.bind(window,'onscroll',function(){var n=e.bdom.getScrollTop(window);i-n>8&&t(),i=n})},showAtInsertPos:function(t,e,i){var n=this.bdom.getPosition(e),o=!0;i&&i(),self.bdom.bind(window,'onscroll',function(){3*self.bdom.getClientHeight()/5+self.bdom.getScrollTop(window)>=n.top&&o&&(t(),o=!1)})},insertAfter:function(t,e){var i=e.parentNode;i.lastChild==e?i.appendChild(t):i.insertBefore(t,e.nextSibling)}}),oojs.define({name:'messageManager',namespace:'dup.ui.manager',deps:{bdom:'dup.union.comm.bdom',datam:'dup.ui.manager.dataManager',logic:'dup.union.comm.logic'},adpMessage:{},initAdpPostMessage:function(){var t=this;this.bdom.bind(window,'message',function(e){var i={};try{i=t.logic.jsonToObj(e.data)}catch(t){window.console.log('Warning!Getting message failed.')}i.msgid&&'diegassempda'===i.msgid&&(t._setMsgData(i),t._modifyByMsg())})},_setMsgData:function(t){for(var e in t)'msgid'!==e&&(this.adpMessage[e]=t[e])},_modifyByMsg:function(){var t=this.datam.getTemplateData().iframeId;t&&(t=t.split('_')[0]);var e=this.adpMessage.adind;e&&(e=e.split('.')[0]);var i=document.getElementById(t+'_'+e);if(i){var n=parseInt(this.adpMessage.ifrw,10)||0,o=parseInt(this.adpMessage.ifrh,10)||0;n&&(i.style.width=n+"px"),o&&(i.style.height=o+"px")}else window.console.log('Warning!Cannot find the iframe by message info.')}}),oojs.define({name:'userExperimentManager',namespace:'dup.ui.manager',deps:{bdom:'dup.union.comm.bdom',datam:'dup.ui.manager.dataManager',feedAnalysis:'dup.ui.analysis.feedAnalysis'},adsAssign:{},userExperimentFilte:function(t){this.bdom.isEmpty(t)||(this._filteBadNode(),this._getAdsAssign(t),this._wenneiFilter(t),this._wenmoFilter(t))},_getAdsAssign:function(t){for(var e in t){var i=parseInt(t[e].ist,10);i=i>100?i-100:i,this.adsAssign[i]=!0}},_wenneiFilter:function(t){if(19 in this.adsAssign){var e=this.datam.getNodeTree();if(e.length<1)return void window.console.log('No need to control wennei userExpeirment for no article finded.');var i;for(var n in t){var o=parseInt(t[n].ist,10);if(o=o>100?o-100:o,19===o){i=t[n].pos;break}}if(i){var a,r=this.datam.getArticleEnd();a=r?this._getAutoInsertPosAxis(r):this._getAutoInsertPosAxis(this._findLastRealPos(e));for(var s=this.datam.getTemplateData().viewportHeight,d=[],l=0,h=0;h<i.length;h++){var p=parseInt(i[h],10),c=this._getAutoInsertPosAxis(this._getPosElement(p));if(!(c<s)){if(18 in this.adsAssign){if(c+s>a){c+.5*s<a&&d.push(p);break}}else if(c+.3*s>a){d.push(p);break}for(;c-l<s;){p=this._recalculatePos(p);var m=this._getAutoInsertPosAxis(this._getPosElement(p));if(Math.abs(m-c)<10||m+s>a){c=m;break}c=m}l=c,d.push(p)}}for(var u in t){var o=parseInt(t[u].ist,10);if(o=o>100?o-100:o,19===o){t[u].pos=d;break}}}}},_wenmoFilter:function(t){if(18 in this.adsAssign){var e,i=this.datam.getNodeTree(),n=this.datam.getArticleEnd();e=n?this._getAutoInsertPosAxis(n):this._getAutoInsertPosAxis(this._findLastRealPos(i));var o=Math.max(document.body.clientHeight,document.body.scrollHeight,document.body.offsetHeight);if(13 in this.adsAssign&&o-e<5)for(var a=t.length-1;a>=0;a--){var r=parseInt(t[a].ist,10);if(r=r>100?r-100:r,18===r){t[a].pos=0;break}}}},_filteBadNode:function(){for(var t=this.datam.getNodeTree(),e=t.length-1;e>=0;e--)if(t[e]){var i=this.bdom.getPosition(t[e]),n=this.bdom.getElementWH(t[e]);if(!(i.top<=5||n.h<=5))break;t.splice(e,1)}if(t.length<15)for(var o=this.datam.getTemplateData().viewportWidth,a=t.length-1;a>=0;a--)1===t[a].nodeType&&t[a].offsetLeft>.2*o&&(window.console.log(t[a].offsetLeft),t.splice(a,1))},_recalculatePos:function(t){function e(e){var i=Math.floor(t/1e3),n=t-10*Math.floor(t/10),a=Math.ceil(e/o*100);return a>=100&&(a=99),1e3*i+10*a+n}var i,n=this.datam.getNodeTree(),o=n.length,a=this._getPosPercent(t)/100,r=Math.ceil((o||0)*a),s=r+1;do i=e(s),s++;while(i==t&&s<o);return i},_getPosElement:function(t){if(t){var e=this.datam.getNodeTree(),i=this._getPosPercent(t)/100;return e[Math.ceil((e.length||0)*i)]||''}},_getPosPercent:function(t){function e(t){return Math.floor(t/1e3)}return Math.floor((t-1e3*e(t))/10)},_getAutoInsertPosAxis:function(t){if(!t)return 0;var e=this.bdom.getPosition(t),i=this.bdom.getElementWH(t);return e.top+i.h},_findLastRealPos:function(t){if(!(t.length<1)){var e,i=this.bdom.getPosition(t[0]).top,n=t.length;do e=this.bdom.getPosition(t[--n]).top;while(e-i<0&&n>0);return t[n]}},hasAdsNearby:function(t,e){if(!t||1!=t.nodeType)return!1;e=e||0;var i,n;return e?i=t:n=t,i=i||this._getLastNearby(t),!!this.hasAdsChild(i)||(n=n||this._getNextNearby(t),!!this.hasAdsChild(n))},filterBottomAds:function(t,e){return this.feedAnalysis.isInFirstScreen(t,e)||this.hasAdsNearby(t,e)},filterSmartFeed:function(t){if(t&&!(t.length<1))for(var e=this.bdom.getClientHeight(),i=Math.round(this.feedAnalysis.Constant.MinImageFeedDistance*e),n=Math.round(this.feedAnalysis.Constant.MinTitleFeedDistance*e),o=t[0],a=this.bdom.getPositionCore(o.anchorNode),r=1;r<t.length;r++){var s=t[r],d=this.bdom.getPositionCore(s.anchorNode);if(s.type==o.type){var l=0;l=s.type==this.feedAnalysis.FeedType.Title?n:i,d.top-a.top<l?(t.splice(r,1),r--):(o=s,a=d)}else o=s,a=d}},_getNextNearby:function(t){if(!t||1!=t.nodeType||"BODY"==t.tagName)return null;var e=this.bdom.nextElementNode(t);if(!e)return this._getNextNearby(t);var i=this.bdom.getClientHeight();return this.bdom.getElementWH(e).h<i?e:this.getFirstSmallChild(e.firstElementChild(),i)},_getLastNearby:function(t){if(!t||1!=t.nodeType||"BODY"==t.tagName)return null;var e=this.bdom.previousElementNode(t);if(!e)return this._getLastNearby(t.parentNode);var i=this.bdom.getClientHeight();return this.bdom.getElementWH(e).h<i?e:this.getLastSmallChild(e.lastElementChild,i)},hasAdsChild:function(t){if(!t||1!=t.nodeType)return!1;for(var e=["BAIDU_UNION_wrapper","autoInsertWapper","topBannerChapin","BAIDU_DUP_fp_wrapper","BAIDU_SSP__wrapper","imageplus"],i=0;i<e.length;i++)if(t.id.match("^"+e[i])||t.querySelector("div[id^="+e[i]+"]"))return!0;return!1},getLastSmallChild:function(t,e){var e=e||this.bdom.getClientHeight();return t&&1==t.nodeType?t.clientHeight<e?t:(t=t.lastElementChild,this.getLastSmallChild(t,e)):t},getFirstSmallChild:function(t,e){var e=e||this.bdom.getClientHeight();return t&&1==t.nodeType?t.clientHeight<e?t:(t=t.firstElementChild,this.getFirstSmallChild(t,e)):t}}),oojs.define({name:'expFramework',namespace:'dup.expfw',deps:{datam:'dup.ui.manager.dataManager',bdom:'dup.union.comm.bdom'},global:{},createExpConf:function(){return{eid:0,rand:-1,flags:{}}},expConfig:{10001:{ist:'24',flow:'0,1000',flags:{FlagEnableFeihongInlayIframe:!1}},10002:{ist:'24',flow:'1000,2000',flags:{FlagEnableFeihongInlayIframe:!1}},10003:{ist:'124',flow:'0,1000',flags:{FlagEnableFeihongInlayIframe:!1}},10004:{ist:'124',flow:'1000,2000',flags:{FlagEnableFeihongInlayIframe:!1}}},diversionExp:function(){var t=this.datam.getTemplateData().ist;for(var e in this.expConfig)if(this.expConfig.hasOwnProperty(e)){var i=parseInt(this.expConfig[e].ist,10);i==t&&(this.global[i]&&this.global[i].eid||this._findGoalExp(e))}},_findGoalExp:function(t){var e=!1;try{var i=this.expConfig[t],n=parseInt(i.ist,10);this.global[n]=this.global[n]||this.createExpConf();var o=this.global[n],a=i.flow,r=a.split(','),s=parseInt(r[0],10),d=parseInt(r[1],10),l=o.rand;l<0&&(l=Math.floor(1e4*Math.random()),o.rand=l),l>=s&&l<d&&(e=!0,o.eid=t,o.flags=i.flags)}catch(t){e=!1}return e},addEflagToCoa:function(t,e){if(t&&t.eid)try{var i='fe_exp_tag='+t.eid+'&',n=e.serviceUrl.split('coa=');2===n.length&&(i='&'===n[1][0]?i.substring(0,i.length-1):i,e.serviceUrl=n[0]+'coa='+encodeURIComponent(i)+n[1])}catch(t){window.console.log('Warning!!adding eflag fail.')}}}),oojs.define({name:'floatInsert',namespace:'dup.ui.subpainter',deps:{bdom:'dup.union.comm.bdom',bl:'dup.union.businesslog.businessLogic',logic:'dup.union.comm.logic',unicodew:'dup.union.comm.unicodew',cookie:'dup.union.comm.cookie',datam:'dup.ui.manager.dataManager'},AdHook:function(){},usocBlackList:['jipinwww.com'],paint:function(){return},isInBlackList:function(templateData){for(var i in this.usocBlackList){var domain=this.usocBlackList[i],reg=eval("/"+domain+"/ig");if(reg.test(templateData.ltu))return!0}return!1},parseCloseBtnLayoutData:function(t){var e=Math.min(document.documentElement.clientWidth,window.innerWidth||t.viewportWidth),i=e*(1/8);return{closeBtnWidth:i,closeBtnHeight:.4*i,closeBtnRight:16*(i/50)}},parseCloseBtnHtml:function(t){if(!t.slotHtmlInfo)return'';var e=t.iframeWidth,i=(t.iframeHeight,['<div',' id="chapingCloseBtn_{slotId}"',' style="','position:absolute;','right:0px;','top:{top}px;','width:{closeBtnWidth}px;','height:{closeBtnHeight}px;','overflow:hidden;','display:block;','opacity:0.85;','alpha(opacity=85);','background:url(\'{closeBtnImgUrl}\') no-repeat 0 0;','_filter:progid:DXImageTransform.','Microsoft.AlphaImageLoader(','enabled=true,',' sizingMethod=none,',' src=\'{closeBtnImgUrl}\');','_background:none;','cursor:pointer;','background-position:center;','background-size:100% 100%;','z-index:2147483647;">&nbsp;</div>'].join('')),n=this.parseCloseBtnLayoutData(t),o=6===t.ist?'//cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose.png':"//cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose3.png",a=6===t.ist?0:-1*n.closeBtnHeight,r=t.viewportWidth/11,s=e/9<r?r:e/9,d=6===t.ist?s:n.closeBtnWidth,l=6===t.ist?s:n.closeBtnHeight,t={slotId:t.slotId,right:''+n.closeBtnRight,top:a,closeBtnWidth:d,closeBtnHeight:l,closeBtnImgUrl:o};return this.logic.template(i,t)},setCloseCookie:function(t,e){var i=t.slotId;if(2===t.ckct)return!0;var n=t.ckct>=6e4?t.ckct:18e4,o=e||1,a='bd_close_'+i,r={path:'/',expires:n};this.cookie.setRaw(a,o,r)},rmCookie:function(t){var e='bd_close_'+t;this.cookie.remove(e)},getCloseCookie:function(t){var e='bd_close_'+t;return this.cookie.getRaw(e,window)},addCloseBtnEvent:function(t,e){var i='chapingCloseBtn_'+t.slotId,n=document.getElementById(i);this.bdom.bind(n,'click',function(){e()})},parseCountDownHtml:function(t){var e=['<div',' id="timeCountDown_{slotId}"',' style="','position:absolute;','left:0;','top:0;','font-size:{fontSize}px;','width:auto;','height:{wheight}px;','text-align:center;','color:red;','display:block;','cursor:pointer;','background:rgba(250,250,250,0.85) none repeat;','background-size:100% 100%;','z-index:2147483647;"></div>'].join(''),t={slotId:t.slotId,fontSize:t.iframeWidth/30,wheight:t.iframeWidth/21};return this.logic.template(e,t)},drawAd:function(t,e){t.displayType='inlay-float';var i;if(i={displayType:t.displayType,styleType:t.styleType,stuffType:t.stuffType,domId:t.iframeId},!this.bl.checkAdsCount(i))return!1;var n=this.parseCloseBtnHtml(t),o=this.parseCountDownHtml(t),a=['<div id="slotContainer_{slotId}" ','style="position:absolute;width:{iframeWidth}px;height:{iframeHeight}px;','left:0px;right:0px;top:0px;bottom:0px;margin:auto;z-index:99999990;">',n,o,'<iframe',' id="{iframeId}"',' width="{iframeWidth}" ','height="{iframeHeight}" ','src="{serviceUrl}{paramString}" ','align="center,center" ','marginwidth="0" ','marginheight="0" ','scrolling="no" ','frameborder="0" ','allowtransparency="true">','</iframe>','</div>'].join('');return e.innerHTML=this.logic.template(a,t),function(e){e.style.position='fixed',e.style.left="0px",e.style.right="0px",e.style.width=t.viewportWidth+'px',e.style.height=t.viewportHeight+'px',e.style.marginLeft="0px",e.style.marginRight="0px",e.style.top="0px",e.style.bottom="0px",e.style.marginTop="0px",e.style.marginBottom="0px",e.style.zIndex=99999989}(e),this.bl.setAdsCount(i),!0},detectOS:function(){var t=navigator.userAgent,e='Win32'===navigator.platform||'Windows'===navigator.platform,i='Mac68K'===navigator.platform||'MacPPC'===navigator.platform||'Macintosh'===navigator.platform||'MacIntel'===navigator.platform;if(i)return'Mac';if('X11'===navigator.platform&&!e&&!i)return'Unix';var n=String(navigator.platform).indexOf('Linux')>-1,o='ipad'===t.toLowerCase().match(/ipad/i),a='iphone os'===t.toLowerCase().match(/iphone os/i);if(o||a)return'ios';if('windows mobile'===t.match(/windows mobile/i))return'windowsMob';var r='android'===t.toLowerCase().match(/android/i);if(n)return r?'Android':'Linux';if(e){if(t.indexOf('Windows NT 5.0')>-1||t.indexOf('Windows 2000')>-1)return'Win2000';if(t.indexOf('Windows NT 5.1')>-1||t.indexOf('Windows XP')>-1)return'WinXP';if(t.indexOf('Windows NT 5.2')>-1||t.indexOf('Windows 2003')>-1)return'Win2003';if(t.indexOf('Windows NT 6.0')>-1||t.indexOf('Windows Vista')>-1)return'WinVista';if(t.indexOf('Windows NT 6.1')>-1||t.indexOf('Windows 7')>-1)return'Win7'}return'other'},preventScroll:function(){function t(t){t=t||window.event,t.wheelDelta&&t.ctrlKey?t.returnValue=!1:t.detail&&(t.returnValue=!1)}document.addEventListener&&document.addEventListener('DOMMouseScroll',t,!1),window.onmousewheel=document.onmousewheel=t},touchHandler:function(t){t.preventDefault(),this.preventScroll()},addTouchEvent:function(){this.bdom.bind(document.body,'touchmove',this.touchHandler)},removeTouchEvent:function(){this.bdom.unbind(document.body,'touchmove',this.touchHandler)}}),oojs.define({name:'inlayInsert',namespace:'dup.ui.subpainter',deps:{bdom:'dup.union.comm.bdom',bl:'dup.union.businesslog.businessLogic',logic:'dup.union.comm.logic',unicodew:'dup.union.comm.unicodew',animat:'dup.ui.manager.animateManager',showact:'dup.ui.manager.showActionManager',datam:'dup.ui.manager.dataManager'},paint:function(){function t(){a.drawInalyAd(n,o),a.addInlayCloseBtnEvent(n,i)}function e(){a.animat.inlayAnimate(n,o,!0);var t;o&&o.parentElement.offsetWidth&&(t=o.parentElement.offsetWidth||0);var e;e=t?(t-n.iframeWidth)/2:(n.viewportWidth-n.iframeWidth)/2,o.style.cssText=o.style.cssText+'left:'+e+'px'}function i(){a.animat.inlayAnimate(n,o,!1)}var n=this.datam.getTemplateData(),o=this.bl.getWrapper(n.slotId,n.wrapperId);if(!o)throw new Error('No wrapper was found! Please check your delivery code.');var a=this;parseInt(n.waitSeconds,10);if(11===n.ist&&1===n.autop){o=this.insertToAutoPos(n)||o}var r=n.ist>100?n.ist-100:n.ist;11===r?(t(),e()):12===r&&this.fillSwipeInlayAd(n)},inlayCloseHtml:function(t){var e=['<div',' id="inlayCloseBtn_{slotId}"',' style="','position:absolute;','left:{left}px;','top:{top}px;','width:{closeBtnWidth}px;','height:{closeBtnHeight}px;','overflow:hidden;','display:block;','background:url(\'{closeBtnImgUrl}\') no-repeat 0 0;','_filter:progid:DXImageTransform.','Microsoft.AlphaImageLoader(','enabled=true,',' sizingMethod=none,',' src=\'{closeBtnImgUrl}\');','_background:none;','cursor:pointer;','background-position:center;','background-size:100% 100%;','">&nbsp;</div>'].join(''),i={slotId:t.slotId,left:6*t.iframeWidth/7,top:0,closeBtnWidth:t.iframeWidth/7,closeBtnHeight:t.iframeWidth/7,closeBtnImgUrl:'//cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose.png'};return this.logic.template(e,i)},addInlayCloseBtnEvent:function(t,e){var i='inlayCloseBtn_'+t.slotId,n=document.getElementById(i);this.bdom.bind(n,'click',function(){e()})},parseCountDownHtml:function(t){var e=['<div',' id="timeCountDown_{slotId}"',' style="','position:absolute;','left:0;','top:0;','font-size:{fontSize}px;','width:auto;','height:{wheight}px;','text-align:center;','color:red;','display:block;','cursor:pointer;','background:rgba(250,250,250,0.85) none repeat;','background-size:100% 100%;','z-index:2147483647;"></div>'].join(''),t={slotId:t.slotId,fontSize:t.iframeWidth/30,wheight:t.iframeWidth/21};return this.logic.template(e,t)},drawInalyAd:function(t,e){t.displayType='inlay-fixed';var i={displayType:t.displayType,styleType:t.styleType,stuffType:t.stuffType,domId:t.iframeId};if(!this.bl.checkAdsCount(i))return!1;var n=this.inlayCloseHtml(t),o=this.parseCountDownHtml(t),a=['<div>',n,o,'<iframe',' id="inlayChapin_{iframeId}"',' width="{iframeWidth}px" ','height="{iframeHeight}px" ','src="{serviceUrl}{paramString}" ','align="center,center" ','marginwidth="0" ','marginheight="0" ','scrolling="no" ','frameborder="0" ','allowtransparency="true">','</iframe>','</div>'].join('');e.innerHTML=this.logic.template(a,t);return e.style.position='relative',e.style.width=t.iframeWidth+'px',e.style.height=t.iframeHeight+'px',e.style.margin='0px',e.style.left=(t.viewportWidth-t.iframeWidth)/2+'px',e.style.display='none',this.bl.setAdsCount(i),!0},insertToAutoPos:function(t){this.showact.initArticleInfo();var e=this.showact.findInsertPos();if(!e)return null;var i=document.createElement('div');return i.id='autoInsertWapper_'+t.slotId,this.showact.insertAfter(i,e),i},drawSwipeInalyAd:function(t,e){t.displayType='inlay-fixed';var i=['<div id="swapeInalyContain_{iframeId}" ','style="width:{iframeWidth}px;height:{iframeHeight}px;">','<iframe',' id="swapeInlayChapin_{iframeId}"',' width="{iframeWidth}px" ','height="{iframeHeight}px" ','src="{serviceUrl}{paramString}" ','align="center,center" ','marginwidth="0" ','marginheight="0" ','scrolling="no" ','frameborder="0" ','allowtransparency="true">','</iframe>','</div>'].join('');return e.innerHTML=this.logic.template(i,t),function(e){e.style.position='relative',e.style.width=t.iframeWidth+'px',e.style.height=t.iframeHeight+'px',e.style.margin='0px',e.style.left=(t.viewportWidth-t.iframeWidth)/2+'px'}(e),!0},dispatch:function(t,e){try{var i=document.createEvent('Event');i.initEvent(e,!0,!0),t.dispatchEvent(i)}catch(t){window.console.log(t)}},setClickEvent:function(t){var e=document.getElementById('swapeInlayChapin_'+t.iframeId),i=document.getElementById('swapeInalyContain_'+t.iframeId);this.bdom.bind(i,'touchstart',function(t){e.style.cssText='pointer-events:auto;clickable:true;',this.dispatch(e,'click'),window.setTimeout(function(){e.style.cssText='pointer-events:none;'},1e3)})},fillSwipeInlayAd:function(t){var e='bdUserDefInlay_'+t.slotId,i=document.getElementById(e);this.drawSwipeInalyAd(t,i),2===t.swtp&&(document.getElementById('swapeInlayChapin_'+t.iframeId).style.cssText='pointer-events:none;',this.setClickEvent(t))}}),oojs.define({name:'feiHongReact',namespace:'dup.ui.subpainter',deps:{bdom:'dup.union.comm.bdom',frame:'dup.business.frame',bl:'dup.union.businesslog.businessLogic',param:'dup.business.param',logic:'dup.union.comm.logic',dataManager:'dup.ui.manager.dataManager',expfw:'dup.expfw.expFramework'},paint:function(){var t=this.slotInfo=this.dataManager.getSlotInfo();this.render(t)},AdHook:function(){},adSlotInfo:{},scriptUrl:"",indxChoosed:{},tabIdx:0,allowSend:1,render:function(t){if(void 0===window.tuList&&(window.tuList={}),window.tuList.hasOwnProperty(t.slotId))return 0;var e=new Date,i=this.md5(1e6*Math.random()+window.document.location.href+window.document.cookie+e.getTime()),n='';void 0!==t.styleOpenApi.adind&&(n='_'+t.styleOpenApi.adind);var o=t.slotId+n;window.tuList[o]={tu:t.slotId,handler:this,slotInfo:t,queryid:i,sendMonitorRate:0,allowSendMonitor:0,secondSent:0},this.adSlotInfo=t;var a=this.expfw.global[122]&&this.expfw.global[122].eid;a&&(t.paramObj.coa+='%26fe_exp_tag%3D'+a),t.paramObj.coa+="%26tab%3D0%26ptn%3D0",this.addCss(" @-webkit-keyframes bd-loadRotate {from {-webkit-transform:rotate(0deg);}to {-webkit-transform:rotate(360deg);} }@keyframes bd-loadRotate { from {-webkit-transform:rotate(0deg);} to {-webkit-transform:rotate(360deg);} }.bd-load-effect { display: inline-block; vertical-align: middle; background: url(//t12.baidu.com/it/u=3593248742,1654771676&fm=76) no-repeat 0 0; background-size: 100%; -webkit-animation-name: bd-loadRotate; -webkit-animation-duration: 1.3s; -webkit-animation-iteration-count: infinite; -webkit-animation-timing-function: linear;animation-name: bd-loadRotate; animation-duration: 1.3s; animation-iteration-count: infinite; animation-timing-function: linear; }");var r=document.createElement('div');r.id='fh_top_item',document.body.appendChild(r);var s=document.createElement('div');s.id='fh_top_itemtab1',document.body.appendChild(s),this.sendAdsRequest(),this.sendAdsRequest()},sendAdsRequest:function(){var t=this,e=t.adSlotInfo;t.allowSend=0;for(var i=t.tabIdx,n=0;;){var o=parseInt(100*Math.random(),10);if(1!==t.indxChoosed[o]){n=o,t.indxChoosed[o]=1,t.tabIdx+=1;break}}e.paramObj.coa=e.paramObj.coa.replace(/tab%3D\d+/,'tab%3D'+i),e.paramObj.coa=e.paramObj.coa.replace(/ptn%3D\d+/,'ptn%3D'+n);e.containerId;if(e.isOnceSeach){var a=e.containerId+'_frame',r=document.getElementById(a);r&&(r.width=0,r.height=0)}var s=e.response.placement.userdefine,d=[];if(void 0!==s)for(var l=s.split('|'),h=0;h<l.length;h++)d=l[h].split('='),'tn'===d[0]&&d[1];var p=e.paramObj;e.isOnceSeach&&(p.ari=2,p.dc=2,p.dtm='HTML_POST'),e.paramObj=p;var c=t.param.getPmpRequestUrl(e);if(c=c.replace('stid=5&','stid=0&'),e.isAsync){var m=document.createElement('script');m.src=c,m.type='text/javascript',m.charset='UTF-8';var u=document.getElementsByTagName('script')[0];u.parentNode.insertBefore(m,u)}else{var m=document.createElement('script');m.src=c,m.charset='UTF-8',document.body.appendChild(m)}t.renderLoading(e),m.onload=m.onreadystatechange=m.onerror=function(){t.allowSend=1;var e=document.getElementById('loadding_item');void 0!==e&&document.body.removeChild(e)};var f=document.createElement('div');return f.id='feihong_pos_'+i,document.body.appendChild(f),{tab:i,ptn:n}},addCss:function(t){var e=document.createElement('style'),i=document.head||document.getElementsByTagName('head')[0];if(e.type='text/css',e.styleSheet){var n=function(){try{e.styleSheet.cssText=t}catch(t){}};e.styleSheet.disabled?setTimeout(n,10):n()}else{var o=document.createTextNode(t);e.appendChild(o)}i.appendChild(e)},renderLoading:function(t){var e=t.paramObj.rw,i=document.createElement('div');i.id='loadding_item',i.style.display='block',i.style.position='relative',i.style.left=0,i.style.width=e+'px',i.style.height=e/10+'px',i.style.backgroundColor='#eee';var n=e/10,o=document.createElement('img');o.id='loadingText',o.src='http://t10.baidu.com/it/u=4139712021,1947734414&fm=76',o.style.position='absolute',o.style.width=e/3+'px',o.style.height=7*e/168+'px',o.style.top=n/4+'px',o.style.right=8*e/30+'px',i.appendChild(o);var a=document.createElement('div');a.id='loadingImg',a.className='bd-load-effect',a.style.position='absolute',a.style.width=e/20+'px',a.style.height=e/20+'px',a.style.top=n/4+'px',a.style.left=10*e/30+'px',i.appendChild(a),document.body.appendChild(i)},md5:function(t){function e(t,e){var i,n,o,a,r;return o=2147483648&t,a=2147483648&e,i=1073741824&t,n=1073741824&e,r=(1073741823&t)+(1073741823&e),i&n?2147483648^r^o^a:i|n?1073741824&r?3221225472^r^o^a:1073741824^r^o^a:r^o^a}function i(t,i,n,o,a,r,s){return t=e(t,e(e(i&n|~i&o,a),s)),e(t<<r|t>>>32-r,i)}function n(t,i,n,o,a,r,s){return t=e(t,e(e(i&o|n&~o,a),s)),e(t<<r|t>>>32-r,i)}function o(t,i,n,o,a,r,s){return t=e(t,e(e(i^n^o,a),s)),e(t<<r|t>>>32-r,i)}function a(t,i,n,o,a,r,s){return t=e(t,e(e(n^(i|~o),a),s)),e(t<<r|t>>>32-r,i)}function r(t){var e,i="",n="";for(e=0;3>=e;e++)n=t>>>8*e&255,n="0"+n.toString(16),i+=n.substr(n.length-2,2);return i}var s,d,l,h,p,c,m,u,f=[];for(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);128>n?e+=String.fromCharCode(n):(127<n&&2048>n?e+=String.fromCharCode(n>>6|192):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128)),e+=String.fromCharCode(63&n|128))}return e}(t),f=function(t){var e,i=t.length;e=i+8;for(var n=16*((e-e%64)/64+1),o=Array(n-1),a=0,r=0;r<i;)e=(r-r%4)/4,a=r%4*8,o[e]|=t.charCodeAt(r)<<a,r++;return e=(r-r%4)/4,o[e]|=128<<r%4*8,o[n-2]=i<<3,o[n-1]=i>>>29,o}(t),c=1732584193,m=4023233417,t=2562383102,u=271733878,s=0;s<f.length;s+=16)d=c,l=m,h=t,p=u,c=i(c,m,t,u,f[s+0],7,3614090360),u=i(u,c,m,t,f[s+1],12,3905402710),t=i(t,u,c,m,f[s+2],17,606105819),m=i(m,t,u,c,f[s+3],22,3250441966),c=i(c,m,t,u,f[s+4],7,4118548399),u=i(u,c,m,t,f[s+5],12,1200080426),t=i(t,u,c,m,f[s+6],17,2821735955),m=i(m,t,u,c,f[s+7],22,4249261313),c=i(c,m,t,u,f[s+8],7,1770035416),u=i(u,c,m,t,f[s+9],12,2336552879),t=i(t,u,c,m,f[s+10],17,4294925233),m=i(m,t,u,c,f[s+11],22,2304563134),c=i(c,m,t,u,f[s+12],7,1804603682),u=i(u,c,m,t,f[s+13],12,4254626195),t=i(t,u,c,m,f[s+14],17,2792965006),m=i(m,t,u,c,f[s+15],22,1236535329),c=n(c,m,t,u,f[s+1],5,4129170786),u=n(u,c,m,t,f[s+6],9,3225465664),t=n(t,u,c,m,f[s+11],14,643717713),m=n(m,t,u,c,f[s+0],20,3921069994),c=n(c,m,t,u,f[s+5],5,3593408605),u=n(u,c,m,t,f[s+10],9,38016083),t=n(t,u,c,m,f[s+15],14,3634488961),m=n(m,t,u,c,f[s+4],20,3889429448),c=n(c,m,t,u,f[s+9],5,568446438),u=n(u,c,m,t,f[s+14],9,3275163606),t=n(t,u,c,m,f[s+3],14,4107603335),m=n(m,t,u,c,f[s+8],20,1163531501),c=n(c,m,t,u,f[s+13],5,2850285829),u=n(u,c,m,t,f[s+2],9,4243563512),t=n(t,u,c,m,f[s+7],14,1735328473),m=n(m,t,u,c,f[s+12],20,2368359562),c=o(c,m,t,u,f[s+5],4,4294588738),u=o(u,c,m,t,f[s+8],11,2272392833),t=o(t,u,c,m,f[s+11],16,1839030562),
m=o(m,t,u,c,f[s+14],23,4259657740),c=o(c,m,t,u,f[s+1],4,2763975236),u=o(u,c,m,t,f[s+4],11,1272893353),t=o(t,u,c,m,f[s+7],16,4139469664),m=o(m,t,u,c,f[s+10],23,3200236656),c=o(c,m,t,u,f[s+13],4,681279174),u=o(u,c,m,t,f[s+0],11,3936430074),t=o(t,u,c,m,f[s+3],16,3572445317),m=o(m,t,u,c,f[s+6],23,76029189),c=o(c,m,t,u,f[s+9],4,3654602809),u=o(u,c,m,t,f[s+12],11,3873151461),t=o(t,u,c,m,f[s+15],16,530742520),m=o(m,t,u,c,f[s+2],23,3299628645),c=a(c,m,t,u,f[s+0],6,4096336452),u=a(u,c,m,t,f[s+7],10,1126891415),t=a(t,u,c,m,f[s+14],15,2878612391),m=a(m,t,u,c,f[s+5],21,4237533241),c=a(c,m,t,u,f[s+12],6,1700485571),u=a(u,c,m,t,f[s+3],10,2399980690),t=a(t,u,c,m,f[s+10],15,4293915773),m=a(m,t,u,c,f[s+1],21,2240044497),c=a(c,m,t,u,f[s+8],6,1873313359),u=a(u,c,m,t,f[s+15],10,4264355552),t=a(t,u,c,m,f[s+6],15,2734768916),m=a(m,t,u,c,f[s+13],21,1309151649),c=a(c,m,t,u,f[s+4],6,4149444226),u=a(u,c,m,t,f[s+11],10,3174756917),t=a(t,u,c,m,f[s+2],15,718787259),m=a(m,t,u,c,f[s+9],21,3951481745),c=e(c,d),m=e(m,l),t=e(t,h),u=e(u,p);return f=function(t){var e=t,i=0;for(t=8-t.length;i<t;i++)e="0"+e;return e},c=((parseInt("0x"+r(c),16)+parseInt("0x"+r(m),16))%4294967296).toString(16),t=((parseInt("0x"+r(t),16)+parseInt("0x"+r(u),16))%4294967296).toString(16),8>c.length&&(c=f(c)),8>t.length&&(t=f(t)),c+t},getWrapper:function(t,e){var i='cpro_'+t,n=document.getElementById(i);return n||(n=document.getElementById(e)),n}}),oojs.define({name:'feiHong',namespace:'dup.ui.subpainter',deps:{bdom:'dup.union.comm.bdom',frame:'dup.business.frame',bl:'dup.union.businesslog.businessLogic',param:'dup.business.param',logic:'dup.union.comm.logic',dataManager:'dup.ui.manager.dataManager',freact:'dup.ui.subpainter.feiHongReact',expfw:'dup.expfw.expFramework'},paint:function(){void 0!==window.feiHongReq&&1===window.feiHongReq||(window.feiHongReq=1,this.freact.paint())},AdHook:function(){},adSlotInfo:{},scriptUrl:"",indxChoosed:{},tabIdx:0,allowSend:1,fhTopflag:0,fhBannerStatus:0,sendMonitorFlag:1,render:function(t){var e=this,i=new Date;window.feihongQueryID=this.md5(1e6*Math.random()+window.document.location.href+window.document.cookie+i.getTime());this.sendMonitor("&feihong_type=1"),this.adSlotInfo=t;var n=this.expfw.global[122]&&this.expfw.global[122].eid;n&&(t.paramObj.coa+='%26fe_exp_tag%3D'+n),t.paramObj.coa+="%26tab%3D0%26ptn%3D0",this.addCss(" @-webkit-keyframes bd-loadRotate {from {-webkit-transform:rotate(0deg);}to {-webkit-transform:rotate(360deg);} }@keyframes bd-loadRotate { from {-webkit-transform:rotate(0deg);} to {-webkit-transform:rotate(360deg);} }.bd-load-effect { display: inline-block; vertical-align: middle; background: url(//t12.baidu.com/it/u=3593248742,1654771676&fm=76) no-repeat 0 0; background-size: 100%; -webkit-animation-name: bd-loadRotate; -webkit-animation-duration: 1.3s; -webkit-animation-iteration-count: infinite; -webkit-animation-timing-function: linear;animation-name: bd-loadRotate; animation-duration: 1.3s; animation-iteration-count: infinite; animation-timing-function: linear; }");var o=document.createElement('div');o.id='fh_top_item',document.body.appendChild(o),e.renderBanner(t),this.sendAdsRequest(),this.sendAdsRequest(),this.bdom.bind(window,"scroll",function(){var t=(e.adSlotInfo,document.getElementById('fh_top_item')),i=e.bdom.getScrollTop(),n=e.bdom.getClientHeight();i+n-e.bdom.getScrollHeight()>-n&&e.allowSend&&(e.sendAdsRequest(),e.tabIdx%4===0&&e.sendAdsRequest());var o=t.offsetTop;1===e.sendMonitorFlag&&o<=i+n-30&&(e.sendMonitor('&feihong_type=3'),e.sendMonitorFlag=0)})},sendAdsRequest:function(){var t=this,e=t.adSlotInfo;t.allowSend=0;for(var i=t.tabIdx,n=0;;){var o=parseInt(100*Math.random(),10);if(1!==t.indxChoosed[o]){n=o,t.indxChoosed[o]=1,t.tabIdx+=1;break}}e.paramObj.coa=e.paramObj.coa.replace(/tab%3D\d+/,'tab%3D'+i),e.paramObj.coa=e.paramObj.coa.replace(/ptn%3D\d+/,'ptn%3D'+n);e.containerId;if(e.isOnceSeach){var a=e.containerId+'_frame',r=document.getElementById(a);r&&(r.width=0,r.height=0)}var s=e.response.placement.userdefine,d=[];if(void 0!==s)for(var l=s.split('|'),h=0;h<l.length;h++)d=l[h].split('='),'tn'===d[0]&&d[1];var p=e.paramObj;e.isOnceSeach&&(p.ari=2,p.dc=2,p.dtm='HTML_POST'),e.paramObj=p;var c=t.param.getPmpRequestUrl(e);if(c=c.replace('stid=5&','stid=0&'),e.isAsync){var m=document.createElement('script');m.src=c,m.type='text/javascript',m.charset='UTF-8';var u=document.getElementsByTagName('script')[0];u.parentNode.insertBefore(m,u)}else{var m=document.createElement('script');m.src=c,m.charset='UTF-8',document.body.appendChild(m)}t.sendMonitor('&feihong_type=2&tab='+i+'&ptn='+n),t.renderLoading(e),m.onload=m.onreadystatechange=m.onerror=function(){t.allowSend=1;var e=document.getElementById('loadding_item');document.body.removeChild(e)};var f=document.createElement('div');f.id='feihong_pos_'+i,document.body.appendChild(f)},sendMonitor:function(t){var e=document.createElement('img');e.display='none',e.src='http://202.108.23.15:8030/m.js?&feihong_queryid='+window.feihongQueryID+t},addCss:function(t){var e=document.createElement('style'),i=document.head||document.getElementsByTagName('head')[0];if(e.type='text/css',e.styleSheet){var n=function(){try{e.styleSheet.cssText=t}catch(t){}};e.styleSheet.disabled?setTimeout(n,10):n()}else{var o=document.createTextNode(t);e.appendChild(o)}i.appendChild(e)},renderBanner:function(t){var e=t.paramObj.rw,i=document.createElement('div');i.id='fh_banner_item',i.style.display='block',i.style.position='relative',i.style.height=94*e/640+'px',i.style.width=e+'px',i.style.backgroundColor='#FFF';var n=document.createElement('img');n.id='Banner_img_item',n.src='http://t12.baidu.com/it/u=3361467848,2190901240&fm=76',n.style.display='block',n.style.position='absolute',n.style.height=94*e/640+'px',n.style.width=e+'px',n.style.maxWidth=e+'px',i.appendChild(n),document.body.appendChild(i)},changeBanner:function(t,e){var t=e.adSlotInfo,i=e.bdom.getScrollTop(),n=document.getElementById('fh_top_item'),o=n.offsetTop,a=t.paramObj.rw;if(0===e.fhBannerStatus&&o<i){var r=document.getElementById('fh_banner_item'),r=(document.getElementById('Banner_img_item'),document.createElement('div'));r.id='fh_banner_item_fixed',r.style.display='block',r.style.position='fixed',r.style.height=94*a/640+'px',r.style.width=a+'px',r.style.top='0px',r.style.left='0px',r.style.zIndex=2147483647,r.style.height=94*a/640+'px';var s=document.createElement('img');s.id='Banner_img_item_fixed',s.src='http://t11.baidu.com/it/u=3620413495,2142661669&fm=76',s.style.display='block',s.style.position='absolute',s.style.height=94*a/640+'px',s.style.width=a+'px',r.appendChild(s),document.body.appendChild(r),e.fhBannerStatus=1}if(1===e.fhBannerStatus&&o>i){var r=document.getElementById('fh_banner_item_fixed');document.body.removeChild(r),e.fhBannerStatus=0}},renderLoading:function(t){var e=t.paramObj.rw,i=document.createElement('div');i.id='loadding_item',i.style.display='block',i.style.position='relative',i.style.left=0,i.style.width=e+'px',i.style.height=e/10+'px',i.style.backgroundColor='#eee';var n=e/10,o=document.createElement('img');o.id='loadingText',o.src='http://t10.baidu.com/it/u=4139712021,1947734414&fm=76',o.style.position='absolute',o.style.width=e/3+'px',o.style.height=7*e/168+'px',o.style.top=n/4+'px',o.style.right=8*e/30+'px',i.appendChild(o);var a=document.createElement('div');a.id='loadingImg',a.className='bd-load-effect',a.style.position='absolute',a.style.width=e/20+'px',a.style.height=e/20+'px',a.style.top=n/4+'px',a.style.left=10*e/30+'px',i.appendChild(a),document.body.appendChild(i)},md5:function(t){function e(t,e){var i,n,o,a,r;return o=2147483648&t,a=2147483648&e,i=1073741824&t,n=1073741824&e,r=(1073741823&t)+(1073741823&e),i&n?2147483648^r^o^a:i|n?1073741824&r?3221225472^r^o^a:1073741824^r^o^a:r^o^a}function i(t,i,n,o,a,r,s){return t=e(t,e(e(i&n|~i&o,a),s)),e(t<<r|t>>>32-r,i)}function n(t,i,n,o,a,r,s){return t=e(t,e(e(i&o|n&~o,a),s)),e(t<<r|t>>>32-r,i)}function o(t,i,n,o,a,r,s){return t=e(t,e(e(i^n^o,a),s)),e(t<<r|t>>>32-r,i)}function a(t,i,n,o,a,r,s){return t=e(t,e(e(n^(i|~o),a),s)),e(t<<r|t>>>32-r,i)}function r(t){var e,i="",n="";for(e=0;3>=e;e++)n=t>>>8*e&255,n="0"+n.toString(16),i+=n.substr(n.length-2,2);return i}var s,d,l,h,p,c,m,u,f=[];for(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);128>n?e+=String.fromCharCode(n):(127<n&&2048>n?e+=String.fromCharCode(n>>6|192):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128)),e+=String.fromCharCode(63&n|128))}return e}(t),f=function(t){var e,i=t.length;e=i+8;for(var n=16*((e-e%64)/64+1),o=Array(n-1),a=0,r=0;r<i;)e=(r-r%4)/4,a=r%4*8,o[e]|=t.charCodeAt(r)<<a,r++;return e=(r-r%4)/4,o[e]|=128<<r%4*8,o[n-2]=i<<3,o[n-1]=i>>>29,o}(t),c=1732584193,m=4023233417,t=2562383102,u=271733878,s=0;s<f.length;s+=16)d=c,l=m,h=t,p=u,c=i(c,m,t,u,f[s+0],7,3614090360),u=i(u,c,m,t,f[s+1],12,3905402710),t=i(t,u,c,m,f[s+2],17,606105819),m=i(m,t,u,c,f[s+3],22,3250441966),c=i(c,m,t,u,f[s+4],7,4118548399),u=i(u,c,m,t,f[s+5],12,1200080426),t=i(t,u,c,m,f[s+6],17,2821735955),m=i(m,t,u,c,f[s+7],22,4249261313),c=i(c,m,t,u,f[s+8],7,1770035416),u=i(u,c,m,t,f[s+9],12,2336552879),t=i(t,u,c,m,f[s+10],17,4294925233),m=i(m,t,u,c,f[s+11],22,2304563134),c=i(c,m,t,u,f[s+12],7,1804603682),u=i(u,c,m,t,f[s+13],12,4254626195),t=i(t,u,c,m,f[s+14],17,2792965006),m=i(m,t,u,c,f[s+15],22,1236535329),c=n(c,m,t,u,f[s+1],5,4129170786),u=n(u,c,m,t,f[s+6],9,3225465664),t=n(t,u,c,m,f[s+11],14,643717713),m=n(m,t,u,c,f[s+0],20,3921069994),c=n(c,m,t,u,f[s+5],5,3593408605),u=n(u,c,m,t,f[s+10],9,38016083),t=n(t,u,c,m,f[s+15],14,3634488961),m=n(m,t,u,c,f[s+4],20,3889429448),c=n(c,m,t,u,f[s+9],5,568446438),u=n(u,c,m,t,f[s+14],9,3275163606),t=n(t,u,c,m,f[s+3],14,4107603335),m=n(m,t,u,c,f[s+8],20,1163531501),c=n(c,m,t,u,f[s+13],5,2850285829),u=n(u,c,m,t,f[s+2],9,4243563512),t=n(t,u,c,m,f[s+7],14,1735328473),m=n(m,t,u,c,f[s+12],20,2368359562),c=o(c,m,t,u,f[s+5],4,4294588738),u=o(u,c,m,t,f[s+8],11,2272392833),t=o(t,u,c,m,f[s+11],16,1839030562),m=o(m,t,u,c,f[s+14],23,4259657740),c=o(c,m,t,u,f[s+1],4,2763975236),u=o(u,c,m,t,f[s+4],11,1272893353),t=o(t,u,c,m,f[s+7],16,4139469664),m=o(m,t,u,c,f[s+10],23,3200236656),c=o(c,m,t,u,f[s+13],4,681279174),u=o(u,c,m,t,f[s+0],11,3936430074),t=o(t,u,c,m,f[s+3],16,3572445317),m=o(m,t,u,c,f[s+6],23,76029189),c=o(c,m,t,u,f[s+9],4,3654602809),u=o(u,c,m,t,f[s+12],11,3873151461),t=o(t,u,c,m,f[s+15],16,530742520),m=o(m,t,u,c,f[s+2],23,3299628645),c=a(c,m,t,u,f[s+0],6,4096336452),u=a(u,c,m,t,f[s+7],10,1126891415),t=a(t,u,c,m,f[s+14],15,2878612391),m=a(m,t,u,c,f[s+5],21,4237533241),c=a(c,m,t,u,f[s+12],6,1700485571),u=a(u,c,m,t,f[s+3],10,2399980690),t=a(t,u,c,m,f[s+10],15,4293915773),m=a(m,t,u,c,f[s+1],21,2240044497),c=a(c,m,t,u,f[s+8],6,1873313359),u=a(u,c,m,t,f[s+15],10,4264355552),t=a(t,u,c,m,f[s+6],15,2734768916),m=a(m,t,u,c,f[s+13],21,1309151649),c=a(c,m,t,u,f[s+4],6,4149444226),u=a(u,c,m,t,f[s+11],10,3174756917),t=a(t,u,c,m,f[s+2],15,718787259),m=a(m,t,u,c,f[s+9],21,3951481745),c=e(c,d),m=e(m,l),t=e(t,h),u=e(u,p);return f=function(t){var e=t,i=0;for(t=8-t.length;i<t;i++)e="0"+e;return e},c=((parseInt("0x"+r(c),16)+parseInt("0x"+r(m),16))%4294967296).toString(16),t=((parseInt("0x"+r(t),16)+parseInt("0x"+r(u),16))%4294967296).toString(16),8>c.length&&(c=f(c)),8>t.length&&(t=f(t)),c+t},getWrapper:function(t,e){var i='cpro_'+t,n=document.getElementById(i);return n||(n=document.getElementById(e)),n}}),oojs.define({name:'feiHongInlayReact',namespace:'dup.ui.subpainter',deps:{frame:'dup.business.frame',bl:'dup.union.businesslog.businessLogic',param:'dup.business.param',bdom:'dup.union.comm.bdom',dataManager:'dup.ui.manager.dataManager',expfw:'dup.expfw.expFramework'},paint:function(){var t=this.slotInfo=this.dataManager.getSlotInfo();this.render(t)},AdHook:function(){},adSlotInfo:{},scriptUrl:"",indxChoosedInlay:{},tabIdx:0,allowSend:1,render:function(t){if(void 0===window.tuList&&(window.tuList={}),window.tuList.hasOwnProperty(t.slotId))return 0;var e=new Date,i=this.md5(1e6*Math.random()+window.document.location.href+window.document.cookie+e.getTime()),n=document.getElementsByTagName("script"),o=n[n.length-1],a='';void 0!==t.styleOpenApi.adind&&(a='_'+t.styleOpenApi.adind);var r=t.slotId+a;window.tuList[r]={tu:t.slotId,handler:this,slotInfo:t,FramePos:o,queryid:i,frameRendered:0,allowSendMonitor:0,sendSecondReq:0},this.adSlotInfo=t;var s=this.expfw.global[124]&&this.expfw.global[124].eid,d=this.expfw.global[24]&&this.expfw.global[24].eid;s?s&&(t.paramObj.coa+='%26fe_exp_tag%3D'+s):d&&d&&(t.paramObj.coa+='%26fe_exp_tag%3D'+d),t.paramObj.coa+="%26tab%3D0%26ptn%3D0",this.addCss(" @-webkit-keyframes bd-loadRotate {from {-webkit-transform:rotate(0deg);}to {-webkit-transform:rotate(360deg);} }@keyframes bd-loadRotate { from {-webkit-transform:rotate(0deg);} to {-webkit-transform:rotate(360deg);} }.bd-load-effect { display: inline-block; vertical-align: middle; background: url(//t12.baidu.com/it/u=3593248742,1654771676&fm=76) no-repeat 0 0; background-size: 100%; -webkit-animation-name: bd-loadRotate; -webkit-animation-duration: 1.3s; -webkit-animation-iteration-count: infinite; -webkit-animation-timing-function: linear;animation-name: bd-loadRotate; animation-duration: 1.3s; animation-iteration-count: infinite; animation-timing-function: linear; }"),this.sendAdsRequest()},sendAdsRequest:function(){var t=this,e=t.adSlotInfo;t.allowSend=0;for(var i=t.tabIdx,n=0;;){var o=parseInt(100*Math.random(),10);if(1!==t.indxChoosedInlay[o]){n=o,t.indxChoosedInlay[o]=1,t.tabIdx+=1;break}}e.paramObj.coa=e.paramObj.coa.replace(/tab%3D\d+/,'tab%3D'+i),e.paramObj.coa=e.paramObj.coa.replace(/ptn%3D\d+/,'ptn%3D'+n);e.containerId;if(e.isOnceSeach){var a=e.containerId+'_frame',r=document.getElementById(a);r&&(r.width=0,r.height=0)}var s=e.response.placement.userdefine,d=[];if(void 0!==s)for(var l=s.split('|'),h=0;h<l.length;h++)d=l[h].split('='),'tn'===d[0]&&d[1];var p=e.paramObj;e.isOnceSeach&&(p.ari=2,p.dc=2,p.dtm='HTML_POST'),e.paramObj=p;var c=t.param.getPmpRequestUrl(e);c=c.replace('stid=5&','stid=0&');var m=document.createElement('script');if(e.isAsync){m.src=c,m.type='text/javascript',m.charset='UTF-8';var u=document.getElementsByTagName('script')[0];u.parentNode.insertBefore(m,u)}else m.src=c,m.charset='UTF-8',document.body.appendChild(m);t.renderLoading(e);var f=document.getElementById('fh_top_item_'+e.slotId);m.onload=m.onreadystatechange=m.onerror=function(){t.allowSend=1;var e=document.getElementById('inlay_loadding_item');void 0!==e&&f.removeChild(e)};var g=document.createElement('div');return g.id='feihong_pos_'+i,document.body.appendChild(g),{tab:i,ptn:n}},addCss:function(t){var e=document.createElement('style'),i=document.head||document.getElementsByTagName('head')[0];if(e.type='text/css',e.styleSheet){var n=function(){try{e.styleSheet.cssText=t}catch(t){}};e.styleSheet.disabled?setTimeout(n,10):n()}else{var o=document.createTextNode(t);e.appendChild(o)}i.appendChild(e)},renderLoading:function(t){var e=t.paramObj.rw,i=document.createElement('div');i.id='inlay_loadding_item',i.style.display='block',i.style.position='relative',i.style.left=0,i.style.width=e+'px',i.style.height=e/10+'px',i.style.backgroundColor='#eee';var n=e/10,o=document.createElement('img');o.id='loadingText',o.src='http://t10.baidu.com/it/u=4139712021,1947734414&fm=76',o.style.position='absolute',o.style.width=e/3+'px',o.style.height=7*e/168+'px',o.style.top=n/4+'px',o.style.right=8*e/30+'px',i.appendChild(o);var a=document.createElement('div');a.id='loadingImg',a.className='bd-load-effect',a.style.position='absolute',a.style.width=e/20+'px',a.style.height=e/20+'px',a.style.top=n/4+'px',a.style.left=10*e/30+'px',i.appendChild(a),document.getElementById('fh_top_item_'+t.slotId).appendChild(i)},md5:function(t){function e(t,e){var i,n,o,a,r;return o=2147483648&t,a=2147483648&e,i=1073741824&t,n=1073741824&e,r=(1073741823&t)+(1073741823&e),i&n?2147483648^r^o^a:i|n?1073741824&r?3221225472^r^o^a:1073741824^r^o^a:r^o^a}function i(t,i,n,o,a,r,s){return t=e(t,e(e(i&n|~i&o,a),s)),e(t<<r|t>>>32-r,i)}function n(t,i,n,o,a,r,s){return t=e(t,e(e(i&o|n&~o,a),s)),e(t<<r|t>>>32-r,i)}function o(t,i,n,o,a,r,s){return t=e(t,e(e(i^n^o,a),s)),e(t<<r|t>>>32-r,i)}function a(t,i,n,o,a,r,s){return t=e(t,e(e(n^(i|~o),a),s)),e(t<<r|t>>>32-r,i)}function r(t){var e,i="",n="";for(e=0;3>=e;e++)n=t>>>8*e&255,n="0"+n.toString(16),i+=n.substr(n.length-2,2);return i}var s,d,l,h,p,c,m,u,f=[];for(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);128>n?e+=String.fromCharCode(n):(127<n&&2048>n?e+=String.fromCharCode(n>>6|192):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128)),e+=String.fromCharCode(63&n|128))}return e}(t),f=function(t){var e,i=t.length;e=i+8;for(var n=16*((e-e%64)/64+1),o=Array(n-1),a=0,r=0;r<i;)e=(r-r%4)/4,a=r%4*8,o[e]|=t.charCodeAt(r)<<a,r++;return e=(r-r%4)/4,o[e]|=128<<r%4*8,o[n-2]=i<<3,o[n-1]=i>>>29,o}(t),c=1732584193,m=4023233417,t=2562383102,u=271733878,s=0;s<f.length;s+=16)d=c,l=m,h=t,p=u,c=i(c,m,t,u,f[s+0],7,3614090360),u=i(u,c,m,t,f[s+1],12,3905402710),t=i(t,u,c,m,f[s+2],17,606105819),m=i(m,t,u,c,f[s+3],22,3250441966),c=i(c,m,t,u,f[s+4],7,4118548399),u=i(u,c,m,t,f[s+5],12,1200080426),t=i(t,u,c,m,f[s+6],17,2821735955),m=i(m,t,u,c,f[s+7],22,4249261313),c=i(c,m,t,u,f[s+8],7,1770035416),u=i(u,c,m,t,f[s+9],12,2336552879),t=i(t,u,c,m,f[s+10],17,4294925233),m=i(m,t,u,c,f[s+11],22,2304563134),c=i(c,m,t,u,f[s+12],7,1804603682),u=i(u,c,m,t,f[s+13],12,4254626195),t=i(t,u,c,m,f[s+14],17,2792965006),m=i(m,t,u,c,f[s+15],22,1236535329),c=n(c,m,t,u,f[s+1],5,4129170786),u=n(u,c,m,t,f[s+6],9,3225465664),t=n(t,u,c,m,f[s+11],14,643717713),m=n(m,t,u,c,f[s+0],20,3921069994),c=n(c,m,t,u,f[s+5],5,3593408605),u=n(u,c,m,t,f[s+10],9,38016083),t=n(t,u,c,m,f[s+15],14,3634488961),m=n(m,t,u,c,f[s+4],20,3889429448),c=n(c,m,t,u,f[s+9],5,568446438),u=n(u,c,m,t,f[s+14],9,3275163606),t=n(t,u,c,m,f[s+3],14,4107603335),m=n(m,t,u,c,f[s+8],20,1163531501),c=n(c,m,t,u,f[s+13],5,2850285829),u=n(u,c,m,t,f[s+2],9,4243563512),t=n(t,u,c,m,f[s+7],14,1735328473),m=n(m,t,u,c,f[s+12],20,2368359562),c=o(c,m,t,u,f[s+5],4,4294588738),u=o(u,c,m,t,f[s+8],11,2272392833),t=o(t,u,c,m,f[s+11],16,1839030562),m=o(m,t,u,c,f[s+14],23,4259657740),c=o(c,m,t,u,f[s+1],4,2763975236),u=o(u,c,m,t,f[s+4],11,1272893353),t=o(t,u,c,m,f[s+7],16,4139469664),m=o(m,t,u,c,f[s+10],23,3200236656),c=o(c,m,t,u,f[s+13],4,681279174),u=o(u,c,m,t,f[s+0],11,3936430074),t=o(t,u,c,m,f[s+3],16,3572445317),m=o(m,t,u,c,f[s+6],23,76029189),c=o(c,m,t,u,f[s+9],4,3654602809),u=o(u,c,m,t,f[s+12],11,3873151461),t=o(t,u,c,m,f[s+15],16,530742520),m=o(m,t,u,c,f[s+2],23,3299628645),c=a(c,m,t,u,f[s+0],6,4096336452),u=a(u,c,m,t,f[s+7],10,1126891415),t=a(t,u,c,m,f[s+14],15,2878612391),m=a(m,t,u,c,f[s+5],21,4237533241),c=a(c,m,t,u,f[s+12],6,1700485571),u=a(u,c,m,t,f[s+3],10,2399980690),t=a(t,u,c,m,f[s+10],15,4293915773),m=a(m,t,u,c,f[s+1],21,2240044497),c=a(c,m,t,u,f[s+8],6,1873313359),u=a(u,c,m,t,f[s+15],10,4264355552),t=a(t,u,c,m,f[s+6],15,2734768916),m=a(m,t,u,c,f[s+13],21,1309151649),c=a(c,m,t,u,f[s+4],6,4149444226),u=a(u,c,m,t,f[s+11],10,3174756917),t=a(t,u,c,m,f[s+2],15,718787259),m=a(m,t,u,c,f[s+9],21,3951481745),c=e(c,d),m=e(m,l),t=e(t,h),u=e(u,p);return f=function(t){var e=t,i=0;for(t=8-t.length;i<t;i++)e="0"+e;return e},c=((parseInt("0x"+r(c),16)+parseInt("0x"+r(m),16))%4294967296).toString(16),t=((parseInt("0x"+r(t),16)+parseInt("0x"+r(u),16))%4294967296).toString(16),8>c.length&&(c=f(c)),8>t.length&&(t=f(t)),c+t},getWrapper:function(t,e){var i='cpro_'+t,n=document.getElementById(i);return n||(n=document.getElementById(e)),n}}),oojs.define({name:'feiHongInlay',namespace:'dup.ui.subpainter',deps:{frame:'dup.business.frame',bl:'dup.union.businesslog.businessLogic',param:'dup.business.param',bdom:'dup.union.comm.bdom',dataManager:'dup.ui.manager.dataManager',inlayReact:'dup.ui.subpainter.feiHongInlayReact',expfw:'dup.expfw.expFramework'},paint:function(){if(void 0===window.feiHongInlayReq||1!==window.feiHongInlayReq){window.feiHongInlayReq=1;var t=!!(this.expfw.global[124]&&this.expfw.global[124].flags&&Object.keys(this.expfw.global[124].flags).length>0&&this.expfw.global[124].flags.FlagEnableFeihongInlayIframe),e=!!(this.expfw.global[24]&&this.expfw.global[24].flags&&Object.keys(this.expfw.global[24].flags).length>0&&this.expfw.global[24].flags.FlagEnableFeihongInlayIframe);if(t||e){var i=this.slotInfo=this.dataManager.getSlotInfo();this.render(i)}else this.inlayReact.paint()}},AdHook:function(){},adSlotInfo:{},tabIdx:0,flowAds:3,showSendFlag:0,allowSendMonitor:0,render:function(t){var e=this.dataManager.getTemplateData();if(this.adSlotInfo=t,this.allowSendMonitor=1,parseInt(e.ist)>100){var i=this.dataManager.getCoaData().adind,n=i.split('.');i&&(i=parseInt(n[0],10)||0);var o=i||e.dri-1,a='_'+o;o<=0&&(a='');var r=this.dataManager.getSlotInfo().isOnceSeach?e.wrapperId:e.wrapperId+a,s=this.bl.getWrapper(e.slotId,r)}else var s=this.bl.getWrapper(e.slotId,t.containerId);if(!s)return!1;var d;if(s&&s.parentElement.offsetWidth&&(d=s.parentElement.offsetWidth||0),d){e.iframeWidth,e.iframeHeight;e.iframeWidth=d}this.dataManager.modifyReqUrlIFRSize();var l=e.serviceUrl.split('coa=');if(2===l.length){var h=parseInt(100*Math.random(),10),p=this.expfw.global[124]&&this.expfw.global[124].eid,c=this.expfw.global[24]&&this.expfw.global[24].eid;e.serviceUrl=p?l[0]+"coa=tab%3D0%26ptn%3D"+h+'%26fe_exp_tag%3D'+p+'%26'+l[1]:c?l[0]+"coa=tab%3D0%26ptn%3D"+h+'%26fe_exp_tag%3D'+c+'%26'+l[1]:l[0]+"coa=tab%3D0%26ptn%3D"+h+'%26'+l[1]}var m=this.adSlotInfo.response.placement.userdefine,u=m.match(/hn=\d+/g);this.flowAds=3,void 0===u&&u.length>0&&(this.flowAds=parseInt(u[0].split("=")[1]),this.flowAds<3&&(this.flowAds=3));var f=this.adSlotInfo.paramObj.rw,g=f/5+30,b=3*g+60;e.iframeHeight=b,this.expandAd(s,e);var y=e.iframeId;window.onmessage=function(t){var e=document.getElementById(y);parseInt(t.data)&&e&&(e.style.height=t.data+"px")},this.bindMonitor(y),this.sendMonitorReq(this.allowSendMonitor,"&feihong_type=1")},expandAd:function(t,e,i){var n=['<iframe',' id="{iframeId}"',' width="{iframeWidth}" ','height="{iframeHeight}" ','src="{serviceUrl}{paramString}" ','align="center,center" ','marginwidth="0" ','marginheight="0" ','scrolling="no" ','frameborder="0" ','allowtransparency="true">','</iframe>'].join('');t.innerHTML=this.template(n,e)},template:function(t,e){return t.replace(/{(.*?)}/g,function(t,i,n,o){return e[i]||''})},bindMonitor:function(t){var e=this,i=this.bdom;i.bind(window,"scroll",function(){var n=document.getElementById(t),o=i.getScrollTop(),a=i.getClientHeight(),r=n.offsetTop;0===e.showSendFlag&&r<=o+a-30&&(e.sendMonitorReq(e.allowSendMonitor,"&feihong_type=3"),e.showSendFlag=1)})},sendMonitorReq:function(t,e){if(t){var i=document.createElement('img');i.display='none',i.src='http://202.108.23.15:8030/m.js?&'+e+"&iframe=1"}}}),oojs.define({name:'feiHongPush',namespace:'dup.ui.subpainter',deps:{frame:'dup.business.frame',bl:'dup.union.businesslog.businessLogic',param:'dup.business.param',bdom:'dup.union.comm.bdom',dataManager:'dup.ui.manager.dataManager',animateManager:'dup.ui.manager.animateManager',cookie:'dup.union.comm.cookie',expfw:'dup.expfw.expFramework'},AdHook:function(){},adSlotInfo:{},scriptUrl:"",allowSend:1,tabIdx:0,showSendFlag:0,allowSendMonitor:0,delayTime:5e3,waitTime:15e3,showPeriod:18e5,paint:function(){var t=this.dataManager.getTemplateData(),e=this.slotInfo=this.dataManager.getSlotInfo();if(this.adSlotInfo=e,!this.hasPeriodCookie(t.slotId)){this.setPeriodCookie(t);if(parseInt(t.ist)>100){var i=this.dataManager.getCoaData().adind,n=i.split('.');i&&(i=parseInt(n[0],10)||0);var o=i||t.dri-1,a='_'+o;o<=0&&(a='');var r=this.dataManager.getSlotInfo().isOnceSeach?e.styleOpenApi.wrapperId:e.styleOpenApi.wrapperId+a,s=this.bl.getWrapper(t.slotId,r)}else var s=this.bl.getWrapper(t.slotId,e.containerId);if(!s)return!1;t.iframeWidth=window.innerWidth,this.dataManager.modifyReqUrlIFRSize();var d=(this.adSlotInfo.paramObj.rw,t.serviceUrl.split('coa='));2===d.length&&(t.serviceUrl=d[0]+"coa=%26tab%3D0%26ptn%3D"+d[1]);var l=this.adSlotInfo.response.placement.userdefine;l.match(/hn=\d+/g);self=this,openTimer=window.setTimeout(function(){self.expandAd(s,t)},this.delayTime),closeTimer=window.setTimeout(function(){self.shrinkAd(s,t)},this.delayTime+this.waitTime)}},expandAd:function(t,e,i){var n=['<iframe',' id="{iframeId}"',' width="100%" ','height="100%" ','src="{serviceUrl}{paramString}" ','marginwidth="0" ','marginheight="0" ','scrolling="no" ','frameborder="0" >','</iframe>'].join('');t.style.position='fixed',t.style.width=e.iframeWidth+'px',t.style.height='100%',t.style.margin='0px',t.style.top='0px',t.style.zIndex=99999989,t.style.display="block",t.innerHTML=this.template(n,e),this.animateManager.inlayAnimate(e,t,!0)},shrinkAd:function(t,e){this.animateManager.inlayAnimate(e,t,!1)},template:function(t,e){return t.replace(/{(.*?)}/g,function(t,i,n,o){return e[i]||''})},sendMonitorReq:function(t,e){if(t){var i=document.createElement('img');i.display='none',i.src='http://202.108.23.15:8030/m.js?&'+e+"&iframe=push"}},setPeriodCookie:function(t,e){var i=t.slotId,n=this.showPeriod,o=e||1,a='bd_feihongpush_'+i,r={path:'/',expires:n};this.cookie.setRaw(a,o,r)},rmCookie:function(t){var e='bd_feihongpush_'+t;this.cookie.remove(e)},hasPeriodCookie:function(t){var e='bd_feihongpush_'+t;return this.cookie.getRaw(e,window)}}),oojs.define({name:'mini',namespace:'dup.ui.subpainter',deps:{bdom:'dup.union.comm.bdom',bl:'dup.union.businesslog.businessLogic',logic:'dup.union.comm.logic',unicodew:'dup.union.comm.unicodew',datam:'dup.ui.manager.dataManager'},paint:function(){return},miniCloseBtnHtml:function(t){var e=['<div',' id="miniCloseBtn_{slotId}"',' style="','position:absolute;','left:{left}px;','top:{top}px;','width:{closeBtnWidth}px;','height:{closeBtnHeight}px;','overflow:hidden;','display:block;','background:url(\'{closeBtnImgUrl}\') no-repeat 0 0;','_filter:progid:DXImageTransform.','Microsoft.AlphaImageLoader(','enabled=true,',' sizingMethod=none,',' src=\'{closeBtnImgUrl}\');','_background:none;','cursor:pointer;','background-position:center;','background-size:100% 100%;','">&nbsp;</div>'].join(''),i=t.viewportWidth/10,n=t.iframeWidth/8<i?i:t.iframeWidth/8,o={slotId:t.slotId,left:t.iframeWidth-n,top:-1*n,closeBtnWidth:n,closeBtnHeight:n,closeBtnImgUrl:'//cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose.png'};return this.logic.template(e,o)},addMiniCloseBtnEvent:function(t,e){var i='miniCloseBtn_'+t.slotId,n=document.getElementById(i);this.bdom.bind(n,'click',function(){e()})},drawMiniAd:function(t,e){t.displayType='inlay-float';var i,n,o=this.miniCloseBtnHtml(t),a=['<div id="miniContainer_{slotId}" ','style="position:absolute;width:{iframeWidth}px;height:{iframeHeight}px;','left:{left}px;right:{right}px;top:0px;bottom:0px;margin:auto;z-index:99999990;">',o,'<iframe',' id="{iframeId}"',' width="{iframeWidth}px" ','height="{iframeHeight}px" ','src="{serviceUrl}{paramString}" ','align="center,center" ','marginwidth="0" ','marginheight="0" ','scrolling="no" ','frameborder="0" ','allowtransparency="true">','</iframe>','</div>'].join(''),r=t.bdpos;1===r?(i=0,n=0):(i=t.viewportWidth-t.iframeWidth,n=0);var s={slotId:t.slotId,iframeWidth:t.iframeWidth,iframeHeight:t.iframeHeight,left:i,right:n,iframeId:t.iframeId,serviceUrl:t.serviceUrl,paramString:t.paramString};return e.innerHTML=this.logic.template(a,s),e.style.position='fixed',e.style.width=t.iframeWidth+'px',e.style.height=t.iframeHeight+'px',e.style.margin="0px",e.style.top=(t.viewportHeight-t.iframeHeight)/2+'px',e.style.zIndex=99999989,!0},drawTextBanner:function(t,e){function i(t,e){return Math.floor(t+Math.random()*(e-t))}function n(t){return'//cpro.baidustatic.com/cpro/ui/noexpire/img/minicp/minit'+t+'.png'}var o={TEXT:1,IMG:2},a=new Array(.286,.228,.274,.228,.217),r=i(1,6);r=r===r+1?5:r;var s=i(1,3);s=3===s?2:s;var d=['\\u8d85\\u503c\\u4f53\\u9a8c','\\u66f4\\u591a\\u7cbe\\u5f69','\\u8da3\\u5473\\u7247\\u523b','\\u7cbe\\u5f69\\u5185\\u5bb9','\\u771f\\u60c5\\u56de\\u9988','\\u7cbe\\u5f69\\u5185\\u5bb9'],l=document.createElement('div');l.id='textBanner_'+t.slotId,e.appendChild(l);var h,p,c=['position:fixed;left:{left}px;','right:{right}px;width:{w}px;height:{h}px;','top:{top}px;bottom:auto;margin:auto;z-index:99999990;','display:none;'].join(''),m=t.bdpos,u=t.iframeWidth/7;1===m?(h=5,p=t.viewportWidth-u-5,s===o.IMG&&(r=5)):(h=t.viewportWidth-u-5,p=5);var f={left:h,right:p,w:u,h:t.iframeHeight,top:(t.viewportHeight-t.iframeHeight)/2,text:this.unicodew.toDecode(d[i(0,d.length)]),fsize:.8*u,mtop:.3*u,pad:.3*u,closeBtnImgUrl:'//cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose.png'};l.style.cssText=this.logic.template(c,f);var g=document.createElement('div');g.id='bannerClose_'+t.slotId;var b=['width:{w}px;height:{w}px;','background:url(\'{closeBtnImgUrl}\') no-repeat 0 0;','background-size:contain;'].join('');if(g.style.cssText=this.logic.template(b,f),l.appendChild(g),o.IMG===s){var y=document.createElement('img');y.id='miniTexts_'+t.slotId,y.src=n(r),y.style.width=f.w+'px',y.style.height=f.w/a[r-1]+'px',y.style.paddingTop=f.pad+'px';document.all?y.style.filter="alpha(opacity=80)":y.style.opacity=.8,l.appendChild(y)}else{var v=document.createElement('p');v.id='miniTexts_'+t.slotId;var w=['text-align:center;font-size:{fsize}px;','background: -webkit-linear-gradient(rgba(70,130,180,0.7),rgba(135,206,250,0.7),rgba(255,235,205,0.7));','background: -o-linear-gradient(rgba(70,130,180,0.7),rgba(135,206,250,0.7),rgba(255,235,205,0.7));','background: -moz-linear-gradient(rgba(70,130,180,0.7),rgba(135,206,250,0.7),rgba(255,235,205,0.7));','background: linear-gradient(rgba(70,130,180,0.7),rgba(135,206,250,0.7),rgba(255,235,205,0.7));','font-family:SimHei,Microsoft YaHei,Microsoft JhengHei,MingLiU;','color:black;margin-top:{mtop}px;','padding-top:{pad}px;padding-bottom:{pad}px'].join('');v.style.cssText=this.logic.template(w,f),v.innerHTML=f.text,l.appendChild(v)}}}),oojs.define({name:'topbanner',namespace:'dup.ui.subpainter',deps:{bdom:'dup.union.comm.bdom',logic:'dup.union.comm.logic',unicodew:'dup.union.comm.unicodew',bl:'dup.union.businesslog.businessLogic',animat:'dup.ui.manager.animateManager',datam:'dup.ui.manager.dataManager'},msgData:{},paint:function(){function t(){r.bdom.getScrollTop(window)>e.iframeHeight&&!s&&(r.bl.sendMonitorLog('topbanner',{stat:3,tamp:(new Date).getTime(),ist:e.ist,scpos:r.bdom.getScrollTop(window),tu:e.slotId,pageid:i}),s=!0)}this.msgData=new Object,this.msgData={dspid:0,title:'',curl:'#',scale:0};var e=this.datam.getTemplateData(),i=(new Date).getTime().toString();e.ist>=100&&this.bl.sendMonitorLog('topbanner',{stat:1,tamp:(new Date).getTime(),ist:e.ist,scpos:this.bdom.getScrollTop(window),tu:e.slotId,pageid:i});var n;if(2===e.tbpos)n=this.bl.getWrapper(e.slotId,e.wrapperId);else{n=document.createElement('div'),n.id='topBannerChapin_wrapper_'+e.slotId;var o=document.body.firstChild;document.body.insertBefore(n,o)}if(!n)throw new Error('No wrapper was found! Please check your delivery code.');this.addTopBanner(e,n);var a=document.getElementById('topBannerChapin_'+e.iframeId),r=this;e.ist>=100&&(a.onload=a.onreadystatechange=function(){r.bl.sendMonitorLog('topbanner',{stat:2,tamp:(new Date).getTime(),ist:e.ist,scpos:r.bdom.getScrollTop(window),tu:e.slotId,pageid:i})});var s=!1;e.ist>=100&&this.bdom.bind(window,'onscroll',t)},getTopbannerSkin:function(t){var e,i,n,o,a,r=t.tbskin;switch(e='shrink',i='expand',n='.png',r){case 2:a='#ffffff',o='#283d50';break;case 1:default:a='#2e87dd',o='#e6ebf1'}return{shIcon:e+r+n,exIcon:i+r+n,lookNum:r,bgColor:o,textColor:a,srcBase:'//cpro.baidustatic.com/cpro/ui/noexpire/img/chapin/'}},topBannerTextHtml:function(t){
var e=this.getTopbannerSkin(t),i=['<div id="topBannerText" style="background-color:{bgColor};font-family:Microsoft YaHei,',"Arial,sans-serif;width:{w}px;height:{h}px;font-size:{fs}px;padding:0px;color:{textColor};margin-top:1px;overflow:hidden;text-align:left;vertical-align:middle;\"><span id=\"topbanner_text\" style=\"display:inline-block;margin-left:{l}px;margin-right:{tmr}px;font-weight:bold;vertical-align:middle;color:{textColor};\">","{initText}</span><img id=\"lookBtn\" src=\"{lookIcon}\" style=\"display:inline-block;width:{lw}px;height:{lh}px;margin-top:{ltop}px;vertical-align:middle;\"/>",'<img id="topBannerIconImg" src="{iconUrl}" style="position:absolute;width:{iconW}px;display:inline-block;','height:{iconH}px;margin-top:{t}px;left:{il}px;" />','</div>'].join(''),n=e.srcBase,o=n+e.shIcon,a=n+'look'+e.lookNum+'.png',r=t.iframeWidth/12,s=r/80,d={w:t.iframeWidth,h:r,fs:34*s,iconW:30*s,iconH:22*s,iconUrl:o,initText:this.unicodew.toDecode("\\u66f4\\u591a\\u7cbe\\u5f69\\u5185\\u5bb9"),il:23*t.iframeWidth/25,l:35*s,t:25*s,bgColor:e.bgColor,textColor:e.textColor,lookIcon:a,lh:55*s,lw:150*s,ltop:12*s,tmt:15*s,tmr:34*s*2};return this.logic.template(i,d)},changeShowIcon:function(t,e){var i=this.getTopbannerSkin(e),n=i.srcBase,o=n+i.shIcon,a=n+i.exIcon,r=t?o:a;document.getElementById('topBannerIconImg').src=r},changeShowText:function(t){var e,i=document.getElementById('topbanner_text'),n='\\u66f4\\u591a\\u7cbe\\u5f69\\u5185\\u5bb9';e=this.msgData.title?this.msgData.title+this.unicodew.toDecode("\\u0020\\u7b49\\u7cbe\\u5f69\\u5185\\u5bb9"):this.unicodew.toDecode(n),i.innerText=t?this.unicodew.toDecode(n):e,document.getElementById('topBannerText').style.marginTop=t?'1px':'0px'},drawTopBannerAd:function(t,e){t.displayType='inlay-float';var i=this.topBannerTextHtml(t),n=['<div id="topBannerContainer" style="overflow:hidden;">','<iframe',' id="topBannerChapin_{iframeId}"',' width="{iframeWidth}px" ','height="{iframeHeight}px" ','src="{serviceUrl}{paramString}" ','align="center,center" ','marginwidth="0" ','marginheight="0" ','scrolling="no" ','frameborder="0" ','allowtransparency="true">','</iframe>','</div>',i].join('');return e.innerHTML=this.logic.template(n,t),e.style.width=t.iframeWidth+'px',e.style.margin='0px',e.style.padding='0px',e.style.left='0px',2===t.bstp&&this.floatStype(t,e),!0},floatStype:function(t,e){e.style.position='fixed',e.style.top='0px',e.style.zIndex=9999999;var i=document.createElement('div');i.id='topBannerBlankdiv',i.style.width=t.iframeWidth,i.style.height=1.055*t.iframeHeight;var n=document.body.firstChild;document.body.insertBefore(i,n)},getMessage:function(t,e){var i,n=this;this.bdom.bind(window,'message',function(o){i=n.logic.jsonToObj(o.data),i.dspid&&(n.setMsgData(i),n.upTextByMsg(t,e))})},setMsgData:function(t){if(t&&(this.msgData.dspid=parseInt(t.dspid,10)||0,this.msgData.title=t.title||'',this.msgData.curl=t.curl||'#',t.scale)){var e=parseFloat(t.scale);this.msgData.scale=e}},upTextByMsg:function(t,e){function i(t){window.open(o),t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0}var n=document.getElementById('topbanner_text');if(!n||4!=this.msgData.dspid&&6!=this.msgData.dspid&&1!=this.msgData.dspid)t.style.display='none';else{t.style.display='block';var o=this.msgData.curl;if(this.bdom.bind(n,'click',i),this.bdom.bind(document.getElementById('lookBtn'),'click',i),this.msgData.scale>1){var a=e.iframeWidth/this.msgData.scale;document.getElementById('topBannerChapin_'+e.iframeId).style.height=a+'px',e.iframeHeight=a;document.getElementById('topBannerContainer').style.height=a+'px'}}},addtopTextEvent:function(t){function e(){n=!n,s.animat.inlayAnimate(t,a,n),s.changeShowIcon(n,t),s.changeShowText(n),i&&window.clearTimeout(i),r&&'none'!==r.style.display&&(r.style.display='none')}var i,n=!0,o=document.getElementById('topBannerText'),a=document.getElementById('topBannerContainer'),r=document.getElementById('topBannerBlankdiv'),s=this;2!==t.aushr&&(i=window.setTimeout(e,1e3*t.waitSeconds)),s.bdom.bind(o,'click',e)},addTopBanner:function(t,e){this.getMessage(e,t),this.drawTopBannerAd(t,e),this.upTextByMsg(e,t),this.addtopTextEvent(t)}}),oojs.define({name:'scrollBottom',namespace:'dup.ui.subpainter',deps:{bdom:'dup.union.comm.bdom',frame:'dup.business.frame',bl:'dup.union.businesslog.businessLogic',param:'dup.business.param',logic:'dup.union.comm.logic',dataManager:'dup.ui.manager.dataManager',footerAnalysis:'dup.ui.analysis.footerAnalysis',feedAnalysis:'dup.ui.analysis.feedAnalysis'},paint:function(){({showIngHtml:'<div class="loading-content"><div class="load-effect"></div><span class="load-text">{loading}</span></div><style type="text/css">.loading-content{height:25px;line-height: 25px;text-align: center;font-family: {fontFamily};}.load-effect{display:inline-block;vertical-align:middle;width:18px;height:18px;background:url(//cpro.baidustatic.com/cpro/ui/noexpire/img/chapin/loading.png) no-repeat 0 0;background-size:100%;animation-name:loadRotate;animation-duration:1.3s;animation-iteration-count:infinite;animation-timing-function:linear;}@keyframes loadRotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.load-text{margin-left:13px;vertical-align:middle;color:#ccc;font-size:14px}</style>',template:function(t,e){var i=t;for(key in e){var n=new RegExp("{"+key+"}","g");i=i.replace(n,e[key])}return i},init:function(t){this.oojs=t,this.initEnv(),this.initWrapper(),this.initEvent()},initEnv:function(){var t=this.slotInfo=this.oojs.dataManager.getSlotInfo();if(this.templateData=this.oojs.dataManager.getTemplateData(),this.firstShow=!0,this.coaParam=this.oojs.dataManager.getCoaData(),this.scale=1,this.adsWidth=this.oojs.bdom.getClientWidth(),this.adsHeight=Math.round(this.adsWidth/this.scale),this.coaParam.tn="template_inlay_all_mobile_lu_native",this.coaParam.pat="6",this.coaParam.ist="113",this.coaParam.scale="20."+Math.round(20/this.scale),this.coaParam.ptt="2",this.coaParam.ptFS="14",this.coaParam.ptFC="#000000",this.coaParam.ptBC="#cc0000",this.coaParam.titFF="%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91",this.coaParam.titFS="14",this.coaParam.ptc="%E7%8C%9C%E4%BD%A0%E5%96%9C%E6%AC%A2",this.slotInfo.paramObj.sz=this.adsWidth+"x"+this.adsHeight,this.slotInfo.paramObj.coa=this.generateCoaParam(),this.slotInfo.isOnceSeach){var e=this.slotInfo.containerId+'_frame',i=document.getElementById(e);i&&(i.width=0,i.height=0),this.slotInfo.paramObj.ari=2,this.slotInfo.paramObj.dc=2,this.slotInfo.paramObj.dtm='HTML_POST'}var n=this.oojs.frame.processFrameData(t);this.iframeHtml=this.oojs.frame.renderFrameHTML(n),this.footer=this.oojs.footerAnalysis.getFooter()},initWrapper:function(){var t=this.slotInfo.isOnceSeach?this.templateData.wrapperId:this.templateData.wrapperId+"_"+this.templateData.dri;this.adsWrapper=this.oojs.bl.getWrapper(this.templateData.slotId,t),this.adsWrapper.innerHTML=this.template(this.showIngHtml,{adsHeight:this.adsHeight,fontFamily:unescape("%u5FAE%u8F6F%u96C5%u9ED1"),loading:unescape("%u52A0%u8F7D%u4E2D%B7%B7%B7")}),this.showAds()},initEvent:function(){var t=this;t.oojs.bdom.bind(window,'onscroll',function(){t.showAds()})},showAds:function(){this.oojs.bdom.getScrollTop(window)+this.oojs.bdom.getClientHeight()>=this.oojs.bdom.getPosition(this.adsWrapper).top&&this.firstShow&&(this.firstShow=!1,setTimeout(this.proxy(this,function(){this.adsWrapper.innerHTML+=this.iframeHtml,this.adsIframe=this.adsWrapper.getElementsByTagName("iframe")[0],this.adsIframe.style.display="none",this.adsIframe.id=this.templateData.iframeId;var t=this.adsWrapper.getElementsByClassName("loading-content")[0];this.adsIframe.onload=this.adsIframe.onreadystatechange=function(){t.style.display="none",this.style.display="block"},this.adsIframe.style.width=this.adsWidth+"px",this.adsIframe.style.height=this.adsHeight+"px"}),100))},proxy:function(t,e){return function(){return e.apply(t,arguments)}},generateCoaParam:function(){var t=[];for(key in this.coaParam)t.push(key+"="+this.coaParam[key]);var e=t.join("&");return encodeURIComponent(e)}}).init(this)}}),oojs.define({name:'fixed',namespace:'dup.ui.subpainter',deps:{bl:'dup.union.businesslog.businessLogic',datam:'dup.ui.manager.dataManager',expfw:'dup.expfw.expFramework',bdom:'dup.union.comm.bdom'},delayTime:500,AdShowInterval:2e3,template:function(t,e){return t.replace(/{(.*?)}/g,function(t,i,n,o){return e[i]||''})},paint:function(){var t=this.datam.getTemplateData(),e=this.datam.getCoaData().adind,i=e.split('.');e&&(e=parseInt(i[0],10)||0);var n=e||t.dri-1,o='_'+n;n<=0&&(o='');var a=this.datam.getSlotInfo().isOnceSeach?t.wrapperId:t.wrapperId+o,r=this.bl.getWrapper(t.slotId,a);if(!r)return!1;i.length>1&&(this.delayTime=parseInt(i[1],10)*this.AdShowInterval);var s;parseInt(t.ist,10);if(r&&r.parentElement.offsetWidth&&(s=r.parentElement.offsetWidth||0),s){var d=t.iframeWidth,l=t.iframeHeight;t.iframeWidth=s,t.ist&&121!=t.ist&&21!=t.ist&&(t.iframeHeight=Math.ceil(s/d*l))}this.datam.modifyReqUrlIFRSize();var h=this.bdom.getPosition(r);if(t.viewportHeight>h.top)return window.console.log('Warning!!Forbiding showing ads at first screen.'),!1;if((parseInt(i[1],10)||0)<=1)this.expandAd(r,t);else{var p=this,c=this.datam.deepCopy(t),m=!1;setTimeout(function(){m||(p.expandAd(r,c),m=!0)},p.delayTime),this.bdom.bind(window,'onscroll',function(){!m&&p.isWindowNearby(r)&&(p.expandAd(r,c),m=!0)}),p.isWindowNearby(r)&&(p.expandAd(r,c),m=!0)}},isWindowNearby:function(t){var e=this.bdom.getScrollTop(window),i=this.datam.getTemplateData().viewportHeight,n=e+i,o=this.bdom.getPosition(t).top,a=Math.max(0,o-1.5*i),r=o+1.5*i;return n<o&&n>a||(e>o&&e<r||n>o&&e<o)},expandAd:function(t,e,i){var n=['<iframe',' id="{iframeId}"',' width="{iframeWidth}" ','height="{iframeHeight}" ','src="{serviceUrl}{paramString}" ','align="center,center" ','marginwidth="0" ','marginheight="0" ','scrolling="no" ','frameborder="0" ','allowtransparency="true">','</iframe>'].join('');i&&this.expfw.addEflagToCoa(i,e),t.innerHTML=this.template(n,e)}}),oojs.define({name:'adp',namespace:'dup.ui.subpainter',deps:{bdom:'dup.union.comm.bdom',datam:'dup.ui.manager.dataManager',showact:'dup.ui.manager.showActionManager',footerAnalysis:'dup.ui.analysis.footerAnalysis',feedAnalysis:'dup.ui.analysis.feedAnalysis',uexpm:'dup.ui.manager.userExperimentManager',expfw:'dup.expfw.expFramework',msg:'dup.ui.manager.messageManager'},ReadyStateTime:6e3,paint:function(){function t(){e.datam.restorDataField(),e.adpPaint()}var e=this;document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),!document.readyState||"interactive"!=document.readyState.toLowerCase()&&"complete"!=document.readyState.toLowerCase()||e.adpPaint(),setTimeout(function(){e.completeTimeout=!0,e.adpPaint()},e.ReadyStateTime),window.addEventListener('load',t,!1)):this.adpPaint(),this.datam.saveDataField()},adpPaint:function(){var t=this.datam.getMultiTuCoaList();if(t.length<1)return void window.console.log('Warning!!There is no tuDatas information finded!');this._tuCoaDatasReSort(t),this.showact.initArticleInfo();for(var e=this.istsMappingCoa(t),i=0;i<t.length;i++){var n=parseInt(t[i].ist,10)||0;e[i].ist=parseInt(100,10)+n}this.uexpm.userExperimentFilte(e),window.bdMobAutoAdsIndex=window.bdMobAutoAdsIndex||1;for(var o=window.bdMobAutoAdsIndex,a=0;a<t.length;a++){var r=this.bdom.isArray(e[a].pos)?e[a].pos:parseInt(e[a].pos,10)||0,n=parseInt(e[a].ist,10)||0;if(n>100&&(n-=100),!window.bdMobAutoAdsFlag||!window.bdMobAutoAdsFlag[n])if(window.bdMobAutoAdsFlag=window.bdMobAutoAdsFlag||{},window.bdMobAutoAdsFlag[n]=1,19===n){continue;var i,s,d}else if(18===n){if(!r)continue;var l=this.datam.getArticleEnd(),s=this.showact.findInsertPos(this.getPosPercent(r)/100);if(l&&(s=l),!s)continue;e[a].ist="124",e[a].pat="27",e[a].tn="template_inlay_all_mobile_lu_native_ad_rainbow",e[a].at="linkunit";var d=this.getPosIsAfter(r);delete e[a].pos,e[a].adind=''+o+'.1',this.insertToGivingPos(s,d,o++,e[a])}else if(24===n){if(!r)continue;var l=this.datam.getArticleEnd(),s=this.showact.findInsertPos(this.getPosPercent(r)/100);if(l&&(s=l),!s)continue;var d=this.getPosIsAfter(r);delete e[a].pos,e[a].adind=''+o+'.1',this.insertToGivingPos(s,d,o++,e[a])}else if(10===n){e[a].adind=''+o+'.1';var h=document.body.firstChild;document.body.insertBefore(this.createAdsCode(o++,e[a]),h)}else if(13==n){e[a].adind=''+o+'.1';var p=this.footerAnalysis.getFooter();if(e[a].ist="122",e[a].pat="27",e[a].tn="template_inlay_all_mobile_lu_native_ad_rainbow",e[a].at="linkunit",this.uexpm.filterBottomAds(p))continue;var c=this.createAdsCode(o++,e[a]);p?p.parentNode.insertBefore(c,p):document.body.appendChild(c)}else if(22==n){e[a].adind=''+o+'.1';var p=this.footerAnalysis.getFooter(),c=this.createAdsCode(o++,e[a]);p?p.parentNode.insertBefore(c,p):document.body.appendChild(c)}else if(21==n){if(document.readyState&&"complete"!=document.readyState.toLowerCase()&&!this.completeTimeout){window.bdMobAutoAdsFlag[n]=0;continue}var m=this.feedAnalysis.findFeedAreas(e[a]);this.uexpm.filterSmartFeed(m);for(var i=0;i<m.length;i++){var u=m[i],f={};f.__proto__=e[a],f.adind=''+o+"."+(i+1),f.tn="template_inlay_all_mobile_lu_native",u.type==this.feedAnalysis.FeedType.ImageTxt?(f.pat=15,f.cpro_h=u.feedHeight,f.ptp=u.imagePosition-1,f.piw=u.imageWidth,f.pih=u.imageHeight,f.conpt=u.offsetTop,f.conpb=u.offsetBottom,f.ptFS=u.fontSize,u.fontSize>10&&(f.titFS=u.fontSize-2),f.conpl=u.offsetLeft,f.conpr=u.offsetRight,u.fontFamily&&""!=u.fontFamily&&(f.ptFF=encodeURIComponent(u.fontFamily)),f.ptFW=0):u.type==this.feedAnalysis.FeedType.Image?(f.pat=21,f.cpro_h=u.feedHeight,f.piw=u.imageWidth,f.pih=u.imageHeight,f.conpt=u.offsetTop,f.conpb=u.offsetBottom,f.ptFS=u.fontSize,f.ptLH=u.lineHeight,f.conpl=u.offsetLeft,f.conpr=u.offsetRight,f.ptFW=0,u.fontFamily&&""!=u.fontFamily&&(f.ptFF=encodeURIComponent(u.fontFamily))):u.type==this.feedAnalysis.FeedType.Title&&(f.pat=20,f.cpro_h=Math.max(u.lineHeight,26),f.titFS=u.fontSize,f.conpl=u.offsetLeft,f.conpr=1,f.conpt=0,f.conpb=0,f.ptn=1,f.itecpl=10,f.ptDesc=2,f.ptLogoFS=10,f.ptp=2,f.ptLogo=1,f.ptFW=0,u.fontFamily&&""!=u.fontFamily&&(f.ptFF=encodeURIComponent(u.fontFamily)),u.fontColor&&""!=u.fontColor&&(f.ptFC=u.fontColor));var g=this.createAdsCode(o++,f);this.showact.insertAfter(g,u.anchorNode)}}else e[a].adind=''+o+'.1',document.body.appendChild(this.createAdsCode(o++,e[a]))}window.bdMobAutoAdsIndex=o,this.msg.initAdpPostMessage()},_tuCoaDatasReSort:function(t){for(var e=[10,19,18,13,21],i=[],n=0;n<e.length;n++)for(var o in t)if(t[o].ist==e[n]){i.push(t[o]);break}t=i},istsMappingCoa:function(t){for(var e=[],i=!!(this.expfw.global[20]&&this.expfw.global[20].flags&&Object.keys(this.expfw.global[20].flags).length>0&&this.expfw.global[20].flags.FlagEnableDownCoa),n=this.expfw.global[20]&&this.expfw.global[20].eid,o=0;o<t.length;o++){var a={},r=parseInt(t[o].ist,10)||0;if(n&&(a.fe_exp_tag=n),i||(a.tn="template_inlay_all_mobile_lu_native"),i||(a.pat="6"),18===r)i||(a.wn=3,a.hn=1),a.pos=3991;else if(24===r)a.pos=3992;else if(19===r){var s=this.getInArticleMaxAdn(t[o]),d=[];if(s>0)for(var l=Math.ceil(100/(s+1)),h=1;h<=s;h++){var p=l*h;p=p<10?'0'+p:p,d.push('3'+p+'0')}i||(a.wn=3,a.hn=1),a.pos=d}else if(10===r)a.tn='template_inlay_all_mobile_lu_js_exp_insert_screen_wap_23_10',delete a.pat;else if(!i)for(var c in t[o])t[o].hasOwnProperty(c)&&(a[c]=t[o][c]);e.push(a)}return e},getInArticleMaxAdn:function(t){var e=this.datam.getNodeTree().length,i=parseInt(t.content_max,10)||1,n=.5,o=this.datam.getTemplateData().viewportHeight,a=this.showact.getArticleLength(),r=a/o;if(this.expfw.global[20]&&this.expfw.global[20].flags&&Object.keys(this.expfw.global[20].flags).length>0&&this.expfw.global[20].flags.FlagAdjustAdn1sc){n=1/(1+r/(parseInt(this.expfw.global[20].flags.FlagAdjustAdn1sc,10)||4))}var s,d=Math.min(i*Math.round(r),e-1);return s=r>1?Math.round(r*n):1,s=s>d?d:s},getPosBlock:function(t){return Math.floor(t/1e3)},getPosPercent:function(t){return Math.floor((t-1e3*this.getPosBlock(t))/10)},getPosIsAfter:function(t){return!!(t-10*Math.floor(t/10))},createAdsCode:function(t,e){e=e||'',t=t||0;var i=this.datam.getTemplateData().slotId,n=document.createElement('div');n.id='autoInsertWapper_'+i+'_'+t;var o=document.createElement('div');o.id='cpro_'+i+'_'+t;var a=document.createElement('script');a.type='text/javascript';var r='id:"'+i+'",';if(e&&!this.bdom.isEmpty(e))for(var s in e)r+=s+':"'+e[s]+'",';r.length>1&&(r=r.substr(0,r.length-1));var d='(window["cpro_mobile_slot"] = window["cpro_mobile_slot"] || []).push({'+r+"});";a.innerHTML=d;var l=document.createElement('script');return l.src='//cpro.baidustatic.com/cpro/ui/cm.js',l.type='text/javascript',n.appendChild(o),n.appendChild(a),n.appendChild(l),n},insertToGivingPos:function(t,e,i,n){if(t){var o=this.createAdsCode(i,n);e?this.showact.insertAfter(o,t):t.parentNode.insertBefore(o,t)}},updateImageStatus:function(){var t=document.getElementsByTagName("image"),e=!0;for(var i in t)if(!(i.readyState&&"complete"==i.readyState||i.complete)){e=!1;break}return e}}),oojs.define({name:'dubao',namespace:'dup.ui.subpainter',deps:{frame:'dup.business.frame',bl:'dup.union.businesslog.businessLogic',param:'dup.business.param',dataManager:'dup.ui.manager.dataManager'},paint:function(){var t=this.slotInfo=this.dataManager.getSlotInfo();this.render(t)},AdHook:function(){},render:function(t){t.containerId;if(t.isOnceSeach){var e=t.containerId+'_frame',i=document.getElementById(e);i&&(i.width=0,i.height=0)}var n=t.response.placement.userdefine,o="";if(void 0!==n)for(var a=n.split("|"),r=0;r<a.length;r++)tmp=a[r].split("="),"tn"==tmp[0]&&(o=tmp[1]);if(""==o||"template_inlay_all_mobile_lu_dubao"==o){var s=t.paramObj;t.isOnceSeach&&(s.ari=2,s.dc=2,s.dtm='HTML_POST'),t.paramObj=s;var d=this.param.getPmpRequestUrl(t);if(d=d.replace('stid=5&','stid=0&'),t.isAsync){var l=document.createElement('script');l.src=d,l.type='text/javascript',l.charset='UTF-8';var h=document.getElementsByTagName('script')[0];h.parentNode.insertBefore(l,h)}else{var l=document.createElement('script');l.src=d,l.charset="UTF-8",document.body.appendChild(l)}}}}),oojs.define({name:'register',namespace:'dup.register',deps:{},istRegisted:{},SUBPAINTER_REGISTER:function(t,e){if(t in this.istRegisted)throw new Error('Registing FAIL! The ist value:'+t+' was registed.');this.istRegisted[t]=e;var i=t+100;this.istRegisted[i]=e},initRegister:function(){this.istRegisted=new Object,this.SUBPAINTER_REGISTER(1,'floatInsert'),this.SUBPAINTER_REGISTER(2,'floatInsert'),this.SUBPAINTER_REGISTER(3,'floatInsert'),this.SUBPAINTER_REGISTER(4,'floatInsert'),this.SUBPAINTER_REGISTER(5,'floatInsert'),this.SUBPAINTER_REGISTER(6,'floatInsert'),this.SUBPAINTER_REGISTER(11,'inlayInsert'),this.SUBPAINTER_REGISTER(12,'inlayInsert'),this.SUBPAINTER_REGISTER(7,'mini'),this.SUBPAINTER_REGISTER(10,'topbanner'),this.SUBPAINTER_REGISTER(13,'scrollBottom'),this.SUBPAINTER_REGISTER(20,'adp'),this.SUBPAINTER_REGISTER(19,'fixed'),this.SUBPAINTER_REGISTER(18,'fixed'),this.SUBPAINTER_REGISTER(0,'fixed'),this.SUBPAINTER_REGISTER(21,'fixed'),this.SUBPAINTER_REGISTER(22,'feiHong'),this.SUBPAINTER_REGISTER(23,'dubao'),this.SUBPAINTER_REGISTER(24,'feiHongInlay'),this.SUBPAINTER_REGISTER(25,'feiHongReact'),this.SUBPAINTER_REGISTER(26,'feiHongInlayReact'),this.SUBPAINTER_REGISTER(27,'feiHongPush')},getRegistData:function(){return this.istRegisted}}),oojs.define({name:'wapInsert',namespace:'dup.ui.painter',deps:{datam:'dup.ui.manager.dataManager',register:'dup.register.register',expfw:'dup.expfw.expFramework',floatInsert:'dup.ui.subpainter.floatInsert',inlayInsert:'dup.ui.subpainter.inlayInsert',mini:'dup.ui.subpainter.mini',topbanner:'dup.ui.subpainter.topbanner',scrollBottom:'dup.ui.subpainter.scrollBottom',feiHong:'dup.ui.subpainter.feiHong',feiHongInlay:'dup.ui.subpainter.feiHongInlay',feiHongPush:'dup.ui.subpainter.feiHongPush',dubao:'dup.ui.subpainter.dubao',fixed:'dup.ui.subpainter.fixed',adp:'dup.ui.subpainter.adp',bl:'dup.union.businesslog.businessLogic'},render:function(t){if(this.datam.initSlotData(t),t.isOnceSeach){var e=t.containerId+'_frame',i=document.getElementById(e);i&&(i.width="0",i.height="0")}this.register.initRegister();var n=this.datam.getTemplateData().ist;if(!(n in{19:1,119:1})){20==n?'string'==typeof t.paramObj.apdi&&'string'==typeof t.paramObj.udi&&(window.apdi=t.paramObj.apdi,window.udi=t.paramObj.udi):'string'==typeof window.apdi&&'string'==typeof window.udi&&(t.paramObj.apdi=window.apdi,t.paramObj.udi=window.udi);var o=this.register.getRegistData();if(n in o)try{this.expfw.diversionExp(),this[o[n]].paint()}catch(t){var a={};a.ist=n,a.message=encodeURIComponent(t.stack),this.bl.sendErrorLog("exception",a)}else window.console.log('WARNING!!The ist:'+n+' is not resigted!')}}})}(oojsGlobal.oojs)}();